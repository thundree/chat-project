var lA=Object.defineProperty;var uA=(t,e,n)=>e in t?lA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xu=(t,e,n)=>uA(t,typeof e!="symbol"?e+"":e,n);function cA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var fA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ew(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hp={exports:{}},Zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function dA(){if(Tb)return Zu;Tb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Zu.Fragment=e,Zu.jsx=n,Zu.jsxs=n,Zu}var Cb;function hA(){return Cb||(Cb=1,hp.exports=dA()),hp.exports}var F=hA(),mp={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function mA(){if(Sb)return vt;Sb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function O(I,Q,Re){this.props=I,this.context=Q,this.refs=N,this.updater=Re||E}O.prototype.isReactComponent={},O.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},O.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function B(){}B.prototype=O.prototype;function P(I,Q,Re){this.props=I,this.context=Q,this.refs=N,this.updater=Re||E}var q=P.prototype=new B;q.constructor=P,k(q,O.prototype),q.isPureReactComponent=!0;var J=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function H(I,Q,Re,ke,ze,rt){return Re=rt.ref,{$$typeof:t,type:I,key:Q,ref:Re!==void 0?Re:null,props:rt}}function be(I,Q){return H(I.type,Q,void 0,void 0,void 0,I.props)}function ne(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function ye(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Re){return Q[Re]})}var Ce=/\/+/g;function Se(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?ye(""+I.key):Q.toString(36)}function Ee(){}function me(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ee,Ee):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Me(I,Q,Re,ke,ze){var rt=typeof I;(rt==="undefined"||rt==="boolean")&&(I=null);var Fe=!1;if(I===null)Fe=!0;else switch(rt){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(I.$$typeof){case t:case e:Fe=!0;break;case _:return Fe=I._init,Me(Fe(I._payload),Q,Re,ke,ze)}}if(Fe)return ze=ze(I),Fe=ke===""?"."+Se(I,0):ke,J(ze)?(Re="",Fe!=null&&(Re=Fe.replace(Ce,"$&/")+"/"),Me(ze,Q,Re,"",function(_e){return _e})):ze!=null&&(ne(ze)&&(ze=be(ze,Re+(ze.key==null||I&&I.key===ze.key?"":(""+ze.key).replace(Ce,"$&/")+"/")+Fe)),Q.push(ze)),1;Fe=0;var yt=ke===""?".":ke+":";if(J(I))for(var Ze=0;Ze<I.length;Ze++)ke=I[Ze],rt=yt+Se(ke,Ze),Fe+=Me(ke,Q,Re,rt,ze);else if(Ze=C(I),typeof Ze=="function")for(I=Ze.call(I),Ze=0;!(ke=I.next()).done;)ke=ke.value,rt=yt+Se(ke,Ze++),Fe+=Me(ke,Q,Re,rt,ze);else if(rt==="object"){if(typeof I.then=="function")return Me(me(I),Q,Re,ke,ze);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function X(I,Q,Re){if(I==null)return I;var ke=[],ze=0;return Me(I,ke,"","",function(rt){return Q.call(Re,rt,ze++)}),ke}function ue(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(Re){(I._status===0||I._status===-1)&&(I._status=1,I._result=Re)},function(Re){(I._status===0||I._status===-1)&&(I._status=2,I._result=Re)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var ae=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ve(){}return vt.Children={map:X,forEach:function(I,Q,Re){X(I,function(){Q.apply(this,arguments)},Re)},count:function(I){var Q=0;return X(I,function(){Q++}),Q},toArray:function(I){return X(I,function(Q){return Q})||[]},only:function(I){if(!ne(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},vt.Component=O,vt.Fragment=n,vt.Profiler=a,vt.PureComponent=P,vt.StrictMode=r,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,vt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ee.H.useMemoCache(I)}},vt.cache=function(I){return function(){return I.apply(null,arguments)}},vt.cloneElement=function(I,Q,Re){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ke=k({},I.props),ze=I.key,rt=void 0;if(Q!=null)for(Fe in Q.ref!==void 0&&(rt=void 0),Q.key!==void 0&&(ze=""+Q.key),Q)!ge.call(Q,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&Q.ref===void 0||(ke[Fe]=Q[Fe]);var Fe=arguments.length-2;if(Fe===1)ke.children=Re;else if(1<Fe){for(var yt=Array(Fe),Ze=0;Ze<Fe;Ze++)yt[Ze]=arguments[Ze+2];ke.children=yt}return H(I.type,ze,void 0,void 0,rt,ke)},vt.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},vt.createElement=function(I,Q,Re){var ke,ze={},rt=null;if(Q!=null)for(ke in Q.key!==void 0&&(rt=""+Q.key),Q)ge.call(Q,ke)&&ke!=="key"&&ke!=="__self"&&ke!=="__source"&&(ze[ke]=Q[ke]);var Fe=arguments.length-2;if(Fe===1)ze.children=Re;else if(1<Fe){for(var yt=Array(Fe),Ze=0;Ze<Fe;Ze++)yt[Ze]=arguments[Ze+2];ze.children=yt}if(I&&I.defaultProps)for(ke in Fe=I.defaultProps,Fe)ze[ke]===void 0&&(ze[ke]=Fe[ke]);return H(I,rt,void 0,void 0,null,ze)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(I){return{$$typeof:h,render:I}},vt.isValidElement=ne,vt.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:ue}},vt.memo=function(I,Q){return{$$typeof:p,type:I,compare:Q===void 0?null:Q}},vt.startTransition=function(I){var Q=ee.T,Re={};ee.T=Re;try{var ke=I(),ze=ee.S;ze!==null&&ze(Re,ke),typeof ke=="object"&&ke!==null&&typeof ke.then=="function"&&ke.then(ve,ae)}catch(rt){ae(rt)}finally{ee.T=Q}},vt.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},vt.use=function(I){return ee.H.use(I)},vt.useActionState=function(I,Q,Re){return ee.H.useActionState(I,Q,Re)},vt.useCallback=function(I,Q){return ee.H.useCallback(I,Q)},vt.useContext=function(I){return ee.H.useContext(I)},vt.useDebugValue=function(){},vt.useDeferredValue=function(I,Q){return ee.H.useDeferredValue(I,Q)},vt.useEffect=function(I,Q,Re){var ke=ee.H;if(typeof Re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ke.useEffect(I,Q)},vt.useId=function(){return ee.H.useId()},vt.useImperativeHandle=function(I,Q,Re){return ee.H.useImperativeHandle(I,Q,Re)},vt.useInsertionEffect=function(I,Q){return ee.H.useInsertionEffect(I,Q)},vt.useLayoutEffect=function(I,Q){return ee.H.useLayoutEffect(I,Q)},vt.useMemo=function(I,Q){return ee.H.useMemo(I,Q)},vt.useOptimistic=function(I,Q){return ee.H.useOptimistic(I,Q)},vt.useReducer=function(I,Q,Re){return ee.H.useReducer(I,Q,Re)},vt.useRef=function(I){return ee.H.useRef(I)},vt.useState=function(I){return ee.H.useState(I)},vt.useSyncExternalStore=function(I,Q,Re){return ee.H.useSyncExternalStore(I,Q,Re)},vt.useTransition=function(){return ee.H.useTransition()},vt.version="19.1.0",vt}var Eb;function qg(){return Eb||(Eb=1,mp.exports=mA()),mp.exports}var $=qg();const pa=Ew($),pA=cA({__proto__:null,default:pa},[$]);var pp={exports:{}},Qu={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function gA(){return Ab||(Ab=1,function(t){function e(X,ue){var ae=X.length;X.push(ue);e:for(;0<ae;){var ve=ae-1>>>1,I=X[ve];if(0<a(I,ue))X[ve]=ue,X[ae]=I,ae=ve;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],ae=X.pop();if(ae!==ue){X[0]=ae;e:for(var ve=0,I=X.length,Q=I>>>1;ve<Q;){var Re=2*(ve+1)-1,ke=X[Re],ze=Re+1,rt=X[ze];if(0>a(ke,ae))ze<I&&0>a(rt,ke)?(X[ve]=rt,X[ze]=ae,ve=ze):(X[ve]=ke,X[Re]=ae,ve=Re);else if(ze<I&&0>a(rt,ae))X[ve]=rt,X[ze]=ae,ve=ze;else break e}}return ue}function a(X,ue){var ae=X.sortIndex-ue.sortIndex;return ae!==0?ae:X.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var y=[],p=[],_=1,w=null,C=3,E=!1,k=!1,N=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function J(X){for(var ue=n(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=X)r(p),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=n(p)}}function ee(X){if(N=!1,J(X),!k)if(n(y)!==null)k=!0,ge||(ge=!0,Se());else{var ue=n(p);ue!==null&&Me(ee,ue.startTime-X)}}var ge=!1,H=-1,be=5,ne=-1;function ye(){return O?!0:!(t.unstable_now()-ne<be)}function Ce(){if(O=!1,ge){var X=t.unstable_now();ne=X;var ue=!0;try{e:{k=!1,N&&(N=!1,P(H),H=-1),E=!0;var ae=C;try{t:{for(J(X),w=n(y);w!==null&&!(w.expirationTime>X&&ye());){var ve=w.callback;if(typeof ve=="function"){w.callback=null,C=w.priorityLevel;var I=ve(w.expirationTime<=X);if(X=t.unstable_now(),typeof I=="function"){w.callback=I,J(X),ue=!0;break t}w===n(y)&&r(y),J(X)}else r(y);w=n(y)}if(w!==null)ue=!0;else{var Q=n(p);Q!==null&&Me(ee,Q.startTime-X),ue=!1}}break e}finally{w=null,C=ae,E=!1}ue=void 0}}finally{ue?Se():ge=!1}}}var Se;if(typeof q=="function")Se=function(){q(Ce)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,me=Ee.port2;Ee.port1.onmessage=Ce,Se=function(){me.postMessage(null)}}else Se=function(){B(Ce,0)};function Me(X,ue){H=B(function(){X(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(X){switch(C){case 1:case 2:case 3:var ue=3;break;default:ue=C}var ae=C;C=ue;try{return X()}finally{C=ae}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=C;C=X;try{return ue()}finally{C=ae}},t.unstable_scheduleCallback=function(X,ue,ae){var ve=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ve+ae:ve):ae=ve,X){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ae+I,X={id:_++,callback:ue,priorityLevel:X,startTime:ae,expirationTime:I,sortIndex:-1},ae>ve?(X.sortIndex=ae,e(p,X),n(y)===null&&X===n(p)&&(N?(P(H),H=-1):N=!0,Me(ee,ae-ve))):(X.sortIndex=I,e(y,X),k||E||(k=!0,ge||(ge=!0,Se()))),X},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(X){var ue=C;return function(){var ae=C;C=ue;try{return X.apply(this,arguments)}finally{C=ae}}}}(yp)),yp}var Rb;function yA(){return Rb||(Rb=1,gp.exports=gA()),gp.exports}var vp={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function vA(){if(Mb)return Wn;Mb=1;var t=qg();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(y,p,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:y,containerInfo:p,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(y,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(y,p,null,_)},Wn.flushSync=function(y){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,y)return y()}finally{c.T=p,r.p=_,r.d.f()}},Wn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Wn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Wn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var _=p.as,w=h(_,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:E}):_==="script"&&r.d.X(y,{crossOrigin:w,integrity:C,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Wn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Wn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,w=h(_,p.crossOrigin);r.d.L(y,_,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Wn.preloadModule=function(y,p){if(typeof y=="string")if(p){var _=h(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Wn.requestFormReset=function(y){r.d.r(y)},Wn.unstable_batchedUpdates=function(y,p){return y(p)},Wn.useFormState=function(y,p,_){return c.H.useFormState(y,p,_)},Wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var kb;function Aw(){if(kb)return vp.exports;kb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vp.exports=vA(),vp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function bA(){if(Nb)return Qu;Nb=1;var t=yA(),e=qg(),n=Aw();function r(o){var i="https://react.dev/errors/"+o;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function l(o){var i=o,s=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,(i.flags&4098)!==0&&(s=i.return),o=i.return;while(o)}return i.tag===3?s:null}function c(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function h(o){if(l(o)!==o)throw Error(r(188))}function y(o){var i=o.alternate;if(!i){if(i=l(o),i===null)throw Error(r(188));return i!==o?null:o}for(var s=o,u=i;;){var g=s.return;if(g===null)break;var b=g.alternate;if(b===null){if(u=g.return,u!==null){s=u;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===s)return h(g),o;if(b===u)return h(g),i;b=b.sibling}throw Error(r(188))}if(s.return!==u.return)s=g,u=b;else{for(var S=!1,M=g.child;M;){if(M===s){S=!0,s=g,u=b;break}if(M===u){S=!0,u=g,s=b;break}M=M.sibling}if(!S){for(M=b.child;M;){if(M===s){S=!0,s=b,u=g;break}if(M===u){S=!0,u=b,s=g;break}M=M.sibling}if(!S)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?o:i}function p(o){var i=o.tag;if(i===5||i===26||i===27||i===6)return o;for(o=o.child;o!==null;){if(i=p(o),i!==null)return i;o=o.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function Se(o){return o===null||typeof o!="object"?null:(o=Ce&&o[Ce]||o["@@iterator"],typeof o=="function"?o:null)}var Ee=Symbol.for("react.client.reference");function me(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Ee?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case O:return"Profiler";case N:return"StrictMode";case ee:return"Suspense";case ge:return"SuspenseList";case ne:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case E:return"Portal";case q:return(o.displayName||"Context")+".Provider";case P:return(o._context.displayName||"Context")+".Consumer";case J:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case H:return i=o.displayName||null,i!==null?i:me(o.type)||"Memo";case be:i=o._payload,o=o._init;try{return me(o(i))}catch{}}return null}var Me=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ve=[],I=-1;function Q(o){return{current:o}}function Re(o){0>I||(o.current=ve[I],ve[I]=null,I--)}function ke(o,i){I++,ve[I]=o.current,o.current=i}var ze=Q(null),rt=Q(null),Fe=Q(null),yt=Q(null);function Ze(o,i){switch(ke(Fe,i),ke(rt,o),ke(ze,null),i.nodeType){case 9:case 11:o=(o=i.documentElement)&&(o=o.namespaceURI)?Q0(o):0;break;default:if(o=i.tagName,i=i.namespaceURI)i=Q0(i),o=W0(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Re(ze),ke(ze,o)}function _e(){Re(ze),Re(rt),Re(Fe)}function st(o){o.memoizedState!==null&&ke(yt,o);var i=ze.current,s=W0(i,o.type);i!==s&&(ke(rt,o),ke(ze,s))}function et(o){rt.current===o&&(Re(ze),Re(rt)),yt.current===o&&(Re(yt),Ku._currentValue=ae)}var qe=Object.prototype.hasOwnProperty,Dt=t.unstable_scheduleCallback,ln=t.unstable_cancelCallback,Lt=t.unstable_shouldYield,tr=t.unstable_requestPaint,Ft=t.unstable_now,Wr=t.unstable_getCurrentPriorityLevel,Po=t.unstable_ImmediatePriority,yr=t.unstable_UserBlockingPriority,rn=t.unstable_NormalPriority,wa=t.unstable_LowPriority,xi=t.unstable_IdlePriority,Dc=t.log,Ta=t.unstable_setDisableYieldValue,vr=null,fn=null;function Ir(o){if(typeof Dc=="function"&&Ta(o),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(vr,o)}catch{}}var wn=Math.clz32?Math.clz32:Lo,Vl=Math.log,cs=Math.LN2;function Lo(o){return o>>>=0,o===0?32:31-(Vl(o)/cs|0)|0}var Uo=256,wi=4194304;function Yn(o){var i=o&42;if(i!==0)return i;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Xe(o,i,s){var u=o.pendingLanes;if(u===0)return 0;var g=0,b=o.suspendedLanes,S=o.pingedLanes;o=o.warmLanes;var M=u&134217727;return M!==0?(u=M&~b,u!==0?g=Yn(u):(S&=M,S!==0?g=Yn(S):s||(s=M&~o,s!==0&&(g=Yn(s))))):(M=u&~b,M!==0?g=Yn(M):S!==0?g=Yn(S):s||(s=u&~o,s!==0&&(g=Yn(s)))),g===0?0:i!==0&&i!==g&&(i&b)===0&&(b=g&-g,s=i&-i,b>=s||b===32&&(s&4194048)!==0)?i:g}function jr(o,i){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&i)===0}function Bo(o,i){switch(o){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(){var o=Uo;return Uo<<=1,(Uo&4194048)===0&&(Uo=256),o}function Ve(){var o=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),o}function Sa(o){for(var i=[],s=0;31>s;s++)i.push(o);return i}function Ti(o,i){o.pendingLanes|=i,i!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Fl(o,i,s,u,g,b){var S=o.pendingLanes;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=s,o.entangledLanes&=s,o.errorRecoveryDisabledLanes&=s,o.shellSuspendCounter=0;var M=o.entanglements,U=o.expirationTimes,se=o.hiddenUpdates;for(s=S&~s;0<s;){var we=31-wn(s),Ae=1<<we;M[we]=0,U[we]=-1;var ce=se[we];if(ce!==null)for(se[we]=null,we=0;we<ce.length;we++){var fe=ce[we];fe!==null&&(fe.lane&=-536870913)}s&=~Ae}u!==0&&ql(o,u,0),b!==0&&g===0&&o.tag!==0&&(o.suspendedLanes|=b&~(S&~i))}function ql(o,i,s){o.pendingLanes|=i,o.suspendedLanes&=~i;var u=31-wn(i);o.entangledLanes|=i,o.entanglements[u]=o.entanglements[u]|1073741824|s&4194090}function fs(o,i){var s=o.entangledLanes|=i;for(o=o.entanglements;s;){var u=31-wn(s),g=1<<u;g&i|o[u]&i&&(o[u]|=i),s&=~g}}function Gl(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function zl(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Vo(){var o=ue.p;return o!==0?o:(o=window.event,o===void 0?32:yb(o.type))}function Ci(o,i){var s=ue.p;try{return ue.p=o,i()}finally{ue.p=s}}var Dr=Math.random().toString(36).slice(2),dn="__reactFiber$"+Dr,xt="__reactProps$"+Dr,Qt="__reactContainer$"+Dr,Kl="__reactEvents$"+Dr,ds="__reactListeners$"+Dr,hs="__reactHandles$"+Dr,Ea="__reactResources$"+Dr,Aa="__reactMarker$"+Dr;function Or(o){delete o[dn],delete o[xt],delete o[Kl],delete o[ds],delete o[hs]}function br(o){var i=o[dn];if(i)return i;for(var s=o.parentNode;s;){if(i=s[Qt]||s[dn]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(o=nb(o);o!==null;){if(s=o[dn])return s;o=nb(o)}return i}o=s,s=o.parentNode}return null}function nr(o){if(o=o[dn]||o[Qt]){var i=o.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return o}return null}function lo(o){var i=o.tag;if(i===5||i===26||i===27||i===6)return o.stateNode;throw Error(r(33))}function Si(o){var i=o[Ea];return i||(i=o[Ea]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $t(o){o[Aa]=!0}var $l=new Set,uo={};function co(o,i){fo(o,i),fo(o+"Capture",i)}function fo(o,i){for(uo[o]=i,o=0;o<i.length;o++)$l.add(i[o])}var on=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ho={},Pr={};function Oc(o){return qe.call(Pr,o)?!0:qe.call(ho,o)?!1:on.test(o)?Pr[o]=!0:(ho[o]=!0,!1)}function eo(o,i,s){if(Oc(i))if(s===null)o.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":o.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){o.removeAttribute(i);return}}o.setAttribute(i,""+s)}}function Fo(o,i,s){if(s===null)o.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(i);return}o.setAttribute(i,""+s)}}function _r(o,i,s,u){if(u===null)o.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttributeNS(i,s,""+u)}}var Ra,mo;function qo(o){if(Ra===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ra=i&&i[1]||"",mo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+o+mo}var Ei=!1;function ms(o,i){if(!o||Ei)return"";Ei=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(fe){var ce=fe}Reflect.construct(o,[],Ae)}else{try{Ae.call()}catch(fe){ce=fe}o.call(Ae.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(Ae=o())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),S=b[0],M=b[1];if(S&&M){var U=S.split(`
`),se=M.split(`
`);for(g=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;g<se.length&&!se[g].includes("DetermineComponentFrameRoot");)g++;if(u===U.length||g===se.length)for(u=U.length-1,g=se.length-1;1<=u&&0<=g&&U[u]!==se[g];)g--;for(;1<=u&&0<=g;u--,g--)if(U[u]!==se[g]){if(u!==1||g!==1)do if(u--,g--,0>g||U[u]!==se[g]){var we=`
`+U[u].replace(" at new "," at ");return o.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",o.displayName)),we}while(1<=u&&0<=g);break}}}finally{Ei=!1,Error.prepareStackTrace=s}return(s=o?o.displayName||o.name:"")?qo(s):""}function Ct(o){switch(o.tag){case 26:case 27:case 5:return qo(o.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 15:return ms(o.type,!1);case 11:return ms(o.type.render,!1);case 1:return ms(o.type,!0);case 31:return qo("Activity");default:return""}}function Hl(o){try{var i="";do i+=Ct(o),o=o.return;while(o);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function rr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Yl(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ht(o){var i=Yl(o)?"checked":"value",s=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),u=""+o[i];if(!o.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var g=s.get,b=s.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){u=""+S,b.call(this,S)}}),Object.defineProperty(o,i,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function po(o){o._valueTracker||(o._valueTracker=Ht(o))}function Ai(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return o&&(u=Yl(o)?o.checked?"true":"false":o.value),o=u,o!==s?(i.setValue(o),!0):!1}function to(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Jl=/[\n"\\]/g;function Jn(o){return o.replace(Jl,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ri(o,i,s,u,g,b,S,M){o.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?o.type=S:o.removeAttribute("type"),i!=null?S==="number"?(i===0&&o.value===""||o.value!=i)&&(o.value=""+rr(i)):o.value!==""+rr(i)&&(o.value=""+rr(i)):S!=="submit"&&S!=="reset"||o.removeAttribute("value"),i!=null?Mi(o,S,rr(i)):s!=null?Mi(o,S,rr(s)):u!=null&&o.removeAttribute("value"),g==null&&b!=null&&(o.defaultChecked=!!b),g!=null&&(o.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.name=""+rr(M):o.removeAttribute("name")}function Xl(o,i,s,u,g,b,S,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.type=b),i!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;s=s!=null?""+rr(s):"",i=i!=null?""+rr(i):s,M||i===o.value||(o.value=i),o.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,o.checked=M?o.checked:!!u,o.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.name=S)}function Mi(o,i,s){i==="number"&&to(o.ownerDocument)===o||o.defaultValue===""+s||(o.defaultValue=""+s)}function Go(o,i,s,u){if(o=o.options,i){i={};for(var g=0;g<s.length;g++)i["$"+s[g]]=!0;for(s=0;s<o.length;s++)g=i.hasOwnProperty("$"+o[s].value),o[s].selected!==g&&(o[s].selected=g),g&&u&&(o[s].defaultSelected=!0)}else{for(s=""+rr(s),i=null,g=0;g<o.length;g++){if(o[g].value===s){o[g].selected=!0,u&&(o[g].defaultSelected=!0);return}i!==null||o[g].disabled||(i=o[g])}i!==null&&(i.selected=!0)}}function ki(o,i,s){if(i!=null&&(i=""+rr(i),i!==o.value&&(o.value=i),s==null)){o.defaultValue!==i&&(o.defaultValue=i);return}o.defaultValue=s!=null?""+rr(s):""}function Zl(o,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(r(92));if(Me(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=rr(i),o.defaultValue=s,u=o.textContent,u===s&&u!==""&&u!==null&&(o.value=u)}function Ni(o,i){if(i){var s=o.firstChild;if(s&&s===o.lastChild&&s.nodeType===3){s.nodeValue=i;return}}o.textContent=i}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ps(o,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?o.setProperty(i,""):i==="float"?o.cssFloat="":o[i]="":u?o.setProperty(i,s):typeof s!="number"||s===0||Nt.has(i)?i==="float"?o.cssFloat=s:o[i]=(""+s).trim():o[i]=s+"px"}function Pc(o,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(o=o.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&s[g]!==u&&ps(o,g,u)}else for(var b in i)i.hasOwnProperty(b)&&ps(o,b,i[b])}function Ql(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var or=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ii=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(o){return Ii.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Lr=null;function gs(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ko=null,Wt=null;function xr(o){var i=nr(o);if(i&&(o=i.stateNode)){var s=o[xt]||null;e:switch(o=i.stateNode,i.type){case"input":if(Ri(o,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=o;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Jn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==o&&u.form===o.form){var g=u[xt]||null;if(!g)throw Error(r(90));Ri(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===o.form&&Ai(u)}break e;case"textarea":ki(o,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Go(o,!!s.multiple,i,!1)}}}var $o=!1;function Di(o,i,s){if($o)return o(i,s);$o=!0;try{var u=o(i);return u}finally{if($o=!1,(Ko!==null||Wt!==null)&&(Cf(),Ko&&(i=Ko,o=Wt,Wt=Ko=null,xr(i),o)))for(i=0;i<o.length;i++)xr(o[i])}}function Ho(o,i){var s=o.stateNode;if(s===null)return null;var u=s[xt]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(o=o.type,u=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!u;break e;default:o=!1}if(o)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(kn)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Wl=!1}var Ur=null,ys=null,Oi=null;function Pi(){if(Oi)return Oi;var o,i=ys,s=i.length,u,g="value"in Ur?Ur.value:Ur.textContent,b=g.length;for(o=0;o<s&&i[o]===g[o];o++);var S=s-o;for(u=1;u<=S&&i[s-u]===g[b-u];u++);return Oi=g.slice(o,1<u?1-u:void 0)}function Li(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function Ma(){return!0}function Lc(){return!1}function yn(o){function i(s,u,g,b,S){this._reactName=s,this._targetInst=g,this.type=u,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(s=o[M],this[M]=s?s(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ma:Lc,this.isPropagationStopped=Lc,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),i}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=yn(Yo),go=_({},Yo,{view:0,detail:0}),bs=yn(go),ka,jl,Na,_s=_({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Na&&(Na&&o.type==="mousemove"?(ka=o.screenX-Na.screenX,jl=o.screenY-Na.screenY):jl=ka=0,Na=o),ka)},movementY:function(o){return"movementY"in o?o.movementY:jl}}),xs=yn(_s),eu=_({},_s,{dataTransfer:0}),Uc=yn(eu),ws=_({},go,{relatedTarget:0}),Ui=yn(ws),Ts=_({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),Bc=yn(Ts),Ah=_({},Yo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Cs=yn(Ah),tu=_({},Yo,{data:0}),Ss=yn(tu),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ia(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=Nn[o])?!!i[o]:!1}function Jo(){return Ia}var Vc=_({},go,{key:function(o){if(o.key){var i=nu[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=Li(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ru[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(o){return o.type==="keypress"?Li(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Li(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Es=yn(Vc),Fc=_({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=yn(Fc),As=_({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),iu=yn(As),Xo=_({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=yn(Xo),su=_({},_s,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=yn(su),lu=_({},Yo,{newState:0,oldState:0}),qc=yn(lu),Rh=[9,13,27,32],Da=kn&&"CompositionEvent"in window,yo=null;kn&&"documentMode"in document&&(yo=document.documentMode);var Mh=kn&&"TextEvent"in window&&!yo,Ms=kn&&(!Da||yo&&8<yo&&11>=yo),ks=" ",Gc=!1;function uu(o,i){switch(o){case"keyup":return Rh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zo=!1;function Kc(o,i){switch(o){case"compositionend":return zc(i);case"keypress":return i.which!==32?null:(Gc=!0,ks);case"textInput":return o=i.data,o===ks&&Gc?null:o;default:return null}}function kh(o,i){if(Zo)return o==="compositionend"||!Da&&uu(o,i)?(o=Pi(),Oi=ys=Ur=null,Zo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ms&&i.locale!=="ko"?null:i.data;default:return null}}var $c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ns(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!$c[o.type]:i==="textarea"}function cu(o,i,s,u){Ko?Wt?Wt.push(u):Wt=[u]:Ko=u,i=kf(i,"onChange"),0<i.length&&(s=new vs("onChange","change",null,s,u),o.push({event:s,listeners:i}))}var Bi=null,Oa=null;function Nh(o){H0(o,0)}function Is(o){var i=lo(o);if(Ai(i))return o}function Pa(o,i){if(o==="change")return i}var Br=!1;if(kn){var jt;if(kn){var Vi="oninput"in document;if(!Vi){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),Vi=typeof ir.oninput=="function"}jt=Vi}else jt=!1;Br=jt&&(!document.documentMode||9<document.documentMode)}function Hc(){Bi&&(Bi.detachEvent("onpropertychange",Ds),Oa=Bi=null)}function Ds(o){if(o.propertyName==="value"&&Is(Oa)){var i=[];cu(i,Oa,o,gs(o)),Di(Nh,i)}}function Yc(o,i,s){o==="focusin"?(Hc(),Bi=i,Oa=s,Bi.attachEvent("onpropertychange",Ds)):o==="focusout"&&Hc()}function Qo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Is(Oa)}function fu(o,i){if(o==="click")return Is(i)}function Fi(o,i){if(o==="input"||o==="change")return Is(i)}function vo(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var Zn=typeof Object.is=="function"?Object.is:vo;function m(o,i){if(Zn(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var s=Object.keys(o),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var g=s[u];if(!qe.call(i,g)||!Zn(o[g],i[g]))return!1}return!0}function v(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function x(o,i){var s=v(o);o=0;for(var u;s;){if(s.nodeType===3){if(u=o+s.textContent.length,o<=i&&u>=i)return{node:s,offset:i-o};o=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=v(s)}}function T(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?T(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function A(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var i=to(o.document);i instanceof o.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)o=i.contentWindow;else break;i=to(o.document)}return i}function R(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}var D=kn&&"documentMode"in document&&11>=document.documentMode,L=null,z=null,Y=null,j=!1;function V(o,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;j||L==null||L!==to(u)||(u=L,"selectionStart"in u&&R(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Y&&m(Y,u)||(Y=u,u=kf(z,"onSelect"),0<u.length&&(i=new vs("onSelect","select",null,i,s),o.push({event:i,listeners:u}),i.target=L)))}function re(o,i){var s={};return s[o.toLowerCase()]=i.toLowerCase(),s["Webkit"+o]="webkit"+i,s["Moz"+o]="moz"+i,s}var G={animationend:re("Animation","AnimationEnd"),animationiteration:re("Animation","AnimationIteration"),animationstart:re("Animation","AnimationStart"),transitionrun:re("Transition","TransitionRun"),transitionstart:re("Transition","TransitionStart"),transitioncancel:re("Transition","TransitionCancel"),transitionend:re("Transition","TransitionEnd")},W={},oe={};kn&&(oe=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);function Z(o){if(W[o])return W[o];if(!G[o])return o;var i=G[o],s;for(s in i)if(i.hasOwnProperty(s)&&s in oe)return W[o]=i[s];return o}var le=Z("animationend"),he=Z("animationiteration"),pe=Z("animationstart"),xe=Z("transitionrun"),De=Z("transitionstart"),Le=Z("transitioncancel"),Ne=Z("transitionend"),Oe=new Map,Ue="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ue.push("scrollEnd");function Ie(o,i){Oe.set(o,i),co(i,[o])}var Ke=new WeakMap;function je(o,i){if(typeof o=="object"&&o!==null){var s=Ke.get(o);return s!==void 0?s:(i={value:o,source:i,stack:Hl(i)},Ke.set(o,i),i)}return{value:o,source:i,stack:Hl(i)}}var ot=[],pt=0,qn=0;function lt(){for(var o=pt,i=qn=pt=0;i<o;){var s=ot[i];ot[i++]=null;var u=ot[i];ot[i++]=null;var g=ot[i];ot[i++]=null;var b=ot[i];if(ot[i++]=null,u!==null&&g!==null){var S=u.pending;S===null?g.next=g:(g.next=S.next,S.next=g),u.pending=g}b!==0&&In(s,g,b)}}function hn(o,i,s,u){ot[pt++]=o,ot[pt++]=i,ot[pt++]=s,ot[pt++]=u,qn|=u,o.lanes|=u,o=o.alternate,o!==null&&(o.lanes|=u)}function vn(o,i,s,u){return hn(o,i,s,u),Vr(o)}function no(o,i){return hn(o,null,null,i),Vr(o)}function In(o,i,s){o.lanes|=s;var u=o.alternate;u!==null&&(u.lanes|=s);for(var g=!1,b=o.return;b!==null;)b.childLanes|=s,u=b.alternate,u!==null&&(u.childLanes|=s),b.tag===22&&(o=b.stateNode,o===null||o._visibility&1||(g=!0)),o=b,b=b.return;return o.tag===3?(b=o.stateNode,g&&i!==null&&(g=31-wn(s),o=b.hiddenUpdates,u=o[g],u===null?o[g]=[i]:u.push(i),i.lane=s|536870912),b):null}function Vr(o){if(50<Lu)throw Lu=0,Um=null,Error(r(185));for(var i=o.return;i!==null;)o=i,i=o.return;return o.tag===3?o.stateNode:null}var bo={};function YS(o,i,s,u){this.tag=o,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(o,i,s,u){return new YS(o,i,s,u)}function Ih(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Wo(o,i){var s=o.alternate;return s===null?(s=wr(o.tag,i,o.key,o.mode),s.elementType=o.elementType,s.type=o.type,s.stateNode=o.stateNode,s.alternate=o,o.alternate=s):(s.pendingProps=i,s.type=o.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=o.flags&65011712,s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=o.sibling,s.index=o.index,s.ref=o.ref,s.refCleanup=o.refCleanup,s}function Ny(o,i){o.flags&=65011714;var s=o.alternate;return s===null?(o.childLanes=0,o.lanes=i,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o}function Jc(o,i,s,u,g,b){var S=0;if(u=o,typeof o=="function")Ih(o)&&(S=1);else if(typeof o=="string")S=XE(o,s,ze.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case ne:return o=wr(31,s,i,g),o.elementType=ne,o.lanes=b,o;case k:return La(s.children,g,b,i);case N:S=8,g|=24;break;case O:return o=wr(12,s,i,g|2),o.elementType=O,o.lanes=b,o;case ee:return o=wr(13,s,i,g),o.elementType=ee,o.lanes=b,o;case ge:return o=wr(19,s,i,g),o.elementType=ge,o.lanes=b,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case B:case q:S=10;break e;case P:S=9;break e;case J:S=11;break e;case H:S=14;break e;case be:S=16,u=null;break e}S=29,s=Error(r(130,o===null?"null":typeof o,"")),u=null}return i=wr(S,s,i,g),i.elementType=o,i.type=u,i.lanes=b,i}function La(o,i,s,u){return o=wr(7,o,u,i),o.lanes=s,o}function Dh(o,i,s){return o=wr(6,o,null,i),o.lanes=s,o}function Oh(o,i,s){return i=wr(4,o.children!==null?o.children:[],o.key,i),i.lanes=s,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}var Os=[],Ps=0,Xc=null,Zc=0,Fr=[],qr=0,Ua=null,jo=1,ei="";function Ba(o,i){Os[Ps++]=Zc,Os[Ps++]=Xc,Xc=o,Zc=i}function Iy(o,i,s){Fr[qr++]=jo,Fr[qr++]=ei,Fr[qr++]=Ua,Ua=o;var u=jo;o=ei;var g=32-wn(u)-1;u&=~(1<<g),s+=1;var b=32-wn(i)+g;if(30<b){var S=g-g%5;b=(u&(1<<S)-1).toString(32),u>>=S,g-=S,jo=1<<32-wn(i)+g|s<<g|u,ei=b+o}else jo=1<<b|s<<g|u,ei=o}function Ph(o){o.return!==null&&(Ba(o,1),Iy(o,1,0))}function Lh(o){for(;o===Xc;)Xc=Os[--Ps],Os[Ps]=null,Zc=Os[--Ps],Os[Ps]=null;for(;o===Ua;)Ua=Fr[--qr],Fr[qr]=null,ei=Fr[--qr],Fr[qr]=null,jo=Fr[--qr],Fr[qr]=null}var ar=null,un=null,Ut=!1,Va=null,_o=!1,Uh=Error(r(519));function Fa(o){var i=Error(r(418,""));throw mu(je(i,o)),Uh}function Dy(o){var i=o.stateNode,s=o.type,u=o.memoizedProps;switch(i[dn]=o,i[xt]=u,s){case"dialog":Et("cancel",i),Et("close",i);break;case"iframe":case"object":case"embed":Et("load",i);break;case"video":case"audio":for(s=0;s<Bu.length;s++)Et(Bu[s],i);break;case"source":Et("error",i);break;case"img":case"image":case"link":Et("error",i),Et("load",i);break;case"details":Et("toggle",i);break;case"input":Et("invalid",i),Xl(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),po(i);break;case"select":Et("invalid",i);break;case"textarea":Et("invalid",i),Zl(i,u.value,u.defaultValue,u.children),po(i)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||Z0(i.textContent,s)?(u.popover!=null&&(Et("beforetoggle",i),Et("toggle",i)),u.onScroll!=null&&Et("scroll",i),u.onScrollEnd!=null&&Et("scrollend",i),u.onClick!=null&&(i.onclick=Nf),i=!0):i=!1,i||Fa(o)}function Oy(o){for(ar=o.return;ar;)switch(ar.tag){case 5:case 13:_o=!1;return;case 27:case 3:_o=!0;return;default:ar=ar.return}}function du(o){if(o!==ar)return!1;if(!Ut)return Oy(o),Ut=!0,!1;var i=o.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=o.type,s=!(s!=="form"&&s!=="button")||jm(o.type,o.memoizedProps)),s=!s),s&&un&&Fa(o),Oy(o),i===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8)if(s=o.data,s==="/$"){if(i===0){un=oo(o.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;o=o.nextSibling}un=null}}else i===27?(i=un,na(o.type)?(o=rp,rp=null,un=o):un=i):un=ar?oo(o.stateNode.nextSibling):null;return!0}function hu(){un=ar=null,Ut=!1}function Py(){var o=Va;return o!==null&&(mr===null?mr=o:mr.push.apply(mr,o),Va=null),o}function mu(o){Va===null?Va=[o]:Va.push(o)}var Bh=Q(null),qa=null,ti=null;function qi(o,i,s){ke(Bh,i._currentValue),i._currentValue=s}function ni(o){o._currentValue=Bh.current,Re(Bh)}function Vh(o,i,s){for(;o!==null;){var u=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),o===s)break;o=o.return}}function Fh(o,i,s,u){var g=o.child;for(g!==null&&(g.return=o);g!==null;){var b=g.dependencies;if(b!==null){var S=g.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=g;for(var U=0;U<i.length;U++)if(M.context===i[U]){b.lanes|=s,M=b.alternate,M!==null&&(M.lanes|=s),Vh(b.return,s,o),u||(S=null);break e}b=M.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(r(341));S.lanes|=s,b=S.alternate,b!==null&&(b.lanes|=s),Vh(S,s,o),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===o){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function pu(o,i,s,u){o=null;for(var g=i,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var M=g.type;Zn(g.pendingProps.value,S.value)||(o!==null?o.push(M):o=[M])}}else if(g===yt.current){if(S=g.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(o!==null?o.push(Ku):o=[Ku])}g=g.return}o!==null&&Fh(i,o,s,u),i.flags|=262144}function Qc(o){for(o=o.firstContext;o!==null;){if(!Zn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ga(o){qa=o,ti=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Qn(o){return Ly(qa,o)}function Wc(o,i){return qa===null&&Ga(o),Ly(o,i)}function Ly(o,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ti===null){if(o===null)throw Error(r(308));ti=i,o.dependencies={lanes:0,firstContext:i},o.flags|=524288}else ti=ti.next=i;return s}var JS=typeof AbortController<"u"?AbortController:function(){var o=[],i=this.signal={aborted:!1,addEventListener:function(s,u){o.push(u)}};this.abort=function(){i.aborted=!0,o.forEach(function(s){return s()})}},XS=t.unstable_scheduleCallback,ZS=t.unstable_NormalPriority,Tn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new JS,data:new Map,refCount:0}}function gu(o){o.refCount--,o.refCount===0&&XS(ZS,function(){o.controller.abort()})}var yu=null,Gh=0,Ls=0,Us=null;function QS(o,i){if(yu===null){var s=yu=[];Gh=0,Ls=Km(),Us={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Gh++,i.then(Uy,Uy),i}function Uy(){if(--Gh===0&&yu!==null){Us!==null&&(Us.status="fulfilled");var o=yu;yu=null,Ls=0,Us=null;for(var i=0;i<o.length;i++)(0,o[i])()}}function WS(o,i){var s=[],u={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return o.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<s.length;g++)(0,s[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),u}var By=X.S;X.S=function(o,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&QS(o,i),By!==null&&By(o,i)};var za=Q(null);function zh(){var o=za.current;return o!==null?o:Xt.pooledCache}function jc(o,i){i===null?ke(za,za.current):ke(za,i.pool)}function Vy(){var o=zh();return o===null?null:{parent:Tn._currentValue,pool:o}}var vu=Error(r(460)),Fy=Error(r(474)),ef=Error(r(542)),Kh={then:function(){}};function qy(o){return o=o.status,o==="fulfilled"||o==="rejected"}function tf(){}function Gy(o,i,s){switch(s=o[s],s===void 0?o.push(i):s!==i&&(i.then(tf,tf),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw o=i.reason,Ky(o),o;default:if(typeof i.status=="string")i.then(tf,tf);else{if(o=Xt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=i,o.status="pending",o.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw o=i.reason,Ky(o),o}throw bu=i,vu}}var bu=null;function zy(){if(bu===null)throw Error(r(459));var o=bu;return bu=null,o}function Ky(o){if(o===vu||o===ef)throw Error(r(483))}var Gi=!1;function $h(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function zi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ki(o,i,s){var u=o.updateQueue;if(u===null)return null;if(u=u.shared,(Bt&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=Vr(o),In(o,null,s),i}return hn(o,u,i,s),Vr(o)}function _u(o,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=o.pendingLanes,s|=u,i.lanes=s,fs(o,s)}}function Yh(o,i){var s=o.updateQueue,u=o.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var g=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?g=b=S:b=b.next=S,s=s.next}while(s!==null);b===null?g=b=i:b=b.next=i}else g=b=i;s={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},o.updateQueue=s;return}o=s.lastBaseUpdate,o===null?s.firstBaseUpdate=i:o.next=i,s.lastBaseUpdate=i}var Jh=!1;function xu(){if(Jh){var o=Us;if(o!==null)throw o}}function wu(o,i,s,u){Jh=!1;var g=o.updateQueue;Gi=!1;var b=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var U=M,se=U.next;U.next=null,S===null?b=se:S.next=se,S=U;var we=o.alternate;we!==null&&(we=we.updateQueue,M=we.lastBaseUpdate,M!==S&&(M===null?we.firstBaseUpdate=se:M.next=se,we.lastBaseUpdate=U))}if(b!==null){var Ae=g.baseState;S=0,we=se=U=null,M=b;do{var ce=M.lane&-536870913,fe=ce!==M.lane;if(fe?(It&ce)===ce:(u&ce)===ce){ce!==0&&ce===Ls&&(Jh=!0),we!==null&&(we=we.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ut=o,it=M;ce=i;var zt=s;switch(it.tag){case 1:if(ut=it.payload,typeof ut=="function"){Ae=ut.call(zt,Ae,ce);break e}Ae=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=it.payload,ce=typeof ut=="function"?ut.call(zt,Ae,ce):ut,ce==null)break e;Ae=_({},Ae,ce);break e;case 2:Gi=!0}}ce=M.callback,ce!==null&&(o.flags|=64,fe&&(o.flags|=8192),fe=g.callbacks,fe===null?g.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},we===null?(se=we=fe,U=Ae):we=we.next=fe,S|=ce;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;fe=M,M=fe.next,fe.next=null,g.lastBaseUpdate=fe,g.shared.pending=null}}while(!0);we===null&&(U=Ae),g.baseState=U,g.firstBaseUpdate=se,g.lastBaseUpdate=we,b===null&&(g.shared.lanes=0),Wi|=S,o.lanes=S,o.memoizedState=Ae}}function $y(o,i){if(typeof o!="function")throw Error(r(191,o));o.call(i)}function Hy(o,i){var s=o.callbacks;if(s!==null)for(o.callbacks=null,o=0;o<s.length;o++)$y(s[o],i)}var Bs=Q(null),nf=Q(0);function Yy(o,i){o=ui,ke(nf,o),ke(Bs,i),ui=o|i.baseLanes}function Xh(){ke(nf,ui),ke(Bs,Bs.current)}function Zh(){ui=nf.current,Re(Bs),Re(nf)}var $i=0,wt=null,qt=null,bn=null,rf=!1,Vs=!1,Ka=!1,of=0,Tu=0,Fs=null,jS=0;function mn(){throw Error(r(321))}function Qh(o,i){if(i===null)return!1;for(var s=0;s<i.length&&s<o.length;s++)if(!Zn(o[s],i[s]))return!1;return!0}function Wh(o,i,s,u,g,b){return $i=b,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=o===null||o.memoizedState===null?kv:Nv,Ka=!1,b=s(u,g),Ka=!1,Vs&&(b=Xy(i,s,u,g)),Jy(o),b}function Jy(o){X.H=ff;var i=qt!==null&&qt.next!==null;if($i=0,bn=qt=wt=null,rf=!1,Tu=0,Fs=null,i)throw Error(r(300));o===null||Dn||(o=o.dependencies,o!==null&&Qc(o)&&(Dn=!0))}function Xy(o,i,s,u){wt=o;var g=0;do{if(Vs&&(Fs=null),Tu=0,Vs=!1,25<=g)throw Error(r(301));if(g+=1,bn=qt=null,o.updateQueue!=null){var b=o.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=aE,b=i(s,u)}while(Vs);return b}function eE(){var o=X.H,i=o.useState()[0];return i=typeof i.then=="function"?Cu(i):i,o=o.useState()[0],(qt!==null?qt.memoizedState:null)!==o&&(wt.flags|=1024),i}function jh(){var o=of!==0;return of=0,o}function em(o,i,s){i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~s}function tm(o){if(rf){for(o=o.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}rf=!1}$i=0,bn=qt=wt=null,Vs=!1,Tu=of=0,Fs=null}function dr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?wt.memoizedState=bn=o:bn=bn.next=o,bn}function _n(){if(qt===null){var o=wt.alternate;o=o!==null?o.memoizedState:null}else o=qt.next;var i=bn===null?wt.memoizedState:bn.next;if(i!==null)bn=i,qt=o;else{if(o===null)throw wt.alternate===null?Error(r(467)):Error(r(310));qt=o,o={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},bn===null?wt.memoizedState=bn=o:bn=bn.next=o}return bn}function nm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cu(o){var i=Tu;return Tu+=1,Fs===null&&(Fs=[]),o=Gy(Fs,o,i),i=wt,(bn===null?i.memoizedState:bn.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?kv:Nv),o}function af(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Cu(o);if(o.$$typeof===q)return Qn(o)}throw Error(r(438,String(o)))}function rm(o){var i=null,s=wt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=wt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=nm(),wt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(o),u=0;u<o;u++)s[u]=ye;return i.index++,s}function ri(o,i){return typeof i=="function"?i(o):i}function sf(o){var i=_n();return om(i,qt,o)}function om(o,i,s){var u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var g=o.baseQueue,b=u.pending;if(b!==null){if(g!==null){var S=g.next;g.next=b.next,b.next=S}i.baseQueue=g=b,u.pending=null}if(b=o.baseState,g===null)o.memoizedState=b;else{i=g.next;var M=S=null,U=null,se=i,we=!1;do{var Ae=se.lane&-536870913;if(Ae!==se.lane?(It&Ae)===Ae:($i&Ae)===Ae){var ce=se.revertLane;if(ce===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ae===Ls&&(we=!0);else if(($i&ce)===ce){se=se.next,ce===Ls&&(we=!0);continue}else Ae={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},U===null?(M=U=Ae,S=b):U=U.next=Ae,wt.lanes|=ce,Wi|=ce;Ae=se.action,Ka&&s(b,Ae),b=se.hasEagerState?se.eagerState:s(b,Ae)}else ce={lane:Ae,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},U===null?(M=U=ce,S=b):U=U.next=ce,wt.lanes|=Ae,Wi|=Ae;se=se.next}while(se!==null&&se!==i);if(U===null?S=b:U.next=M,!Zn(b,o.memoizedState)&&(Dn=!0,we&&(s=Us,s!==null)))throw s;o.memoizedState=b,o.baseState=S,o.baseQueue=U,u.lastRenderedState=b}return g===null&&(u.lanes=0),[o.memoizedState,u.dispatch]}function im(o){var i=_n(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=o;var u=s.dispatch,g=s.pending,b=i.memoizedState;if(g!==null){s.pending=null;var S=g=g.next;do b=o(b,S.action),S=S.next;while(S!==g);Zn(b,i.memoizedState)||(Dn=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),s.lastRenderedState=b}return[b,u]}function Zy(o,i,s){var u=wt,g=_n(),b=Ut;if(b){if(s===void 0)throw Error(r(407));s=s()}else s=i();var S=!Zn((qt||g).memoizedState,s);S&&(g.memoizedState=s,Dn=!0),g=g.queue;var M=jy.bind(null,u,g,o);if(Su(2048,8,M,[o]),g.getSnapshot!==i||S||bn!==null&&bn.memoizedState.tag&1){if(u.flags|=2048,qs(9,lf(),Wy.bind(null,u,g,s,i),null),Xt===null)throw Error(r(349));b||($i&124)!==0||Qy(u,i,s)}return s}function Qy(o,i,s){o.flags|=16384,o={getSnapshot:i,value:s},i=wt.updateQueue,i===null?(i=nm(),wt.updateQueue=i,i.stores=[o]):(s=i.stores,s===null?i.stores=[o]:s.push(o))}function Wy(o,i,s,u){i.value=s,i.getSnapshot=u,ev(i)&&tv(o)}function jy(o,i,s){return s(function(){ev(i)&&tv(o)})}function ev(o){var i=o.getSnapshot;o=o.value;try{var s=i();return!Zn(o,s)}catch{return!0}}function tv(o){var i=no(o,2);i!==null&&Ar(i,o,2)}function am(o){var i=dr();if(typeof o=="function"){var s=o;if(o=s(),Ka){Ir(!0);try{s()}finally{Ir(!1)}}}return i.memoizedState=i.baseState=o,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:o},i}function nv(o,i,s,u){return o.baseState=s,om(o,qt,typeof u=="function"?u:ri)}function tE(o,i,s,u,g){if(cf(o))throw Error(r(485));if(o=i.action,o!==null){var b={payload:g,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};X.T!==null?s(!0):b.isTransition=!1,u(b),s=i.pending,s===null?(b.next=i.pending=b,rv(i,b)):(b.next=s.next,i.pending=s.next=b)}}function rv(o,i){var s=i.action,u=i.payload,g=o.state;if(i.isTransition){var b=X.T,S={};X.T=S;try{var M=s(g,u),U=X.S;U!==null&&U(S,M),ov(o,i,M)}catch(se){sm(o,i,se)}finally{X.T=b}}else try{b=s(g,u),ov(o,i,b)}catch(se){sm(o,i,se)}}function ov(o,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){iv(o,i,u)},function(u){return sm(o,i,u)}):iv(o,i,s)}function iv(o,i,s){i.status="fulfilled",i.value=s,av(i),o.state=s,i=o.pending,i!==null&&(s=i.next,s===i?o.pending=null:(s=s.next,i.next=s,rv(o,s)))}function sm(o,i,s){var u=o.pending;if(o.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,av(i),i=i.next;while(i!==u)}o.action=null}function av(o){o=o.listeners;for(var i=0;i<o.length;i++)(0,o[i])()}function sv(o,i){return i}function lv(o,i){if(Ut){var s=Xt.formState;if(s!==null){e:{var u=wt;if(Ut){if(un){t:{for(var g=un,b=_o;g.nodeType!==8;){if(!b){g=null;break t}if(g=oo(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){un=oo(g.nextSibling),u=g.data==="F!";break e}}Fa(u)}u=!1}u&&(i=s[0])}}return s=dr(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:i},s.queue=u,s=Av.bind(null,wt,u),u.dispatch=s,u=am(!1),b=dm.bind(null,wt,!1,u.queue),u=dr(),g={state:i,dispatch:null,action:o,pending:null},u.queue=g,s=tE.bind(null,wt,g,b,s),g.dispatch=s,u.memoizedState=o,[i,s,!1]}function uv(o){var i=_n();return cv(i,qt,o)}function cv(o,i,s){if(i=om(o,i,sv)[0],o=sf(ri)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Cu(i)}catch(S){throw S===vu?ef:S}else u=i;i=_n();var g=i.queue,b=g.dispatch;return s!==i.memoizedState&&(wt.flags|=2048,qs(9,lf(),nE.bind(null,g,s),null)),[u,b,o]}function nE(o,i){o.action=i}function fv(o){var i=_n(),s=qt;if(s!==null)return cv(i,s,o);_n(),i=i.memoizedState,s=_n();var u=s.queue.dispatch;return s.memoizedState=o,[i,u,!1]}function qs(o,i,s,u){return o={tag:o,create:s,deps:u,inst:i,next:null},i=wt.updateQueue,i===null&&(i=nm(),wt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=o.next=o:(u=s.next,s.next=o,o.next=u,i.lastEffect=o),o}function lf(){return{destroy:void 0,resource:void 0}}function dv(){return _n().memoizedState}function uf(o,i,s,u){var g=dr();u=u===void 0?null:u,wt.flags|=o,g.memoizedState=qs(1|i,lf(),s,u)}function Su(o,i,s,u){var g=_n();u=u===void 0?null:u;var b=g.memoizedState.inst;qt!==null&&u!==null&&Qh(u,qt.memoizedState.deps)?g.memoizedState=qs(i,b,s,u):(wt.flags|=o,g.memoizedState=qs(1|i,b,s,u))}function hv(o,i){uf(8390656,8,o,i)}function mv(o,i){Su(2048,8,o,i)}function pv(o,i){return Su(4,2,o,i)}function gv(o,i){return Su(4,4,o,i)}function yv(o,i){if(typeof i=="function"){o=o();var s=i(o);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function vv(o,i,s){s=s!=null?s.concat([o]):null,Su(4,4,yv.bind(null,i,o),s)}function lm(){}function bv(o,i){var s=_n();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Qh(i,u[1])?u[0]:(s.memoizedState=[o,i],o)}function _v(o,i){var s=_n();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Qh(i,u[1]))return u[0];if(u=o(),Ka){Ir(!0);try{o()}finally{Ir(!1)}}return s.memoizedState=[u,i],u}function um(o,i,s){return s===void 0||($i&1073741824)!==0?o.memoizedState=i:(o.memoizedState=s,o=T0(),wt.lanes|=o,Wi|=o,s)}function xv(o,i,s,u){return Zn(s,i)?s:Bs.current!==null?(o=um(o,s,u),Zn(o,i)||(Dn=!0),o):($i&42)===0?(Dn=!0,o.memoizedState=s):(o=T0(),wt.lanes|=o,Wi|=o,i)}function wv(o,i,s,u,g){var b=ue.p;ue.p=b!==0&&8>b?b:8;var S=X.T,M={};X.T=M,dm(o,!1,i,s);try{var U=g(),se=X.S;if(se!==null&&se(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var we=WS(U,u);Eu(o,i,we,Er(o))}else Eu(o,i,u,Er(o))}catch(Ae){Eu(o,i,{then:function(){},status:"rejected",reason:Ae},Er())}finally{ue.p=b,X.T=S}}function rE(){}function cm(o,i,s,u){if(o.tag!==5)throw Error(r(476));var g=Tv(o).queue;wv(o,g,i,ae,s===null?rE:function(){return Cv(o),s(u)})}function Tv(o){var i=o.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ae},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:s},next:null},o.memoizedState=i,o=o.alternate,o!==null&&(o.memoizedState=i),i}function Cv(o){var i=Tv(o).next.queue;Eu(o,i,{},Er())}function fm(){return Qn(Ku)}function Sv(){return _n().memoizedState}function Ev(){return _n().memoizedState}function oE(o){for(var i=o.return;i!==null;){switch(i.tag){case 24:case 3:var s=Er();o=zi(s);var u=Ki(i,o,s);u!==null&&(Ar(u,i,s),_u(u,i,s)),i={cache:qh()},o.payload=i;return}i=i.return}}function iE(o,i,s){var u=Er();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},cf(o)?Rv(i,s):(s=vn(o,i,s,u),s!==null&&(Ar(s,o,u),Mv(s,i,u)))}function Av(o,i,s){var u=Er();Eu(o,i,s,u)}function Eu(o,i,s,u){var g={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(cf(o))Rv(i,g);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var S=i.lastRenderedState,M=b(S,s);if(g.hasEagerState=!0,g.eagerState=M,Zn(M,S))return hn(o,i,g,0),Xt===null&&lt(),!1}catch{}finally{}if(s=vn(o,i,g,u),s!==null)return Ar(s,o,u),Mv(s,i,u),!0}return!1}function dm(o,i,s,u){if(u={lane:2,revertLane:Km(),action:u,hasEagerState:!1,eagerState:null,next:null},cf(o)){if(i)throw Error(r(479))}else i=vn(o,s,u,2),i!==null&&Ar(i,o,2)}function cf(o){var i=o.alternate;return o===wt||i!==null&&i===wt}function Rv(o,i){Vs=rf=!0;var s=o.pending;s===null?i.next=i:(i.next=s.next,s.next=i),o.pending=i}function Mv(o,i,s){if((s&4194048)!==0){var u=i.lanes;u&=o.pendingLanes,s|=u,i.lanes=s,fs(o,s)}}var ff={readContext:Qn,use:af,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn},kv={readContext:Qn,use:af,useCallback:function(o,i){return dr().memoizedState=[o,i===void 0?null:i],o},useContext:Qn,useEffect:hv,useImperativeHandle:function(o,i,s){s=s!=null?s.concat([o]):null,uf(4194308,4,yv.bind(null,i,o),s)},useLayoutEffect:function(o,i){return uf(4194308,4,o,i)},useInsertionEffect:function(o,i){uf(4,2,o,i)},useMemo:function(o,i){var s=dr();i=i===void 0?null:i;var u=o();if(Ka){Ir(!0);try{o()}finally{Ir(!1)}}return s.memoizedState=[u,i],u},useReducer:function(o,i,s){var u=dr();if(s!==void 0){var g=s(i);if(Ka){Ir(!0);try{s(i)}finally{Ir(!1)}}}else g=i;return u.memoizedState=u.baseState=g,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:g},u.queue=o,o=o.dispatch=iE.bind(null,wt,o),[u.memoizedState,o]},useRef:function(o){var i=dr();return o={current:o},i.memoizedState=o},useState:function(o){o=am(o);var i=o.queue,s=Av.bind(null,wt,i);return i.dispatch=s,[o.memoizedState,s]},useDebugValue:lm,useDeferredValue:function(o,i){var s=dr();return um(s,o,i)},useTransition:function(){var o=am(!1);return o=wv.bind(null,wt,o.queue,!0,!1),dr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,i,s){var u=wt,g=dr();if(Ut){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),Xt===null)throw Error(r(349));(It&124)!==0||Qy(u,i,s)}g.memoizedState=s;var b={value:s,getSnapshot:i};return g.queue=b,hv(jy.bind(null,u,b,o),[o]),u.flags|=2048,qs(9,lf(),Wy.bind(null,u,b,s,i),null),s},useId:function(){var o=dr(),i=Xt.identifierPrefix;if(Ut){var s=ei,u=jo;s=(u&~(1<<32-wn(u)-1)).toString(32)+s,i="«"+i+"R"+s,s=of++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=jS++,i="«"+i+"r"+s.toString(32)+"»";return o.memoizedState=i},useHostTransitionStatus:fm,useFormState:lv,useActionState:lv,useOptimistic:function(o){var i=dr();i.memoizedState=i.baseState=o;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=dm.bind(null,wt,!0,s),s.dispatch=i,[o,i]},useMemoCache:rm,useCacheRefresh:function(){return dr().memoizedState=oE.bind(null,wt)}},Nv={readContext:Qn,use:af,useCallback:bv,useContext:Qn,useEffect:mv,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:_v,useReducer:sf,useRef:dv,useState:function(){return sf(ri)},useDebugValue:lm,useDeferredValue:function(o,i){var s=_n();return xv(s,qt.memoizedState,o,i)},useTransition:function(){var o=sf(ri)[0],i=_n().memoizedState;return[typeof o=="boolean"?o:Cu(o),i]},useSyncExternalStore:Zy,useId:Sv,useHostTransitionStatus:fm,useFormState:uv,useActionState:uv,useOptimistic:function(o,i){var s=_n();return nv(s,qt,o,i)},useMemoCache:rm,useCacheRefresh:Ev},aE={readContext:Qn,use:af,useCallback:bv,useContext:Qn,useEffect:mv,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:_v,useReducer:im,useRef:dv,useState:function(){return im(ri)},useDebugValue:lm,useDeferredValue:function(o,i){var s=_n();return qt===null?um(s,o,i):xv(s,qt.memoizedState,o,i)},useTransition:function(){var o=im(ri)[0],i=_n().memoizedState;return[typeof o=="boolean"?o:Cu(o),i]},useSyncExternalStore:Zy,useId:Sv,useHostTransitionStatus:fm,useFormState:fv,useActionState:fv,useOptimistic:function(o,i){var s=_n();return qt!==null?nv(s,qt,o,i):(s.baseState=o,[o,s.queue.dispatch])},useMemoCache:rm,useCacheRefresh:Ev},Gs=null,Au=0;function df(o){var i=Au;return Au+=1,Gs===null&&(Gs=[]),Gy(Gs,o,i)}function Ru(o,i){i=i.props.ref,o.ref=i!==void 0?i:null}function hf(o,i){throw i.$$typeof===w?Error(r(525)):(o=Object.prototype.toString.call(i),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)))}function Iv(o){var i=o._init;return i(o._payload)}function Dv(o){function i(te,K){if(o){var ie=te.deletions;ie===null?(te.deletions=[K],te.flags|=16):ie.push(K)}}function s(te,K){if(!o)return null;for(;K!==null;)i(te,K),K=K.sibling;return null}function u(te){for(var K=new Map;te!==null;)te.key!==null?K.set(te.key,te):K.set(te.index,te),te=te.sibling;return K}function g(te,K){return te=Wo(te,K),te.index=0,te.sibling=null,te}function b(te,K,ie){return te.index=ie,o?(ie=te.alternate,ie!==null?(ie=ie.index,ie<K?(te.flags|=67108866,K):ie):(te.flags|=67108866,K)):(te.flags|=1048576,K)}function S(te){return o&&te.alternate===null&&(te.flags|=67108866),te}function M(te,K,ie,Te){return K===null||K.tag!==6?(K=Dh(ie,te.mode,Te),K.return=te,K):(K=g(K,ie),K.return=te,K)}function U(te,K,ie,Te){var Ye=ie.type;return Ye===k?we(te,K,ie.props.children,Te,ie.key):K!==null&&(K.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===be&&Iv(Ye)===K.type)?(K=g(K,ie.props),Ru(K,ie),K.return=te,K):(K=Jc(ie.type,ie.key,ie.props,null,te.mode,Te),Ru(K,ie),K.return=te,K)}function se(te,K,ie,Te){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=Oh(ie,te.mode,Te),K.return=te,K):(K=g(K,ie.children||[]),K.return=te,K)}function we(te,K,ie,Te,Ye){return K===null||K.tag!==7?(K=La(ie,te.mode,Te,Ye),K.return=te,K):(K=g(K,ie),K.return=te,K)}function Ae(te,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Dh(""+K,te.mode,ie),K.return=te,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return ie=Jc(K.type,K.key,K.props,null,te.mode,ie),Ru(ie,K),ie.return=te,ie;case E:return K=Oh(K,te.mode,ie),K.return=te,K;case be:var Te=K._init;return K=Te(K._payload),Ae(te,K,ie)}if(Me(K)||Se(K))return K=La(K,te.mode,ie,null),K.return=te,K;if(typeof K.then=="function")return Ae(te,df(K),ie);if(K.$$typeof===q)return Ae(te,Wc(te,K),ie);hf(te,K)}return null}function ce(te,K,ie,Te){var Ye=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ye!==null?null:M(te,K,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:return ie.key===Ye?U(te,K,ie,Te):null;case E:return ie.key===Ye?se(te,K,ie,Te):null;case be:return Ye=ie._init,ie=Ye(ie._payload),ce(te,K,ie,Te)}if(Me(ie)||Se(ie))return Ye!==null?null:we(te,K,ie,Te,null);if(typeof ie.then=="function")return ce(te,K,df(ie),Te);if(ie.$$typeof===q)return ce(te,K,Wc(te,ie),Te);hf(te,ie)}return null}function fe(te,K,ie,Te,Ye){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return te=te.get(ie)||null,M(K,te,""+Te,Ye);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case C:return te=te.get(Te.key===null?ie:Te.key)||null,U(K,te,Te,Ye);case E:return te=te.get(Te.key===null?ie:Te.key)||null,se(K,te,Te,Ye);case be:var Tt=Te._init;return Te=Tt(Te._payload),fe(te,K,ie,Te,Ye)}if(Me(Te)||Se(Te))return te=te.get(ie)||null,we(K,te,Te,Ye,null);if(typeof Te.then=="function")return fe(te,K,ie,df(Te),Ye);if(Te.$$typeof===q)return fe(te,K,ie,Wc(K,Te),Ye);hf(K,Te)}return null}function ut(te,K,ie,Te){for(var Ye=null,Tt=null,We=K,at=K=0,Pn=null;We!==null&&at<ie.length;at++){We.index>at?(Pn=We,We=null):Pn=We.sibling;var Ot=ce(te,We,ie[at],Te);if(Ot===null){We===null&&(We=Pn);break}o&&We&&Ot.alternate===null&&i(te,We),K=b(Ot,K,at),Tt===null?Ye=Ot:Tt.sibling=Ot,Tt=Ot,We=Pn}if(at===ie.length)return s(te,We),Ut&&Ba(te,at),Ye;if(We===null){for(;at<ie.length;at++)We=Ae(te,ie[at],Te),We!==null&&(K=b(We,K,at),Tt===null?Ye=We:Tt.sibling=We,Tt=We);return Ut&&Ba(te,at),Ye}for(We=u(We);at<ie.length;at++)Pn=fe(We,te,at,ie[at],Te),Pn!==null&&(o&&Pn.alternate!==null&&We.delete(Pn.key===null?at:Pn.key),K=b(Pn,K,at),Tt===null?Ye=Pn:Tt.sibling=Pn,Tt=Pn);return o&&We.forEach(function(sa){return i(te,sa)}),Ut&&Ba(te,at),Ye}function it(te,K,ie,Te){if(ie==null)throw Error(r(151));for(var Ye=null,Tt=null,We=K,at=K=0,Pn=null,Ot=ie.next();We!==null&&!Ot.done;at++,Ot=ie.next()){We.index>at?(Pn=We,We=null):Pn=We.sibling;var sa=ce(te,We,Ot.value,Te);if(sa===null){We===null&&(We=Pn);break}o&&We&&sa.alternate===null&&i(te,We),K=b(sa,K,at),Tt===null?Ye=sa:Tt.sibling=sa,Tt=sa,We=Pn}if(Ot.done)return s(te,We),Ut&&Ba(te,at),Ye;if(We===null){for(;!Ot.done;at++,Ot=ie.next())Ot=Ae(te,Ot.value,Te),Ot!==null&&(K=b(Ot,K,at),Tt===null?Ye=Ot:Tt.sibling=Ot,Tt=Ot);return Ut&&Ba(te,at),Ye}for(We=u(We);!Ot.done;at++,Ot=ie.next())Ot=fe(We,te,at,Ot.value,Te),Ot!==null&&(o&&Ot.alternate!==null&&We.delete(Ot.key===null?at:Ot.key),K=b(Ot,K,at),Tt===null?Ye=Ot:Tt.sibling=Ot,Tt=Ot);return o&&We.forEach(function(sA){return i(te,sA)}),Ut&&Ba(te,at),Ye}function zt(te,K,ie,Te){if(typeof ie=="object"&&ie!==null&&ie.type===k&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:e:{for(var Ye=ie.key;K!==null;){if(K.key===Ye){if(Ye=ie.type,Ye===k){if(K.tag===7){s(te,K.sibling),Te=g(K,ie.props.children),Te.return=te,te=Te;break e}}else if(K.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===be&&Iv(Ye)===K.type){s(te,K.sibling),Te=g(K,ie.props),Ru(Te,ie),Te.return=te,te=Te;break e}s(te,K);break}else i(te,K);K=K.sibling}ie.type===k?(Te=La(ie.props.children,te.mode,Te,ie.key),Te.return=te,te=Te):(Te=Jc(ie.type,ie.key,ie.props,null,te.mode,Te),Ru(Te,ie),Te.return=te,te=Te)}return S(te);case E:e:{for(Ye=ie.key;K!==null;){if(K.key===Ye)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){s(te,K.sibling),Te=g(K,ie.children||[]),Te.return=te,te=Te;break e}else{s(te,K);break}else i(te,K);K=K.sibling}Te=Oh(ie,te.mode,Te),Te.return=te,te=Te}return S(te);case be:return Ye=ie._init,ie=Ye(ie._payload),zt(te,K,ie,Te)}if(Me(ie))return ut(te,K,ie,Te);if(Se(ie)){if(Ye=Se(ie),typeof Ye!="function")throw Error(r(150));return ie=Ye.call(ie),it(te,K,ie,Te)}if(typeof ie.then=="function")return zt(te,K,df(ie),Te);if(ie.$$typeof===q)return zt(te,K,Wc(te,ie),Te);hf(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,K!==null&&K.tag===6?(s(te,K.sibling),Te=g(K,ie),Te.return=te,te=Te):(s(te,K),Te=Dh(ie,te.mode,Te),Te.return=te,te=Te),S(te)):s(te,K)}return function(te,K,ie,Te){try{Au=0;var Ye=zt(te,K,ie,Te);return Gs=null,Ye}catch(We){if(We===vu||We===ef)throw We;var Tt=wr(29,We,null,te.mode);return Tt.lanes=Te,Tt.return=te,Tt}finally{}}}var zs=Dv(!0),Ov=Dv(!1),Gr=Q(null),xo=null;function Hi(o){var i=o.alternate;ke(Cn,Cn.current&1),ke(Gr,o),xo===null&&(i===null||Bs.current!==null||i.memoizedState!==null)&&(xo=o)}function Pv(o){if(o.tag===22){if(ke(Cn,Cn.current),ke(Gr,o),xo===null){var i=o.alternate;i!==null&&i.memoizedState!==null&&(xo=o)}}else Yi()}function Yi(){ke(Cn,Cn.current),ke(Gr,Gr.current)}function oi(o){Re(Gr),xo===o&&(xo=null),Re(Cn)}var Cn=Q(0);function mf(o){for(var i=o;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||np(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hm(o,i,s,u){i=o.memoizedState,s=s(u,i),s=s==null?i:_({},i,s),o.memoizedState=s,o.lanes===0&&(o.updateQueue.baseState=s)}var mm={enqueueSetState:function(o,i,s){o=o._reactInternals;var u=Er(),g=zi(u);g.payload=i,s!=null&&(g.callback=s),i=Ki(o,g,u),i!==null&&(Ar(i,o,u),_u(i,o,u))},enqueueReplaceState:function(o,i,s){o=o._reactInternals;var u=Er(),g=zi(u);g.tag=1,g.payload=i,s!=null&&(g.callback=s),i=Ki(o,g,u),i!==null&&(Ar(i,o,u),_u(i,o,u))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var s=Er(),u=zi(s);u.tag=2,i!=null&&(u.callback=i),i=Ki(o,u,s),i!==null&&(Ar(i,o,s),_u(i,o,s))}};function Lv(o,i,s,u,g,b,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(u,b,S):i.prototype&&i.prototype.isPureReactComponent?!m(s,u)||!m(g,b):!0}function Uv(o,i,s,u){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==o&&mm.enqueueReplaceState(i,i.state,null)}function $a(o,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(o=o.defaultProps){s===i&&(s=_({},s));for(var g in o)s[g]===void 0&&(s[g]=o[g])}return s}var pf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Bv(o){pf(o)}function Vv(o){console.error(o)}function Fv(o){pf(o)}function gf(o,i){try{var s=o.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function qv(o,i,s){try{var u=o.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function pm(o,i,s){return s=zi(s),s.tag=3,s.payload={element:null},s.callback=function(){gf(o,i)},s}function Gv(o){return o=zi(o),o.tag=3,o}function zv(o,i,s,u){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;o.payload=function(){return g(b)},o.callback=function(){qv(i,s,u)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(o.callback=function(){qv(i,s,u),typeof g!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function sE(o,i,s,u,g){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&pu(i,s,g,!0),s=Gr.current,s!==null){switch(s.tag){case 13:return xo===null?Vm():s.alternate===null&&cn===0&&(cn=3),s.flags&=-257,s.flags|=65536,s.lanes=g,u===Kh?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),qm(o,u,g)),!1;case 22:return s.flags|=65536,u===Kh?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),qm(o,u,g)),!1}throw Error(r(435,s.tag))}return qm(o,u,g),Vm(),!1}if(Ut)return i=Gr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==Uh&&(o=Error(r(422),{cause:u}),mu(je(o,s)))):(u!==Uh&&(i=Error(r(423),{cause:u}),mu(je(i,s))),o=o.current.alternate,o.flags|=65536,g&=-g,o.lanes|=g,u=je(u,s),g=pm(o.stateNode,u,g),Yh(o,g),cn!==4&&(cn=2)),!1;var b=Error(r(520),{cause:u});if(b=je(b,s),Pu===null?Pu=[b]:Pu.push(b),cn!==4&&(cn=2),i===null)return!0;u=je(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,o=g&-g,s.lanes|=o,o=pm(s.stateNode,u,o),Yh(s,o),!1;case 1:if(i=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ji===null||!ji.has(b))))return s.flags|=65536,g&=-g,s.lanes|=g,g=Gv(g),zv(g,o,s,u),Yh(s,g),!1}s=s.return}while(s!==null);return!1}var Kv=Error(r(461)),Dn=!1;function Gn(o,i,s,u){i.child=o===null?Ov(i,null,s,u):zs(i,o.child,s,u)}function $v(o,i,s,u,g){s=s.render;var b=i.ref;if("ref"in u){var S={};for(var M in u)M!=="ref"&&(S[M]=u[M])}else S=u;return Ga(i),u=Wh(o,i,s,S,b,g),M=jh(),o!==null&&!Dn?(em(o,i,g),ii(o,i,g)):(Ut&&M&&Ph(i),i.flags|=1,Gn(o,i,u,g),i.child)}function Hv(o,i,s,u,g){if(o===null){var b=s.type;return typeof b=="function"&&!Ih(b)&&b.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=b,Yv(o,i,b,u,g)):(o=Jc(s.type,null,u,i,i.mode,g),o.ref=i.ref,o.return=i,i.child=o)}if(b=o.child,!Tm(o,g)){var S=b.memoizedProps;if(s=s.compare,s=s!==null?s:m,s(S,u)&&o.ref===i.ref)return ii(o,i,g)}return i.flags|=1,o=Wo(b,u),o.ref=i.ref,o.return=i,i.child=o}function Yv(o,i,s,u,g){if(o!==null){var b=o.memoizedProps;if(m(b,u)&&o.ref===i.ref)if(Dn=!1,i.pendingProps=u=b,Tm(o,g))(o.flags&131072)!==0&&(Dn=!0);else return i.lanes=o.lanes,ii(o,i,g)}return gm(o,i,s,u,g)}function Jv(o,i,s){var u=i.pendingProps,g=u.children,b=o!==null?o.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=b!==null?b.baseLanes|s:s,o!==null){for(g=i.child=o.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;i.childLanes=b&~u}else i.childLanes=0,i.child=null;return Xv(o,i,u,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},o!==null&&jc(i,b!==null?b.cachePool:null),b!==null?Yy(i,b):Xh(),Pv(i);else return i.lanes=i.childLanes=536870912,Xv(o,i,b!==null?b.baseLanes|s:s,s)}else b!==null?(jc(i,b.cachePool),Yy(i,b),Yi(),i.memoizedState=null):(o!==null&&jc(i,null),Xh(),Yi());return Gn(o,i,g,s),i.child}function Xv(o,i,s,u){var g=zh();return g=g===null?null:{parent:Tn._currentValue,pool:g},i.memoizedState={baseLanes:s,cachePool:g},o!==null&&jc(i,null),Xh(),Pv(i),o!==null&&pu(o,i,u,!0),null}function yf(o,i){var s=i.ref;if(s===null)o!==null&&o.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(o===null||o.ref!==s)&&(i.flags|=4194816)}}function gm(o,i,s,u,g){return Ga(i),s=Wh(o,i,s,u,void 0,g),u=jh(),o!==null&&!Dn?(em(o,i,g),ii(o,i,g)):(Ut&&u&&Ph(i),i.flags|=1,Gn(o,i,s,g),i.child)}function Zv(o,i,s,u,g,b){return Ga(i),i.updateQueue=null,s=Xy(i,u,s,g),Jy(o),u=jh(),o!==null&&!Dn?(em(o,i,b),ii(o,i,b)):(Ut&&u&&Ph(i),i.flags|=1,Gn(o,i,s,b),i.child)}function Qv(o,i,s,u,g){if(Ga(i),i.stateNode===null){var b=bo,S=s.contextType;typeof S=="object"&&S!==null&&(b=Qn(S)),b=new s(u,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=mm,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=u,b.state=i.memoizedState,b.refs={},$h(i),S=s.contextType,b.context=typeof S=="object"&&S!==null?Qn(S):bo,b.state=i.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(hm(i,s,S,u),b.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&mm.enqueueReplaceState(b,b.state,null),wu(i,u,b,g),xu(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(o===null){b=i.stateNode;var M=i.memoizedProps,U=$a(s,M);b.props=U;var se=b.context,we=s.contextType;S=bo,typeof we=="object"&&we!==null&&(S=Qn(we));var Ae=s.getDerivedStateFromProps;we=typeof Ae=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,we||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||se!==S)&&Uv(i,b,u,S),Gi=!1;var ce=i.memoizedState;b.state=ce,wu(i,u,b,g),xu(),se=i.memoizedState,M||ce!==se||Gi?(typeof Ae=="function"&&(hm(i,s,Ae,u),se=i.memoizedState),(U=Gi||Lv(i,s,U,u,ce,se,S))?(we||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=se),b.props=u,b.state=se,b.context=S,u=U):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{b=i.stateNode,Hh(o,i),S=i.memoizedProps,we=$a(s,S),b.props=we,Ae=i.pendingProps,ce=b.context,se=s.contextType,U=bo,typeof se=="object"&&se!==null&&(U=Qn(se)),M=s.getDerivedStateFromProps,(se=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==Ae||ce!==U)&&Uv(i,b,u,U),Gi=!1,ce=i.memoizedState,b.state=ce,wu(i,u,b,g),xu();var fe=i.memoizedState;S!==Ae||ce!==fe||Gi||o!==null&&o.dependencies!==null&&Qc(o.dependencies)?(typeof M=="function"&&(hm(i,s,M,u),fe=i.memoizedState),(we=Gi||Lv(i,s,we,u,ce,fe,U)||o!==null&&o.dependencies!==null&&Qc(o.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,fe,U),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,fe,U)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===o.memoizedProps&&ce===o.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===o.memoizedProps&&ce===o.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=fe),b.props=u,b.state=fe,b.context=U,u=we):(typeof b.componentDidUpdate!="function"||S===o.memoizedProps&&ce===o.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===o.memoizedProps&&ce===o.memoizedState||(i.flags|=1024),u=!1)}return b=u,yf(o,i),u=(i.flags&128)!==0,b||u?(b=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,o!==null&&u?(i.child=zs(i,o.child,null,g),i.child=zs(i,null,s,g)):Gn(o,i,s,g),i.memoizedState=b.state,o=i.child):o=ii(o,i,g),o}function Wv(o,i,s,u){return hu(),i.flags|=256,Gn(o,i,s,u),i.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vm(o){return{baseLanes:o,cachePool:Vy()}}function bm(o,i,s){return o=o!==null?o.childLanes&~s:0,i&&(o|=zr),o}function jv(o,i,s){var u=i.pendingProps,g=!1,b=(i.flags&128)!==0,S;if((S=b)||(S=o!==null&&o.memoizedState===null?!1:(Cn.current&2)!==0),S&&(g=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,o===null){if(Ut){if(g?Hi(i):Yi(),Ut){var M=un,U;if(U=M){e:{for(U=M,M=_o;U.nodeType!==8;){if(!M){M=null;break e}if(U=oo(U.nextSibling),U===null){M=null;break e}}M=U}M!==null?(i.memoizedState={dehydrated:M,treeContext:Ua!==null?{id:jo,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},U=wr(18,null,null,0),U.stateNode=M,U.return=i,i.child=U,ar=i,un=null,U=!0):U=!1}U||Fa(i)}if(M=i.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return np(M)?i.lanes=32:i.lanes=536870912,null;oi(i)}return M=u.children,u=u.fallback,g?(Yi(),g=i.mode,M=vf({mode:"hidden",children:M},g),u=La(u,g,s,null),M.return=i,u.return=i,M.sibling=u,i.child=M,g=i.child,g.memoizedState=vm(s),g.childLanes=bm(o,S,s),i.memoizedState=ym,u):(Hi(i),_m(i,M))}if(U=o.memoizedState,U!==null&&(M=U.dehydrated,M!==null)){if(b)i.flags&256?(Hi(i),i.flags&=-257,i=xm(o,i,s)):i.memoizedState!==null?(Yi(),i.child=o.child,i.flags|=128,i=null):(Yi(),g=u.fallback,M=i.mode,u=vf({mode:"visible",children:u.children},M),g=La(g,M,s,null),g.flags|=2,u.return=i,g.return=i,u.sibling=g,i.child=u,zs(i,o.child,null,s),u=i.child,u.memoizedState=vm(s),u.childLanes=bm(o,S,s),i.memoizedState=ym,i=g);else if(Hi(i),np(M)){if(S=M.nextSibling&&M.nextSibling.dataset,S)var se=S.dgst;S=se,u=Error(r(419)),u.stack="",u.digest=S,mu({value:u,source:null,stack:null}),i=xm(o,i,s)}else if(Dn||pu(o,i,s,!1),S=(s&o.childLanes)!==0,Dn||S){if(S=Xt,S!==null&&(u=s&-s,u=(u&42)!==0?1:Gl(u),u=(u&(S.suspendedLanes|s))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,no(o,u),Ar(S,o,u),Kv;M.data==="$?"||Vm(),i=xm(o,i,s)}else M.data==="$?"?(i.flags|=192,i.child=o.child,i=null):(o=U.treeContext,un=oo(M.nextSibling),ar=i,Ut=!0,Va=null,_o=!1,o!==null&&(Fr[qr++]=jo,Fr[qr++]=ei,Fr[qr++]=Ua,jo=o.id,ei=o.overflow,Ua=i),i=_m(i,u.children),i.flags|=4096);return i}return g?(Yi(),g=u.fallback,M=i.mode,U=o.child,se=U.sibling,u=Wo(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,se!==null?g=Wo(se,g):(g=La(g,M,s,null),g.flags|=2),g.return=i,u.return=i,u.sibling=g,i.child=u,u=g,g=i.child,M=o.child.memoizedState,M===null?M=vm(s):(U=M.cachePool,U!==null?(se=Tn._currentValue,U=U.parent!==se?{parent:se,pool:se}:U):U=Vy(),M={baseLanes:M.baseLanes|s,cachePool:U}),g.memoizedState=M,g.childLanes=bm(o,S,s),i.memoizedState=ym,u):(Hi(i),s=o.child,o=s.sibling,s=Wo(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,o!==null&&(S=i.deletions,S===null?(i.deletions=[o],i.flags|=16):S.push(o)),i.child=s,i.memoizedState=null,s)}function _m(o,i){return i=vf({mode:"visible",children:i},o.mode),i.return=o,o.child=i}function vf(o,i){return o=wr(22,o,null,i),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function xm(o,i,s){return zs(i,o.child,null,s),o=_m(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function e0(o,i,s){o.lanes|=i;var u=o.alternate;u!==null&&(u.lanes|=i),Vh(o.return,i,s)}function wm(o,i,s,u,g){var b=o.memoizedState;b===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=s,b.tailMode=g)}function t0(o,i,s){var u=i.pendingProps,g=u.revealOrder,b=u.tail;if(Gn(o,i,u.children,s),u=Cn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&e0(o,s,i);else if(o.tag===19)e0(o,s,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}u&=1}switch(ke(Cn,u),g){case"forwards":for(s=i.child,g=null;s!==null;)o=s.alternate,o!==null&&mf(o)===null&&(g=s),s=s.sibling;s=g,s===null?(g=i.child,i.child=null):(g=s.sibling,s.sibling=null),wm(i,!1,g,s,b);break;case"backwards":for(s=null,g=i.child,i.child=null;g!==null;){if(o=g.alternate,o!==null&&mf(o)===null){i.child=g;break}o=g.sibling,g.sibling=s,s=g,g=o}wm(i,!0,s,null,b);break;case"together":wm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ii(o,i,s){if(o!==null&&(i.dependencies=o.dependencies),Wi|=i.lanes,(s&i.childLanes)===0)if(o!==null){if(pu(o,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(o!==null&&i.child!==o.child)throw Error(r(153));if(i.child!==null){for(o=i.child,s=Wo(o,o.pendingProps),i.child=s,s.return=i;o.sibling!==null;)o=o.sibling,s=s.sibling=Wo(o,o.pendingProps),s.return=i;s.sibling=null}return i.child}function Tm(o,i){return(o.lanes&i)!==0?!0:(o=o.dependencies,!!(o!==null&&Qc(o)))}function lE(o,i,s){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),qi(i,Tn,o.memoizedState.cache),hu();break;case 27:case 5:st(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:qi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Hi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?jv(o,i,s):(Hi(i),o=ii(o,i,s),o!==null?o.sibling:null);Hi(i);break;case 19:var g=(o.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(pu(o,i,s,!1),u=(s&i.childLanes)!==0),g){if(u)return t0(o,i,s);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ke(Cn,Cn.current),u)break;return null;case 22:case 23:return i.lanes=0,Jv(o,i,s);case 24:qi(i,Tn,o.memoizedState.cache)}return ii(o,i,s)}function n0(o,i,s){if(o!==null)if(o.memoizedProps!==i.pendingProps)Dn=!0;else{if(!Tm(o,s)&&(i.flags&128)===0)return Dn=!1,lE(o,i,s);Dn=(o.flags&131072)!==0}else Dn=!1,Ut&&(i.flags&1048576)!==0&&Iy(i,Zc,i.index);switch(i.lanes=0,i.tag){case 16:e:{o=i.pendingProps;var u=i.elementType,g=u._init;if(u=g(u._payload),i.type=u,typeof u=="function")Ih(u)?(o=$a(u,o),i.tag=1,i=Qv(null,i,u,o,s)):(i.tag=0,i=gm(null,i,u,o,s));else{if(u!=null){if(g=u.$$typeof,g===J){i.tag=11,i=$v(null,i,u,o,s);break e}else if(g===H){i.tag=14,i=Hv(null,i,u,o,s);break e}}throw i=me(u)||u,Error(r(306,i,""))}}return i;case 0:return gm(o,i,i.type,i.pendingProps,s);case 1:return u=i.type,g=$a(u,i.pendingProps),Qv(o,i,u,g,s);case 3:e:{if(Ze(i,i.stateNode.containerInfo),o===null)throw Error(r(387));u=i.pendingProps;var b=i.memoizedState;g=b.element,Hh(o,i),wu(i,u,null,s);var S=i.memoizedState;if(u=S.cache,qi(i,Tn,u),u!==b.cache&&Fh(i,[Tn],s,!0),xu(),u=S.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=Wv(o,i,u,s);break e}else if(u!==g){g=je(Error(r(424)),i),mu(g),i=Wv(o,i,u,s);break e}else{switch(o=i.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(un=oo(o.firstChild),ar=i,Ut=!0,Va=null,_o=!0,s=Ov(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(hu(),u===g){i=ii(o,i,s);break e}Gn(o,i,u,s)}i=i.child}return i;case 26:return yf(o,i),o===null?(s=ab(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ut||(s=i.type,o=i.pendingProps,u=If(Fe.current).createElement(s),u[dn]=i,u[xt]=o,Kn(u,s,o),$t(u),i.stateNode=u):i.memoizedState=ab(i.type,o.memoizedProps,i.pendingProps,o.memoizedState),null;case 27:return st(i),o===null&&Ut&&(u=i.stateNode=rb(i.type,i.pendingProps,Fe.current),ar=i,_o=!0,g=un,na(i.type)?(rp=g,un=oo(u.firstChild)):un=g),Gn(o,i,i.pendingProps.children,s),yf(o,i),o===null&&(i.flags|=4194304),i.child;case 5:return o===null&&Ut&&((g=u=un)&&(u=LE(u,i.type,i.pendingProps,_o),u!==null?(i.stateNode=u,ar=i,un=oo(u.firstChild),_o=!1,g=!0):g=!1),g||Fa(i)),st(i),g=i.type,b=i.pendingProps,S=o!==null?o.memoizedProps:null,u=b.children,jm(g,b)?u=null:S!==null&&jm(g,S)&&(i.flags|=32),i.memoizedState!==null&&(g=Wh(o,i,eE,null,null,s),Ku._currentValue=g),yf(o,i),Gn(o,i,u,s),i.child;case 6:return o===null&&Ut&&((o=s=un)&&(s=UE(s,i.pendingProps,_o),s!==null?(i.stateNode=s,ar=i,un=null,o=!0):o=!1),o||Fa(i)),null;case 13:return jv(o,i,s);case 4:return Ze(i,i.stateNode.containerInfo),u=i.pendingProps,o===null?i.child=zs(i,null,u,s):Gn(o,i,u,s),i.child;case 11:return $v(o,i,i.type,i.pendingProps,s);case 7:return Gn(o,i,i.pendingProps,s),i.child;case 8:return Gn(o,i,i.pendingProps.children,s),i.child;case 12:return Gn(o,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,qi(i,i.type,u.value),Gn(o,i,u.children,s),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,Ga(i),g=Qn(g),u=u(g),i.flags|=1,Gn(o,i,u,s),i.child;case 14:return Hv(o,i,i.type,i.pendingProps,s);case 15:return Yv(o,i,i.type,i.pendingProps,s);case 19:return t0(o,i,s);case 31:return u=i.pendingProps,s=i.mode,u={mode:u.mode,children:u.children},o===null?(s=vf(u,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Wo(o.child,u),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Jv(o,i,s);case 24:return Ga(i),u=Qn(Tn),o===null?(g=zh(),g===null&&(g=Xt,b=qh(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=s),g=b),i.memoizedState={parent:u,cache:g},$h(i),qi(i,Tn,g)):((o.lanes&s)!==0&&(Hh(o,i),wu(i,null,null,s),xu()),g=o.memoizedState,b=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),qi(i,Tn,u)):(u=b.cache,qi(i,Tn,u),u!==g.cache&&Fh(i,[Tn],s,!0))),Gn(o,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ai(o){o.flags|=4}function r0(o,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!fb(i)){if(i=Gr.current,i!==null&&((It&4194048)===It?xo!==null:(It&62914560)!==It&&(It&536870912)===0||i!==xo))throw bu=Kh,Fy;o.flags|=8192}}function bf(o,i){i!==null&&(o.flags|=4),o.flags&16384&&(i=o.tag!==22?Ve():536870912,o.lanes|=i,Ys|=i)}function Mu(o,i){if(!Ut)switch(o.tailMode){case"hidden":i=o.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?o.tail=null:s.sibling=null;break;case"collapsed":s=o.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:u.sibling=null}}function an(o){var i=o.alternate!==null&&o.alternate.child===o.child,s=0,u=0;if(i)for(var g=o.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=u,o.childLanes=s,i}function uE(o,i,s){var u=i.pendingProps;switch(Lh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(i),null;case 1:return an(i),null;case 3:return s=i.stateNode,u=null,o!==null&&(u=o.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ni(Tn),_e(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(o===null||o.child===null)&&(du(i)?ai(i):o===null||o.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Py())),an(i),null;case 26:return s=i.memoizedState,o===null?(ai(i),s!==null?(an(i),r0(i,s)):(an(i),i.flags&=-16777217)):s?s!==o.memoizedState?(ai(i),an(i),r0(i,s)):(an(i),i.flags&=-16777217):(o.memoizedProps!==u&&ai(i),an(i),i.flags&=-16777217),null;case 27:et(i),s=Fe.current;var g=i.type;if(o!==null&&i.stateNode!=null)o.memoizedProps!==u&&ai(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return an(i),null}o=ze.current,du(i)?Dy(i):(o=rb(g,u,s),i.stateNode=o,ai(i))}return an(i),null;case 5:if(et(i),s=i.type,o!==null&&i.stateNode!=null)o.memoizedProps!==u&&ai(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return an(i),null}if(o=ze.current,du(i))Dy(i);else{switch(g=If(Fe.current),o){case 1:o=g.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:o=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":o=g.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":o=g.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":o=g.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?o.multiple=!0:u.size&&(o.size=u.size);break;default:o=typeof u.is=="string"?g.createElement(s,{is:u.is}):g.createElement(s)}}o[dn]=i,o[xt]=u;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)o.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=o;e:switch(Kn(o,s,u),s){case"button":case"input":case"select":case"textarea":o=!!u.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ai(i)}}return an(i),i.flags&=-16777217,null;case 6:if(o&&i.stateNode!=null)o.memoizedProps!==u&&ai(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(o=Fe.current,du(i)){if(o=i.stateNode,s=i.memoizedProps,u=null,g=ar,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}o[dn]=i,o=!!(o.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Z0(o.nodeValue,s)),o||Fa(i)}else o=If(o).createTextNode(u),o[dn]=i,i.stateNode=o}return an(i),null;case 13:if(u=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(g=du(i),u!==null&&u.dehydrated!==null){if(o===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[dn]=i}else hu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;an(i),g=!1}else g=Py(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(oi(i),i):(oi(i),null)}if(oi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=u!==null,o=o!==null&&o.memoizedState!==null,s){u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var b=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048)}return s!==o&&s&&(i.child.flags|=8192),bf(i,i.updateQueue),an(i),null;case 4:return _e(),o===null&&Jm(i.stateNode.containerInfo),an(i),null;case 10:return ni(i.type),an(i),null;case 19:if(Re(Cn),g=i.memoizedState,g===null)return an(i),null;if(u=(i.flags&128)!==0,b=g.rendering,b===null)if(u)Mu(g,!1);else{if(cn!==0||o!==null&&(o.flags&128)!==0)for(o=i.child;o!==null;){if(b=mf(o),b!==null){for(i.flags|=128,Mu(g,!1),o=b.updateQueue,i.updateQueue=o,bf(i,o),i.subtreeFlags=0,o=s,s=i.child;s!==null;)Ny(s,o),s=s.sibling;return ke(Cn,Cn.current&1|2),i.child}o=o.sibling}g.tail!==null&&Ft()>wf&&(i.flags|=128,u=!0,Mu(g,!1),i.lanes=4194304)}else{if(!u)if(o=mf(b),o!==null){if(i.flags|=128,u=!0,o=o.updateQueue,i.updateQueue=o,bf(i,o),Mu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!Ut)return an(i),null}else 2*Ft()-g.renderingStartTime>wf&&s!==536870912&&(i.flags|=128,u=!0,Mu(g,!1),i.lanes=4194304);g.isBackwards?(b.sibling=i.child,i.child=b):(o=g.last,o!==null?o.sibling=b:i.child=b,g.last=b)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ft(),i.sibling=null,o=Cn.current,ke(Cn,u?o&1|2:o&1),i):(an(i),null);case 22:case 23:return oi(i),Zh(),u=i.memoizedState!==null,o!==null?o.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(an(i),i.subtreeFlags&6&&(i.flags|=8192)):an(i),s=i.updateQueue,s!==null&&bf(i,s.retryQueue),s=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),o!==null&&Re(za),null;case 24:return s=null,o!==null&&(s=o.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ni(Tn),an(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function cE(o,i){switch(Lh(i),i.tag){case 1:return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return ni(Tn),_e(),o=i.flags,(o&65536)!==0&&(o&128)===0?(i.flags=o&-65537|128,i):null;case 26:case 27:case 5:return et(i),null;case 13:if(oi(i),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(r(340));hu()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return Re(Cn),null;case 4:return _e(),null;case 10:return ni(i.type),null;case 22:case 23:return oi(i),Zh(),o!==null&&Re(za),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 24:return ni(Tn),null;case 25:return null;default:return null}}function o0(o,i){switch(Lh(i),i.tag){case 3:ni(Tn),_e();break;case 26:case 27:case 5:et(i);break;case 4:_e();break;case 13:oi(i);break;case 19:Re(Cn);break;case 10:ni(i.type);break;case 22:case 23:oi(i),Zh(),o!==null&&Re(za);break;case 24:ni(Tn)}}function ku(o,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var g=u.next;s=g;do{if((s.tag&o)===o){u=void 0;var b=s.create,S=s.inst;u=b(),S.destroy=u}s=s.next}while(s!==g)}}catch(M){Yt(i,i.return,M)}}function Ji(o,i,s){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var b=g.next;u=b;do{if((u.tag&o)===o){var S=u.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,g=i;var U=s,se=M;try{se()}catch(we){Yt(g,U,we)}}}u=u.next}while(u!==b)}}catch(we){Yt(i,i.return,we)}}function i0(o){var i=o.updateQueue;if(i!==null){var s=o.stateNode;try{Hy(i,s)}catch(u){Yt(o,o.return,u)}}}function a0(o,i,s){s.props=$a(o.type,o.memoizedProps),s.state=o.memoizedState;try{s.componentWillUnmount()}catch(u){Yt(o,i,u)}}function Nu(o,i){try{var s=o.ref;if(s!==null){switch(o.tag){case 26:case 27:case 5:var u=o.stateNode;break;case 30:u=o.stateNode;break;default:u=o.stateNode}typeof s=="function"?o.refCleanup=s(u):s.current=u}}catch(g){Yt(o,i,g)}}function wo(o,i){var s=o.ref,u=o.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(g){Yt(o,i,g)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){Yt(o,i,g)}else s.current=null}function s0(o){var i=o.type,s=o.memoizedProps,u=o.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(g){Yt(o,o.return,g)}}function Cm(o,i,s){try{var u=o.stateNode;NE(u,o.type,s,i),u[xt]=i}catch(g){Yt(o,o.return,g)}}function l0(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&na(o.type)||o.tag===4}function Sm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||l0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&na(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Em(o,i,s){var u=o.tag;if(u===5||u===6)o=o.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(o,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(o),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Nf));else if(u!==4&&(u===27&&na(o.type)&&(s=o.stateNode,i=null),o=o.child,o!==null))for(Em(o,i,s),o=o.sibling;o!==null;)Em(o,i,s),o=o.sibling}function _f(o,i,s){var u=o.tag;if(u===5||u===6)o=o.stateNode,i?s.insertBefore(o,i):s.appendChild(o);else if(u!==4&&(u===27&&na(o.type)&&(s=o.stateNode),o=o.child,o!==null))for(_f(o,i,s),o=o.sibling;o!==null;)_f(o,i,s),o=o.sibling}function u0(o){var i=o.stateNode,s=o.memoizedProps;try{for(var u=o.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Kn(i,u,s),i[dn]=o,i[xt]=s}catch(b){Yt(o,o.return,b)}}var si=!1,pn=!1,Am=!1,c0=typeof WeakSet=="function"?WeakSet:Set,On=null;function fE(o,i){if(o=o.containerInfo,Qm=Bf,o=A(o),R(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{s=(s=o.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var g=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var S=0,M=-1,U=-1,se=0,we=0,Ae=o,ce=null;t:for(;;){for(var fe;Ae!==s||g!==0&&Ae.nodeType!==3||(M=S+g),Ae!==b||u!==0&&Ae.nodeType!==3||(U=S+u),Ae.nodeType===3&&(S+=Ae.nodeValue.length),(fe=Ae.firstChild)!==null;)ce=Ae,Ae=fe;for(;;){if(Ae===o)break t;if(ce===s&&++se===g&&(M=S),ce===b&&++we===u&&(U=S),(fe=Ae.nextSibling)!==null)break;Ae=ce,ce=Ae.parentNode}Ae=fe}s=M===-1||U===-1?null:{start:M,end:U}}else s=null}s=s||{start:0,end:0}}else s=null;for(Wm={focusedElem:o,selectionRange:s},Bf=!1,On=i;On!==null;)if(i=On,o=i.child,(i.subtreeFlags&1024)!==0&&o!==null)o.return=i,On=o;else for(;On!==null;){switch(i=On,b=i.alternate,o=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&b!==null){o=void 0,s=i,g=b.memoizedProps,b=b.memoizedState,u=s.stateNode;try{var ut=$a(s.type,g,s.elementType===s.type);o=u.getSnapshotBeforeUpdate(ut,b),u.__reactInternalSnapshotBeforeUpdate=o}catch(it){Yt(s,s.return,it)}}break;case 3:if((o&1024)!==0){if(o=i.stateNode.containerInfo,s=o.nodeType,s===9)tp(o);else if(s===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":tp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=i.sibling,o!==null){o.return=i.return,On=o;break}On=i.return}}function f0(o,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(o,s),u&4&&ku(5,s);break;case 1:if(Xi(o,s),u&4)if(o=s.stateNode,i===null)try{o.componentDidMount()}catch(S){Yt(s,s.return,S)}else{var g=$a(s.type,i.memoizedProps);i=i.memoizedState;try{o.componentDidUpdate(g,i,o.__reactInternalSnapshotBeforeUpdate)}catch(S){Yt(s,s.return,S)}}u&64&&i0(s),u&512&&Nu(s,s.return);break;case 3:if(Xi(o,s),u&64&&(o=s.updateQueue,o!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Hy(o,i)}catch(S){Yt(s,s.return,S)}}break;case 27:i===null&&u&4&&u0(s);case 26:case 5:Xi(o,s),i===null&&u&4&&s0(s),u&512&&Nu(s,s.return);break;case 12:Xi(o,s);break;case 13:Xi(o,s),u&4&&m0(o,s),u&64&&(o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(s=_E.bind(null,s),BE(o,s))));break;case 22:if(u=s.memoizedState!==null||si,!u){i=i!==null&&i.memoizedState!==null||pn,g=si;var b=pn;si=u,(pn=i)&&!b?Zi(o,s,(s.subtreeFlags&8772)!==0):Xi(o,s),si=g,pn=b}break;case 30:break;default:Xi(o,s)}}function d0(o){var i=o.alternate;i!==null&&(o.alternate=null,d0(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&Or(i)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var nn=null,hr=!1;function li(o,i,s){for(s=s.child;s!==null;)h0(o,i,s),s=s.sibling}function h0(o,i,s){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(vr,s)}catch{}switch(s.tag){case 26:pn||wo(s,i),li(o,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:pn||wo(s,i);var u=nn,g=hr;na(s.type)&&(nn=s.stateNode,hr=!1),li(o,i,s),Fu(s.stateNode),nn=u,hr=g;break;case 5:pn||wo(s,i);case 6:if(u=nn,g=hr,nn=null,li(o,i,s),nn=u,hr=g,nn!==null)if(hr)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(s.stateNode)}catch(b){Yt(s,i,b)}else try{nn.removeChild(s.stateNode)}catch(b){Yt(s,i,b)}break;case 18:nn!==null&&(hr?(o=nn,tb(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.stateNode),Ju(o)):tb(nn,s.stateNode));break;case 4:u=nn,g=hr,nn=s.stateNode.containerInfo,hr=!0,li(o,i,s),nn=u,hr=g;break;case 0:case 11:case 14:case 15:pn||Ji(2,s,i),pn||Ji(4,s,i),li(o,i,s);break;case 1:pn||(wo(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&a0(s,i,u)),li(o,i,s);break;case 21:li(o,i,s);break;case 22:pn=(u=pn)||s.memoizedState!==null,li(o,i,s),pn=u;break;default:li(o,i,s)}}function m0(o,i){if(i.memoizedState===null&&(o=i.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ju(o)}catch(s){Yt(i,i.return,s)}}function dE(o){switch(o.tag){case 13:case 19:var i=o.stateNode;return i===null&&(i=o.stateNode=new c0),i;case 22:return o=o.stateNode,i=o._retryCache,i===null&&(i=o._retryCache=new c0),i;default:throw Error(r(435,o.tag))}}function Rm(o,i){var s=dE(o);i.forEach(function(u){var g=xE.bind(null,o,u);s.has(u)||(s.add(u),u.then(g,g))})}function Tr(o,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var g=s[u],b=o,S=i,M=S;e:for(;M!==null;){switch(M.tag){case 27:if(na(M.type)){nn=M.stateNode,hr=!1;break e}break;case 5:nn=M.stateNode,hr=!1;break e;case 3:case 4:nn=M.stateNode.containerInfo,hr=!0;break e}M=M.return}if(nn===null)throw Error(r(160));h0(b,S,g),nn=null,hr=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)p0(i,o),i=i.sibling}var ro=null;function p0(o,i){var s=o.alternate,u=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Tr(i,o),Cr(o),u&4&&(Ji(3,o,o.return),ku(3,o),Ji(5,o,o.return));break;case 1:Tr(i,o),Cr(o),u&512&&(pn||s===null||wo(s,s.return)),u&64&&si&&(o=o.updateQueue,o!==null&&(u=o.callbacks,u!==null&&(s=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var g=ro;if(Tr(i,o),Cr(o),u&512&&(pn||s===null||wo(s,s.return)),u&4){var b=s!==null?s.memoizedState:null;if(u=o.memoizedState,s===null)if(u===null)if(o.stateNode===null){e:{u=o.type,s=o.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Aa]||b[dn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(u),g.head.insertBefore(b,g.querySelector("head > title"))),Kn(b,u,s),b[dn]=o,$t(b),u=b;break e;case"link":var S=ub("link","href",g).get(u+(s.href||""));if(S){for(var M=0;M<S.length;M++)if(b=S[M],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(M,1);break t}}b=g.createElement(u),Kn(b,u,s),g.head.appendChild(b);break;case"meta":if(S=ub("meta","content",g).get(u+(s.content||""))){for(M=0;M<S.length;M++)if(b=S[M],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(M,1);break t}}b=g.createElement(u),Kn(b,u,s),g.head.appendChild(b);break;default:throw Error(r(468,u))}b[dn]=o,$t(b),u=b}o.stateNode=u}else cb(g,o.type,o.stateNode);else o.stateNode=lb(g,u,o.memoizedProps);else b!==u?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,u===null?cb(g,o.type,o.stateNode):lb(g,u,o.memoizedProps)):u===null&&o.stateNode!==null&&Cm(o,o.memoizedProps,s.memoizedProps)}break;case 27:Tr(i,o),Cr(o),u&512&&(pn||s===null||wo(s,s.return)),s!==null&&u&4&&Cm(o,o.memoizedProps,s.memoizedProps);break;case 5:if(Tr(i,o),Cr(o),u&512&&(pn||s===null||wo(s,s.return)),o.flags&32){g=o.stateNode;try{Ni(g,"")}catch(fe){Yt(o,o.return,fe)}}u&4&&o.stateNode!=null&&(g=o.memoizedProps,Cm(o,g,s!==null?s.memoizedProps:g)),u&1024&&(Am=!0);break;case 6:if(Tr(i,o),Cr(o),u&4){if(o.stateNode===null)throw Error(r(162));u=o.memoizedProps,s=o.stateNode;try{s.nodeValue=u}catch(fe){Yt(o,o.return,fe)}}break;case 3:if(Pf=null,g=ro,ro=Df(i.containerInfo),Tr(i,o),ro=g,Cr(o),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Ju(i.containerInfo)}catch(fe){Yt(o,o.return,fe)}Am&&(Am=!1,g0(o));break;case 4:u=ro,ro=Df(o.stateNode.containerInfo),Tr(i,o),Cr(o),ro=u;break;case 12:Tr(i,o),Cr(o);break;case 13:Tr(i,o),Cr(o),o.child.flags&8192&&o.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Om=Ft()),u&4&&(u=o.updateQueue,u!==null&&(o.updateQueue=null,Rm(o,u)));break;case 22:g=o.memoizedState!==null;var U=s!==null&&s.memoizedState!==null,se=si,we=pn;if(si=se||g,pn=we||U,Tr(i,o),pn=we,si=se,Cr(o),u&8192)e:for(i=o.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(s===null||U||si||pn||Ha(o)),s=null,i=o;;){if(i.tag===5||i.tag===26){if(s===null){U=s=i;try{if(b=U.stateNode,g)S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{M=U.stateNode;var Ae=U.memoizedProps.style,ce=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;M.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(fe){Yt(U,U.return,fe)}}}else if(i.tag===6){if(s===null){U=i;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(fe){Yt(U,U.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===o)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=o.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Rm(o,s))));break;case 19:Tr(i,o),Cr(o),u&4&&(u=o.updateQueue,u!==null&&(o.updateQueue=null,Rm(o,u)));break;case 30:break;case 21:break;default:Tr(i,o),Cr(o)}}function Cr(o){var i=o.flags;if(i&2){try{for(var s,u=o.return;u!==null;){if(l0(u)){s=u;break}u=u.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var g=s.stateNode,b=Sm(o);_f(o,b,g);break;case 5:var S=s.stateNode;s.flags&32&&(Ni(S,""),s.flags&=-33);var M=Sm(o);_f(o,M,S);break;case 3:case 4:var U=s.stateNode.containerInfo,se=Sm(o);Em(o,se,U);break;default:throw Error(r(161))}}catch(we){Yt(o,o.return,we)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function g0(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var i=o;g0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),o=o.sibling}}function Xi(o,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)f0(o,i.alternate,i),i=i.sibling}function Ha(o){for(o=o.child;o!==null;){var i=o;switch(i.tag){case 0:case 11:case 14:case 15:Ji(4,i,i.return),Ha(i);break;case 1:wo(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&a0(i,i.return,s),Ha(i);break;case 27:Fu(i.stateNode);case 26:case 5:wo(i,i.return),Ha(i);break;case 22:i.memoizedState===null&&Ha(i);break;case 30:Ha(i);break;default:Ha(i)}o=o.sibling}}function Zi(o,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=o,b=i,S=b.flags;switch(b.tag){case 0:case 11:case 15:Zi(g,b,s),ku(4,b);break;case 1:if(Zi(g,b,s),u=b,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(se){Yt(u,u.return,se)}if(u=b,g=u.updateQueue,g!==null){var M=u.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)$y(U[g],M)}catch(se){Yt(u,u.return,se)}}s&&S&64&&i0(b),Nu(b,b.return);break;case 27:u0(b);case 26:case 5:Zi(g,b,s),s&&u===null&&S&4&&s0(b),Nu(b,b.return);break;case 12:Zi(g,b,s);break;case 13:Zi(g,b,s),s&&S&4&&m0(g,b);break;case 22:b.memoizedState===null&&Zi(g,b,s),Nu(b,b.return);break;case 30:break;default:Zi(g,b,s)}i=i.sibling}}function Mm(o,i){var s=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(o!=null&&o.refCount++,s!=null&&gu(s))}function km(o,i){o=null,i.alternate!==null&&(o=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==o&&(i.refCount++,o!=null&&gu(o))}function To(o,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y0(o,i,s,u),i=i.sibling}function y0(o,i,s,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:To(o,i,s,u),g&2048&&ku(9,i);break;case 1:To(o,i,s,u);break;case 3:To(o,i,s,u),g&2048&&(o=null,i.alternate!==null&&(o=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==o&&(i.refCount++,o!=null&&gu(o)));break;case 12:if(g&2048){To(o,i,s,u),o=i.stateNode;try{var b=i.memoizedProps,S=b.id,M=b.onPostCommit;typeof M=="function"&&M(S,i.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(U){Yt(i,i.return,U)}}else To(o,i,s,u);break;case 13:To(o,i,s,u);break;case 23:break;case 22:b=i.stateNode,S=i.alternate,i.memoizedState!==null?b._visibility&2?To(o,i,s,u):Iu(o,i):b._visibility&2?To(o,i,s,u):(b._visibility|=2,Ks(o,i,s,u,(i.subtreeFlags&10256)!==0)),g&2048&&Mm(S,i);break;case 24:To(o,i,s,u),g&2048&&km(i.alternate,i);break;default:To(o,i,s,u)}}function Ks(o,i,s,u,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=o,S=i,M=s,U=u,se=S.flags;switch(S.tag){case 0:case 11:case 15:Ks(b,S,M,U,g),ku(8,S);break;case 23:break;case 22:var we=S.stateNode;S.memoizedState!==null?we._visibility&2?Ks(b,S,M,U,g):Iu(b,S):(we._visibility|=2,Ks(b,S,M,U,g)),g&&se&2048&&Mm(S.alternate,S);break;case 24:Ks(b,S,M,U,g),g&&se&2048&&km(S.alternate,S);break;default:Ks(b,S,M,U,g)}i=i.sibling}}function Iu(o,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=o,u=i,g=u.flags;switch(u.tag){case 22:Iu(s,u),g&2048&&Mm(u.alternate,u);break;case 24:Iu(s,u),g&2048&&km(u.alternate,u);break;default:Iu(s,u)}i=i.sibling}}var Du=8192;function $s(o){if(o.subtreeFlags&Du)for(o=o.child;o!==null;)v0(o),o=o.sibling}function v0(o){switch(o.tag){case 26:$s(o),o.flags&Du&&o.memoizedState!==null&&QE(ro,o.memoizedState,o.memoizedProps);break;case 5:$s(o);break;case 3:case 4:var i=ro;ro=Df(o.stateNode.containerInfo),$s(o),ro=i;break;case 22:o.memoizedState===null&&(i=o.alternate,i!==null&&i.memoizedState!==null?(i=Du,Du=16777216,$s(o),Du=i):$s(o));break;default:$s(o)}}function b0(o){var i=o.alternate;if(i!==null&&(o=i.child,o!==null)){i.child=null;do i=o.sibling,o.sibling=null,o=i;while(o!==null)}}function Ou(o){var i=o.deletions;if((o.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];On=u,x0(u,o)}b0(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)_0(o),o=o.sibling}function _0(o){switch(o.tag){case 0:case 11:case 15:Ou(o),o.flags&2048&&Ji(9,o,o.return);break;case 3:Ou(o);break;case 12:Ou(o);break;case 22:var i=o.stateNode;o.memoizedState!==null&&i._visibility&2&&(o.return===null||o.return.tag!==13)?(i._visibility&=-3,xf(o)):Ou(o);break;default:Ou(o)}}function xf(o){var i=o.deletions;if((o.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];On=u,x0(u,o)}b0(o)}for(o=o.child;o!==null;){switch(i=o,i.tag){case 0:case 11:case 15:Ji(8,i,i.return),xf(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,xf(i));break;default:xf(i)}o=o.sibling}}function x0(o,i){for(;On!==null;){var s=On;switch(s.tag){case 0:case 11:case 15:Ji(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gu(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,On=u;else e:for(s=o;On!==null;){u=On;var g=u.sibling,b=u.return;if(d0(u),u===s){On=null;break e}if(g!==null){g.return=b,On=g;break e}On=b}}}var hE={getCacheForType:function(o){var i=Qn(Tn),s=i.data.get(o);return s===void 0&&(s=o(),i.data.set(o,s)),s}},mE=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Xt=null,St=null,It=0,Vt=0,Sr=null,Qi=!1,Hs=!1,Nm=!1,ui=0,cn=0,Wi=0,Ya=0,Im=0,zr=0,Ys=0,Pu=null,mr=null,Dm=!1,Om=0,wf=1/0,Tf=null,ji=null,zn=0,ea=null,Js=null,Xs=0,Pm=0,Lm=null,w0=null,Lu=0,Um=null;function Er(){if((Bt&2)!==0&&It!==0)return It&-It;if(X.T!==null){var o=Ls;return o!==0?o:Km()}return Vo()}function T0(){zr===0&&(zr=(It&536870912)===0||Ut?Ca():536870912);var o=Gr.current;return o!==null&&(o.flags|=32),zr}function Ar(o,i,s){(o===Xt&&(Vt===2||Vt===9)||o.cancelPendingCommit!==null)&&(Zs(o,0),ta(o,It,zr,!1)),Ti(o,s),((Bt&2)===0||o!==Xt)&&(o===Xt&&((Bt&2)===0&&(Ya|=s),cn===4&&ta(o,It,zr,!1)),Co(o))}function C0(o,i,s){if((Bt&6)!==0)throw Error(r(327));var u=!s&&(i&124)===0&&(i&o.expiredLanes)===0||jr(o,i),g=u?yE(o,i):Fm(o,i,!0),b=u;do{if(g===0){Hs&&!u&&ta(o,i,0,!1);break}else{if(s=o.current.alternate,b&&!pE(s)){g=Fm(o,i,!1),b=!1;continue}if(g===2){if(b=i,o.errorRecoveryDisabledLanes&b)var S=0;else S=o.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var M=o;g=Pu;var U=M.current.memoizedState.isDehydrated;if(U&&(Zs(M,S).flags|=256),S=Fm(M,S,!1),S!==2){if(Nm&&!U){M.errorRecoveryDisabledLanes|=b,Ya|=b,g=4;break e}b=mr,mr=g,b!==null&&(mr===null?mr=b:mr.push.apply(mr,b))}g=S}if(b=!1,g!==2)continue}}if(g===1){Zs(o,0),ta(o,i,0,!0);break}e:{switch(u=o,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ta(u,i,zr,!Qi);break e;case 2:mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=Om+300-Ft(),10<g)){if(ta(u,i,zr,!Qi),Xe(u,0,!0)!==0)break e;u.timeoutHandle=j0(S0.bind(null,u,s,mr,Tf,Dm,i,zr,Ya,Ys,Qi,b,2,-0,0),g);break e}S0(u,s,mr,Tf,Dm,i,zr,Ya,Ys,Qi,b,0,-0,0)}}break}while(!0);Co(o)}function S0(o,i,s,u,g,b,S,M,U,se,we,Ae,ce,fe){if(o.timeoutHandle=-1,Ae=i.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(zu={stylesheets:null,count:0,unsuspend:ZE},v0(i),Ae=WE(),Ae!==null)){o.cancelPendingCommit=Ae(I0.bind(null,o,i,b,s,u,g,S,M,U,we,1,ce,fe)),ta(o,b,S,!se);return}I0(o,i,b,s,u,g,S,M,U)}function pE(o){for(var i=o;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var g=s[u],b=g.getSnapshot;g=g.value;try{if(!Zn(b(),g))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ta(o,i,s,u){i&=~Im,i&=~Ya,o.suspendedLanes|=i,o.pingedLanes&=~i,u&&(o.warmLanes|=i),u=o.expirationTimes;for(var g=i;0<g;){var b=31-wn(g),S=1<<b;u[b]=-1,g&=~S}s!==0&&ql(o,s,i)}function Cf(){return(Bt&6)===0?(Uu(0),!1):!0}function Bm(){if(St!==null){if(Vt===0)var o=St.return;else o=St,ti=qa=null,tm(o),Gs=null,Au=0,o=St;for(;o!==null;)o0(o.alternate,o),o=o.return;St=null}}function Zs(o,i){var s=o.timeoutHandle;s!==-1&&(o.timeoutHandle=-1,DE(s)),s=o.cancelPendingCommit,s!==null&&(o.cancelPendingCommit=null,s()),Bm(),Xt=o,St=s=Wo(o.current,null),It=i,Vt=0,Sr=null,Qi=!1,Hs=jr(o,i),Nm=!1,Ys=zr=Im=Ya=Wi=cn=0,mr=Pu=null,Dm=!1,(i&8)!==0&&(i|=i&32);var u=o.entangledLanes;if(u!==0)for(o=o.entanglements,u&=i;0<u;){var g=31-wn(u),b=1<<g;i|=o[g],u&=~b}return ui=i,lt(),s}function E0(o,i){wt=null,X.H=ff,i===vu||i===ef?(i=zy(),Vt=3):i===Fy?(i=zy(),Vt=4):Vt=i===Kv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sr=i,St===null&&(cn=1,gf(o,je(i,o.current)))}function A0(){var o=X.H;return X.H=ff,o===null?ff:o}function R0(){var o=X.A;return X.A=hE,o}function Vm(){cn=4,Qi||(It&4194048)!==It&&Gr.current!==null||(Hs=!0),(Wi&134217727)===0&&(Ya&134217727)===0||Xt===null||ta(Xt,It,zr,!1)}function Fm(o,i,s){var u=Bt;Bt|=2;var g=A0(),b=R0();(Xt!==o||It!==i)&&(Tf=null,Zs(o,i)),i=!1;var S=cn;e:do try{if(Vt!==0&&St!==null){var M=St,U=Sr;switch(Vt){case 8:Bm(),S=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(i=!0);var se=Vt;if(Vt=0,Sr=null,Qs(o,M,U,se),s&&Hs){S=0;break e}break;default:se=Vt,Vt=0,Sr=null,Qs(o,M,U,se)}}gE(),S=cn;break}catch(we){E0(o,we)}while(!0);return i&&o.shellSuspendCounter++,ti=qa=null,Bt=u,X.H=g,X.A=b,St===null&&(Xt=null,It=0,lt()),S}function gE(){for(;St!==null;)M0(St)}function yE(o,i){var s=Bt;Bt|=2;var u=A0(),g=R0();Xt!==o||It!==i?(Tf=null,wf=Ft()+500,Zs(o,i)):Hs=jr(o,i);e:do try{if(Vt!==0&&St!==null){i=St;var b=Sr;t:switch(Vt){case 1:Vt=0,Sr=null,Qs(o,i,b,1);break;case 2:case 9:if(qy(b)){Vt=0,Sr=null,k0(i);break}i=function(){Vt!==2&&Vt!==9||Xt!==o||(Vt=7),Co(o)},b.then(i,i);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:qy(b)?(Vt=0,Sr=null,k0(i)):(Vt=0,Sr=null,Qs(o,i,b,7));break;case 5:var S=null;switch(St.tag){case 26:S=St.memoizedState;case 5:case 27:var M=St;if(!S||fb(S)){Vt=0,Sr=null;var U=M.sibling;if(U!==null)St=U;else{var se=M.return;se!==null?(St=se,Sf(se)):St=null}break t}}Vt=0,Sr=null,Qs(o,i,b,5);break;case 6:Vt=0,Sr=null,Qs(o,i,b,6);break;case 8:Bm(),cn=6;break e;default:throw Error(r(462))}}vE();break}catch(we){E0(o,we)}while(!0);return ti=qa=null,X.H=u,X.A=g,Bt=s,St!==null?0:(Xt=null,It=0,lt(),cn)}function vE(){for(;St!==null&&!Lt();)M0(St)}function M0(o){var i=n0(o.alternate,o,ui);o.memoizedProps=o.pendingProps,i===null?Sf(o):St=i}function k0(o){var i=o,s=i.alternate;switch(i.tag){case 15:case 0:i=Zv(s,i,i.pendingProps,i.type,void 0,It);break;case 11:i=Zv(s,i,i.pendingProps,i.type.render,i.ref,It);break;case 5:tm(i);default:o0(s,i),i=St=Ny(i,ui),i=n0(s,i,ui)}o.memoizedProps=o.pendingProps,i===null?Sf(o):St=i}function Qs(o,i,s,u){ti=qa=null,tm(i),Gs=null,Au=0;var g=i.return;try{if(sE(o,g,i,s,It)){cn=1,gf(o,je(s,o.current)),St=null;return}}catch(b){if(g!==null)throw St=g,b;cn=1,gf(o,je(s,o.current)),St=null;return}i.flags&32768?(Ut||u===1?o=!0:Hs||(It&536870912)!==0?o=!1:(Qi=o=!0,(u===2||u===9||u===3||u===6)&&(u=Gr.current,u!==null&&u.tag===13&&(u.flags|=16384))),N0(i,o)):Sf(i)}function Sf(o){var i=o;do{if((i.flags&32768)!==0){N0(i,Qi);return}o=i.return;var s=uE(i.alternate,i,ui);if(s!==null){St=s;return}if(i=i.sibling,i!==null){St=i;return}St=i=o}while(i!==null);cn===0&&(cn=5)}function N0(o,i){do{var s=cE(o.alternate,o);if(s!==null){s.flags&=32767,St=s;return}if(s=o.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(o=o.sibling,o!==null)){St=o;return}St=o=s}while(o!==null);cn=6,St=null}function I0(o,i,s,u,g,b,S,M,U){o.cancelPendingCommit=null;do Ef();while(zn!==0);if((Bt&6)!==0)throw Error(r(327));if(i!==null){if(i===o.current)throw Error(r(177));if(b=i.lanes|i.childLanes,b|=qn,Fl(o,s,b,S,M,U),o===Xt&&(St=Xt=null,It=0),Js=i,ea=o,Xs=s,Pm=b,Lm=g,w0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,wE(rn,function(){return U0(),null})):(o.callbackNode=null,o.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,g=ue.p,ue.p=2,S=Bt,Bt|=4;try{fE(o,i,s)}finally{Bt=S,ue.p=g,X.T=u}}zn=1,D0(),O0(),P0()}}function D0(){if(zn===1){zn=0;var o=ea,i=Js,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var u=ue.p;ue.p=2;var g=Bt;Bt|=4;try{p0(i,o);var b=Wm,S=A(o.containerInfo),M=b.focusedElem,U=b.selectionRange;if(S!==M&&M&&M.ownerDocument&&T(M.ownerDocument.documentElement,M)){if(U!==null&&R(M)){var se=U.start,we=U.end;if(we===void 0&&(we=se),"selectionStart"in M)M.selectionStart=se,M.selectionEnd=Math.min(we,M.value.length);else{var Ae=M.ownerDocument||document,ce=Ae&&Ae.defaultView||window;if(ce.getSelection){var fe=ce.getSelection(),ut=M.textContent.length,it=Math.min(U.start,ut),zt=U.end===void 0?it:Math.min(U.end,ut);!fe.extend&&it>zt&&(S=zt,zt=it,it=S);var te=x(M,it),K=x(M,zt);if(te&&K&&(fe.rangeCount!==1||fe.anchorNode!==te.node||fe.anchorOffset!==te.offset||fe.focusNode!==K.node||fe.focusOffset!==K.offset)){var ie=Ae.createRange();ie.setStart(te.node,te.offset),fe.removeAllRanges(),it>zt?(fe.addRange(ie),fe.extend(K.node,K.offset)):(ie.setEnd(K.node,K.offset),fe.addRange(ie))}}}}for(Ae=[],fe=M;fe=fe.parentNode;)fe.nodeType===1&&Ae.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ae.length;M++){var Te=Ae[M];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}Bf=!!Qm,Wm=Qm=null}finally{Bt=g,ue.p=u,X.T=s}}o.current=i,zn=2}}function O0(){if(zn===2){zn=0;var o=ea,i=Js,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var u=ue.p;ue.p=2;var g=Bt;Bt|=4;try{f0(o,i.alternate,i)}finally{Bt=g,ue.p=u,X.T=s}}zn=3}}function P0(){if(zn===4||zn===3){zn=0,tr();var o=ea,i=Js,s=Xs,u=w0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zn=5:(zn=0,Js=ea=null,L0(o,o.pendingLanes));var g=o.pendingLanes;if(g===0&&(ji=null),zl(s),i=i.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(vr,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=X.T,g=ue.p,ue.p=2,X.T=null;try{for(var b=o.onRecoverableError,S=0;S<u.length;S++){var M=u[S];b(M.value,{componentStack:M.stack})}}finally{X.T=i,ue.p=g}}(Xs&3)!==0&&Ef(),Co(o),g=o.pendingLanes,(s&4194090)!==0&&(g&42)!==0?o===Um?Lu++:(Lu=0,Um=o):Lu=0,Uu(0)}}function L0(o,i){(o.pooledCacheLanes&=i)===0&&(i=o.pooledCache,i!=null&&(o.pooledCache=null,gu(i)))}function Ef(o){return D0(),O0(),P0(),U0()}function U0(){if(zn!==5)return!1;var o=ea,i=Pm;Pm=0;var s=zl(Xs),u=X.T,g=ue.p;try{ue.p=32>s?32:s,X.T=null,s=Lm,Lm=null;var b=ea,S=Xs;if(zn=0,Js=ea=null,Xs=0,(Bt&6)!==0)throw Error(r(331));var M=Bt;if(Bt|=4,_0(b.current),y0(b,b.current,S,s),Bt=M,Uu(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(vr,b)}catch{}return!0}finally{ue.p=g,X.T=u,L0(o,i)}}function B0(o,i,s){i=je(s,i),i=pm(o.stateNode,i,2),o=Ki(o,i,2),o!==null&&(Ti(o,2),Co(o))}function Yt(o,i,s){if(o.tag===3)B0(o,o,s);else for(;i!==null;){if(i.tag===3){B0(i,o,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ji===null||!ji.has(u))){o=je(s,o),s=Gv(2),u=Ki(i,s,2),u!==null&&(zv(s,u,i,o),Ti(u,2),Co(u));break}}i=i.return}}function qm(o,i,s){var u=o.pingCache;if(u===null){u=o.pingCache=new mE;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(s)||(Nm=!0,g.add(s),o=bE.bind(null,o,i,s),i.then(o,o))}function bE(o,i,s){var u=o.pingCache;u!==null&&u.delete(i),o.pingedLanes|=o.suspendedLanes&s,o.warmLanes&=~s,Xt===o&&(It&s)===s&&(cn===4||cn===3&&(It&62914560)===It&&300>Ft()-Om?(Bt&2)===0&&Zs(o,0):Im|=s,Ys===It&&(Ys=0)),Co(o)}function V0(o,i){i===0&&(i=Ve()),o=no(o,i),o!==null&&(Ti(o,i),Co(o))}function _E(o){var i=o.memoizedState,s=0;i!==null&&(s=i.retryLane),V0(o,s)}function xE(o,i){var s=0;switch(o.tag){case 13:var u=o.stateNode,g=o.memoizedState;g!==null&&(s=g.retryLane);break;case 19:u=o.stateNode;break;case 22:u=o.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),V0(o,s)}function wE(o,i){return Dt(o,i)}var Af=null,Ws=null,Gm=!1,Rf=!1,zm=!1,Ja=0;function Co(o){o!==Ws&&o.next===null&&(Ws===null?Af=Ws=o:Ws=Ws.next=o),Rf=!0,Gm||(Gm=!0,CE())}function Uu(o,i){if(!zm&&Rf){zm=!0;do for(var s=!1,u=Af;u!==null;){if(o!==0){var g=u.pendingLanes;if(g===0)var b=0;else{var S=u.suspendedLanes,M=u.pingedLanes;b=(1<<31-wn(42|o)+1)-1,b&=g&~(S&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,z0(u,b))}else b=It,b=Xe(u,u===Xt?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||jr(u,b)||(s=!0,z0(u,b));u=u.next}while(s);zm=!1}}function TE(){F0()}function F0(){Rf=Gm=!1;var o=0;Ja!==0&&(IE()&&(o=Ja),Ja=0);for(var i=Ft(),s=null,u=Af;u!==null;){var g=u.next,b=q0(u,i);b===0?(u.next=null,s===null?Af=g:s.next=g,g===null&&(Ws=s)):(s=u,(o!==0||(b&3)!==0)&&(Rf=!0)),u=g}Uu(o)}function q0(o,i){for(var s=o.suspendedLanes,u=o.pingedLanes,g=o.expirationTimes,b=o.pendingLanes&-62914561;0<b;){var S=31-wn(b),M=1<<S,U=g[S];U===-1?((M&s)===0||(M&u)!==0)&&(g[S]=Bo(M,i)):U<=i&&(o.expiredLanes|=M),b&=~M}if(i=Xt,s=It,s=Xe(o,o===i?s:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),u=o.callbackNode,s===0||o===i&&(Vt===2||Vt===9)||o.cancelPendingCommit!==null)return u!==null&&u!==null&&ln(u),o.callbackNode=null,o.callbackPriority=0;if((s&3)===0||jr(o,s)){if(i=s&-s,i===o.callbackPriority)return i;switch(u!==null&&ln(u),zl(s)){case 2:case 8:s=yr;break;case 32:s=rn;break;case 268435456:s=xi;break;default:s=rn}return u=G0.bind(null,o),s=Dt(s,u),o.callbackPriority=i,o.callbackNode=s,i}return u!==null&&u!==null&&ln(u),o.callbackPriority=2,o.callbackNode=null,2}function G0(o,i){if(zn!==0&&zn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var s=o.callbackNode;if(Ef()&&o.callbackNode!==s)return null;var u=It;return u=Xe(o,o===Xt?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),u===0?null:(C0(o,u,i),q0(o,Ft()),o.callbackNode!=null&&o.callbackNode===s?G0.bind(null,o):null)}function z0(o,i){if(Ef())return null;C0(o,i,!0)}function CE(){OE(function(){(Bt&6)!==0?Dt(Po,TE):F0()})}function Km(){return Ja===0&&(Ja=Ca()),Ja}function K0(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:zo(""+o)}function $0(o,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,o.id&&s.setAttribute("form",o.id),i.parentNode.insertBefore(s,i),o=new FormData(o),s.parentNode.removeChild(s),o}function SE(o,i,s,u,g){if(i==="submit"&&s&&s.stateNode===g){var b=K0((g[xt]||null).action),S=u.submitter;S&&(i=(i=S[xt]||null)?K0(i.formAction):S.getAttribute("formAction"),i!==null&&(b=i,S=null));var M=new vs("action","action",null,u,g);o.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ja!==0){var U=S?$0(g,S):new FormData(g);cm(s,{pending:!0,data:U,method:g.method,action:b},null,U)}}else typeof b=="function"&&(M.preventDefault(),U=S?$0(g,S):new FormData(g),cm(s,{pending:!0,data:U,method:g.method,action:b},b,U))},currentTarget:g}]})}}for(var $m=0;$m<Ue.length;$m++){var Hm=Ue[$m],EE=Hm.toLowerCase(),AE=Hm[0].toUpperCase()+Hm.slice(1);Ie(EE,"on"+AE)}Ie(le,"onAnimationEnd"),Ie(he,"onAnimationIteration"),Ie(pe,"onAnimationStart"),Ie("dblclick","onDoubleClick"),Ie("focusin","onFocus"),Ie("focusout","onBlur"),Ie(xe,"onTransitionRun"),Ie(De,"onTransitionStart"),Ie(Le,"onTransitionCancel"),Ie(Ne,"onTransitionEnd"),fo("onMouseEnter",["mouseout","mouseover"]),fo("onMouseLeave",["mouseout","mouseover"]),fo("onPointerEnter",["pointerout","pointerover"]),fo("onPointerLeave",["pointerout","pointerover"]),co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),co("onBeforeInput",["compositionend","keypress","textInput","paste"]),co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function H0(o,i){i=(i&4)!==0;for(var s=0;s<o.length;s++){var u=o[s],g=u.event;u=u.listeners;e:{var b=void 0;if(i)for(var S=u.length-1;0<=S;S--){var M=u[S],U=M.instance,se=M.currentTarget;if(M=M.listener,U!==b&&g.isPropagationStopped())break e;b=M,g.currentTarget=se;try{b(g)}catch(we){pf(we)}g.currentTarget=null,b=U}else for(S=0;S<u.length;S++){if(M=u[S],U=M.instance,se=M.currentTarget,M=M.listener,U!==b&&g.isPropagationStopped())break e;b=M,g.currentTarget=se;try{b(g)}catch(we){pf(we)}g.currentTarget=null,b=U}}}}function Et(o,i){var s=i[Kl];s===void 0&&(s=i[Kl]=new Set);var u=o+"__bubble";s.has(u)||(Y0(i,o,2,!1),s.add(u))}function Ym(o,i,s){var u=0;i&&(u|=4),Y0(s,o,u,i)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function Jm(o){if(!o[Mf]){o[Mf]=!0,$l.forEach(function(s){s!=="selectionchange"&&(RE.has(s)||Ym(s,!1,o),Ym(s,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[Mf]||(i[Mf]=!0,Ym("selectionchange",!1,i))}}function Y0(o,i,s,u){switch(yb(i)){case 2:var g=tA;break;case 8:g=nA;break;default:g=lp}s=g.bind(null,i,s,o),g=void 0,!Wl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?o.addEventListener(i,s,{capture:!0,passive:g}):o.addEventListener(i,s,!0):g!==void 0?o.addEventListener(i,s,{passive:g}):o.addEventListener(i,s,!1)}function Xm(o,i,s,u,g){var b=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var M=u.stateNode.containerInfo;if(M===g)break;if(S===4)for(S=u.return;S!==null;){var U=S.tag;if((U===3||U===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;M!==null;){if(S=br(M),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){u=b=S;continue e}M=M.parentNode}}u=u.return}Di(function(){var se=b,we=gs(s),Ae=[];e:{var ce=Oe.get(o);if(ce!==void 0){var fe=vs,ut=o;switch(o){case"keypress":if(Li(s)===0)break e;case"keydown":case"keyup":fe=Es;break;case"focusin":ut="focus",fe=Ui;break;case"focusout":ut="blur",fe=Ui;break;case"beforeblur":case"afterblur":fe=Ui;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=iu;break;case le:case he:case pe:fe=Bc;break;case Ne:fe=au;break;case"scroll":case"scrollend":fe=bs;break;case"wheel":fe=Rs;break;case"copy":case"cut":case"paste":fe=Cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=ou;break;case"toggle":case"beforetoggle":fe=qc}var it=(i&4)!==0,zt=!it&&(o==="scroll"||o==="scrollend"),te=it?ce!==null?ce+"Capture":null:ce;it=[];for(var K=se,ie;K!==null;){var Te=K;if(ie=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ie===null||te===null||(Te=Ho(K,te),Te!=null&&it.push(Vu(K,Te,ie))),zt)break;K=K.return}0<it.length&&(ce=new fe(ce,ut,null,s,we),Ae.push({event:ce,listeners:it}))}}if((i&7)===0){e:{if(ce=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",ce&&s!==Lr&&(ut=s.relatedTarget||s.fromElement)&&(br(ut)||ut[Qt]))break e;if((fe||ce)&&(ce=we.window===we?we:(ce=we.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(ut=s.relatedTarget||s.toElement,fe=se,ut=ut?br(ut):null,ut!==null&&(zt=l(ut),it=ut.tag,ut!==zt||it!==5&&it!==27&&it!==6)&&(ut=null)):(fe=null,ut=se),fe!==ut)){if(it=xs,Te="onMouseLeave",te="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(it=ou,Te="onPointerLeave",te="onPointerEnter",K="pointer"),zt=fe==null?ce:lo(fe),ie=ut==null?ce:lo(ut),ce=new it(Te,K+"leave",fe,s,we),ce.target=zt,ce.relatedTarget=ie,Te=null,br(we)===se&&(it=new it(te,K+"enter",ut,s,we),it.target=ie,it.relatedTarget=zt,Te=it),zt=Te,fe&&ut)t:{for(it=fe,te=ut,K=0,ie=it;ie;ie=js(ie))K++;for(ie=0,Te=te;Te;Te=js(Te))ie++;for(;0<K-ie;)it=js(it),K--;for(;0<ie-K;)te=js(te),ie--;for(;K--;){if(it===te||te!==null&&it===te.alternate)break t;it=js(it),te=js(te)}it=null}else it=null;fe!==null&&J0(Ae,ce,fe,it,!1),ut!==null&&zt!==null&&J0(Ae,zt,ut,it,!0)}}e:{if(ce=se?lo(se):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var Ye=Pa;else if(Ns(ce))if(Br)Ye=Fi;else{Ye=Qo;var Tt=Yc}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&Ql(se.elementType)&&(Ye=Pa):Ye=fu;if(Ye&&(Ye=Ye(o,se))){cu(Ae,Ye,s,we);break e}Tt&&Tt(o,ce,se),o==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&Mi(ce,"number",ce.value)}switch(Tt=se?lo(se):window,o){case"focusin":(Ns(Tt)||Tt.contentEditable==="true")&&(L=Tt,z=se,Y=null);break;case"focusout":Y=z=L=null;break;case"mousedown":j=!0;break;case"contextmenu":case"mouseup":case"dragend":j=!1,V(Ae,s,we);break;case"selectionchange":if(D)break;case"keydown":case"keyup":V(Ae,s,we)}var We;if(Da)e:{switch(o){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Zo?uu(o,s)&&(at="onCompositionEnd"):o==="keydown"&&s.keyCode===229&&(at="onCompositionStart");at&&(Ms&&s.locale!=="ko"&&(Zo||at!=="onCompositionStart"?at==="onCompositionEnd"&&Zo&&(We=Pi()):(Ur=we,ys="value"in Ur?Ur.value:Ur.textContent,Zo=!0)),Tt=kf(se,at),0<Tt.length&&(at=new Ss(at,o,null,s,we),Ae.push({event:at,listeners:Tt}),We?at.data=We:(We=zc(s),We!==null&&(at.data=We)))),(We=Mh?Kc(o,s):kh(o,s))&&(at=kf(se,"onBeforeInput"),0<at.length&&(Tt=new Ss("onBeforeInput","beforeinput",null,s,we),Ae.push({event:Tt,listeners:at}),Tt.data=We)),SE(Ae,o,se,s,we)}H0(Ae,i)})}function Vu(o,i,s){return{instance:o,listener:i,currentTarget:s}}function kf(o,i){for(var s=i+"Capture",u=[];o!==null;){var g=o,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Ho(o,s),g!=null&&u.unshift(Vu(o,g,b)),g=Ho(o,i),g!=null&&u.push(Vu(o,g,b))),o.tag===3)return u;o=o.return}return[]}function js(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function J0(o,i,s,u,g){for(var b=i._reactName,S=[];s!==null&&s!==u;){var M=s,U=M.alternate,se=M.stateNode;if(M=M.tag,U!==null&&U===u)break;M!==5&&M!==26&&M!==27||se===null||(U=se,g?(se=Ho(s,b),se!=null&&S.unshift(Vu(s,se,U))):g||(se=Ho(s,b),se!=null&&S.push(Vu(s,se,U)))),s=s.return}S.length!==0&&o.push({event:i,listeners:S})}var ME=/\r\n?/g,kE=/\u0000|\uFFFD/g;function X0(o){return(typeof o=="string"?o:""+o).replace(ME,`
`).replace(kE,"")}function Z0(o,i){return i=X0(i),X0(o)===i}function Nf(){}function Gt(o,i,s,u,g,b){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Ni(o,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Ni(o,""+u);break;case"className":Fo(o,"class",u);break;case"tabIndex":Fo(o,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fo(o,s,u);break;case"style":Pc(o,u,b);break;case"data":if(i!=="object"){Fo(o,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){o.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){o.removeAttribute(s);break}u=zo(""+u),o.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){o.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(i!=="input"&&Gt(o,i,"name",g.name,g,null),Gt(o,i,"formEncType",g.formEncType,g,null),Gt(o,i,"formMethod",g.formMethod,g,null),Gt(o,i,"formTarget",g.formTarget,g,null)):(Gt(o,i,"encType",g.encType,g,null),Gt(o,i,"method",g.method,g,null),Gt(o,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){o.removeAttribute(s);break}u=zo(""+u),o.setAttribute(s,u);break;case"onClick":u!=null&&(o.onclick=Nf);break;case"onScroll":u!=null&&Et("scroll",o);break;case"onScrollEnd":u!=null&&Et("scrollend",o);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(r(60));o.innerHTML=s}}break;case"multiple":o.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":o.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){o.removeAttribute("xlink:href");break}s=zo(""+u),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?o.setAttribute(s,""+u):o.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?o.setAttribute(s,""):o.removeAttribute(s);break;case"capture":case"download":u===!0?o.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?o.setAttribute(s,u):o.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?o.setAttribute(s,u):o.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?o.removeAttribute(s):o.setAttribute(s,u);break;case"popover":Et("beforetoggle",o),Et("toggle",o),eo(o,"popover",u);break;case"xlinkActuate":_r(o,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_r(o,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_r(o,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_r(o,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_r(o,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_r(o,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_r(o,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_r(o,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_r(o,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":eo(o,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=or.get(s)||s,eo(o,s,u))}}function Zm(o,i,s,u,g,b){switch(s){case"style":Pc(o,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(r(60));o.innerHTML=s}}break;case"children":typeof u=="string"?Ni(o,u):(typeof u=="number"||typeof u=="bigint")&&Ni(o,""+u);break;case"onScroll":u!=null&&Et("scroll",o);break;case"onScrollEnd":u!=null&&Et("scrollend",o);break;case"onClick":u!=null&&(o.onclick=Nf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),i=s.slice(2,g?s.length-7:void 0),b=o[xt]||null,b=b!=null?b[s]:null,typeof b=="function"&&o.removeEventListener(i,b,g),typeof u=="function")){typeof b!="function"&&b!==null&&(s in o?o[s]=null:o.hasAttribute(s)&&o.removeAttribute(s)),o.addEventListener(i,u,g);break e}s in o?o[s]=u:u===!0?o.setAttribute(s,""):eo(o,s,u)}}}function Kn(o,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",o),Et("load",o);var u=!1,g=!1,b;for(b in s)if(s.hasOwnProperty(b)){var S=s[b];if(S!=null)switch(b){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Gt(o,i,b,S,s,null)}}g&&Gt(o,i,"srcSet",s.srcSet,s,null),u&&Gt(o,i,"src",s.src,s,null);return;case"input":Et("invalid",o);var M=b=S=g=null,U=null,se=null;for(u in s)if(s.hasOwnProperty(u)){var we=s[u];if(we!=null)switch(u){case"name":g=we;break;case"type":S=we;break;case"checked":U=we;break;case"defaultChecked":se=we;break;case"value":b=we;break;case"defaultValue":M=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,i));break;default:Gt(o,i,u,we,s,null)}}Xl(o,b,M,U,se,S,g,!1),po(o);return;case"select":Et("invalid",o),u=S=b=null;for(g in s)if(s.hasOwnProperty(g)&&(M=s[g],M!=null))switch(g){case"value":b=M;break;case"defaultValue":S=M;break;case"multiple":u=M;default:Gt(o,i,g,M,s,null)}i=b,s=S,o.multiple=!!u,i!=null?Go(o,!!u,i,!1):s!=null&&Go(o,!!u,s,!0);return;case"textarea":Et("invalid",o),b=g=u=null;for(S in s)if(s.hasOwnProperty(S)&&(M=s[S],M!=null))switch(S){case"value":u=M;break;case"defaultValue":g=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:Gt(o,i,S,M,s,null)}Zl(o,u,g,b),po(o);return;case"option":for(U in s)if(s.hasOwnProperty(U)&&(u=s[U],u!=null))switch(U){case"selected":o.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Gt(o,i,U,u,s,null)}return;case"dialog":Et("beforetoggle",o),Et("toggle",o),Et("cancel",o),Et("close",o);break;case"iframe":case"object":Et("load",o);break;case"video":case"audio":for(u=0;u<Bu.length;u++)Et(Bu[u],o);break;case"image":Et("error",o),Et("load",o);break;case"details":Et("toggle",o);break;case"embed":case"source":case"link":Et("error",o),Et("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in s)if(s.hasOwnProperty(se)&&(u=s[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Gt(o,i,se,u,s,null)}return;default:if(Ql(i)){for(we in s)s.hasOwnProperty(we)&&(u=s[we],u!==void 0&&Zm(o,i,we,u,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(u=s[M],u!=null&&Gt(o,i,M,u,s,null))}function NE(o,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,S=null,M=null,U=null,se=null,we=null;for(fe in s){var Ae=s[fe];if(s.hasOwnProperty(fe)&&Ae!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":U=Ae;default:u.hasOwnProperty(fe)||Gt(o,i,fe,null,u,Ae)}}for(var ce in u){var fe=u[ce];if(Ae=s[ce],u.hasOwnProperty(ce)&&(fe!=null||Ae!=null))switch(ce){case"type":b=fe;break;case"name":g=fe;break;case"checked":se=fe;break;case"defaultChecked":we=fe;break;case"value":S=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,i));break;default:fe!==Ae&&Gt(o,i,ce,fe,u,Ae)}}Ri(o,S,M,U,se,we,b,g);return;case"select":fe=S=M=ce=null;for(b in s)if(U=s[b],s.hasOwnProperty(b)&&U!=null)switch(b){case"value":break;case"multiple":fe=U;default:u.hasOwnProperty(b)||Gt(o,i,b,null,u,U)}for(g in u)if(b=u[g],U=s[g],u.hasOwnProperty(g)&&(b!=null||U!=null))switch(g){case"value":ce=b;break;case"defaultValue":M=b;break;case"multiple":S=b;default:b!==U&&Gt(o,i,g,b,u,U)}i=M,s=S,u=fe,ce!=null?Go(o,!!s,ce,!1):!!u!=!!s&&(i!=null?Go(o,!!s,i,!0):Go(o,!!s,s?[]:"",!1));return;case"textarea":fe=ce=null;for(M in s)if(g=s[M],s.hasOwnProperty(M)&&g!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Gt(o,i,M,null,u,g)}for(S in u)if(g=u[S],b=s[S],u.hasOwnProperty(S)&&(g!=null||b!=null))switch(S){case"value":ce=g;break;case"defaultValue":fe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&Gt(o,i,S,g,u,b)}ki(o,ce,fe);return;case"option":for(var ut in s)if(ce=s[ut],s.hasOwnProperty(ut)&&ce!=null&&!u.hasOwnProperty(ut))switch(ut){case"selected":o.selected=!1;break;default:Gt(o,i,ut,null,u,ce)}for(U in u)if(ce=u[U],fe=s[U],u.hasOwnProperty(U)&&ce!==fe&&(ce!=null||fe!=null))switch(U){case"selected":o.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Gt(o,i,U,ce,u,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in s)ce=s[it],s.hasOwnProperty(it)&&ce!=null&&!u.hasOwnProperty(it)&&Gt(o,i,it,null,u,ce);for(se in u)if(ce=u[se],fe=s[se],u.hasOwnProperty(se)&&ce!==fe&&(ce!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,i));break;default:Gt(o,i,se,ce,u,fe)}return;default:if(Ql(i)){for(var zt in s)ce=s[zt],s.hasOwnProperty(zt)&&ce!==void 0&&!u.hasOwnProperty(zt)&&Zm(o,i,zt,void 0,u,ce);for(we in u)ce=u[we],fe=s[we],!u.hasOwnProperty(we)||ce===fe||ce===void 0&&fe===void 0||Zm(o,i,we,ce,u,fe);return}}for(var te in s)ce=s[te],s.hasOwnProperty(te)&&ce!=null&&!u.hasOwnProperty(te)&&Gt(o,i,te,null,u,ce);for(Ae in u)ce=u[Ae],fe=s[Ae],!u.hasOwnProperty(Ae)||ce===fe||ce==null&&fe==null||Gt(o,i,Ae,ce,u,fe)}var Qm=null,Wm=null;function If(o){return o.nodeType===9?o:o.ownerDocument}function Q0(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(o,i){if(o===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&i==="foreignObject"?0:o}function jm(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ep=null;function IE(){var o=window.event;return o&&o.type==="popstate"?o===ep?!1:(ep=o,!0):(ep=null,!1)}var j0=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(o){return eb.resolve(null).then(o).catch(PE)}:j0;function PE(o){setTimeout(function(){throw o})}function na(o){return o==="head"}function tb(o,i){var s=i,u=0,g=0;do{var b=s.nextSibling;if(o.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(0<u&&8>u){s=u;var S=o.ownerDocument;if(s&1&&Fu(S.documentElement),s&2&&Fu(S.body),s&4)for(s=S.head,Fu(s),S=s.firstChild;S;){var M=S.nextSibling,U=S.nodeName;S[Aa]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&S.rel.toLowerCase()==="stylesheet"||s.removeChild(S),S=M}}if(g===0){o.removeChild(b),Ju(i);return}g--}else s==="$"||s==="$?"||s==="$!"?g++:u=s.charCodeAt(0)-48;else u=0;s=b}while(s);Ju(i)}function tp(o){var i=o.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":tp(s),Or(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}o.removeChild(s)}}function LE(o,i,s,u){for(;o.nodeType===1;){var g=s;if(o.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(u){if(!o[Aa])switch(i){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(b=o.getAttribute("rel"),b==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(b!==g.rel||o.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||o.getAttribute("title")!==(g.title==null?null:g.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(b=o.getAttribute("src"),(b!==(g.src==null?null:g.src)||o.getAttribute("type")!==(g.type==null?null:g.type)||o.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(i==="input"&&o.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&o.getAttribute("name")===b)return o}else return o;if(o=oo(o.nextSibling),o===null)break}return null}function UE(o,i,s){if(i==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=oo(o.nextSibling),o===null))return null;return o}function np(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function BE(o,i){var s=o.ownerDocument;if(o.data!=="$?"||s.readyState==="complete")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),o._reactRetry=u}}function oo(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return o}var rp=null;function nb(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var s=o.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return o;i--}else s==="/$"&&i++}o=o.previousSibling}return null}function rb(o,i,s){switch(i=If(s),o){case"html":if(o=i.documentElement,!o)throw Error(r(452));return o;case"head":if(o=i.head,!o)throw Error(r(453));return o;case"body":if(o=i.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Fu(o){for(var i=o.attributes;i.length;)o.removeAttributeNode(i[0]);Or(o)}var Kr=new Map,ob=new Set;function Df(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ci=ue.d;ue.d={f:VE,r:FE,D:qE,C:GE,L:zE,m:KE,X:HE,S:$E,M:YE};function VE(){var o=ci.f(),i=Cf();return o||i}function FE(o){var i=nr(o);i!==null&&i.tag===5&&i.type==="form"?Cv(i):ci.r(o)}var el=typeof document>"u"?null:document;function ib(o,i,s){var u=el;if(u&&typeof i=="string"&&i){var g=Jn(i);g='link[rel="'+o+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),ob.has(g)||(ob.add(g),o={rel:o,crossOrigin:s,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),Kn(i,"link",o),$t(i),u.head.appendChild(i)))}}function qE(o){ci.D(o),ib("dns-prefetch",o,null)}function GE(o,i){ci.C(o,i),ib("preconnect",o,i)}function zE(o,i,s){ci.L(o,i,s);var u=el;if(u&&o&&i){var g='link[rel="preload"][as="'+Jn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+Jn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+Jn(s.imageSizes)+'"]')):g+='[href="'+Jn(o)+'"]';var b=g;switch(i){case"style":b=tl(o);break;case"script":b=nl(o)}Kr.has(b)||(o=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:o,as:i},s),Kr.set(b,o),u.querySelector(g)!==null||i==="style"&&u.querySelector(qu(b))||i==="script"&&u.querySelector(Gu(b))||(i=u.createElement("link"),Kn(i,"link",o),$t(i),u.head.appendChild(i)))}}function KE(o,i){ci.m(o,i);var s=el;if(s&&o){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Jn(u)+'"][href="'+Jn(o)+'"]',b=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=nl(o)}if(!Kr.has(b)&&(o=_({rel:"modulepreload",href:o},i),Kr.set(b,o),s.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gu(b)))return}u=s.createElement("link"),Kn(u,"link",o),$t(u),s.head.appendChild(u)}}}function $E(o,i,s){ci.S(o,i,s);var u=el;if(u&&o){var g=Si(u).hoistableStyles,b=tl(o);i=i||"default";var S=g.get(b);if(!S){var M={loading:0,preload:null};if(S=u.querySelector(qu(b)))M.loading=5;else{o=_({rel:"stylesheet",href:o,"data-precedence":i},s),(s=Kr.get(b))&&op(o,s);var U=S=u.createElement("link");$t(U),Kn(U,"link",o),U._p=new Promise(function(se,we){U.onload=se,U.onerror=we}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Of(S,i,u)}S={type:"stylesheet",instance:S,count:1,state:M},g.set(b,S)}}}function HE(o,i){ci.X(o,i);var s=el;if(s&&o){var u=Si(s).hoistableScripts,g=nl(o),b=u.get(g);b||(b=s.querySelector(Gu(g)),b||(o=_({src:o,async:!0},i),(i=Kr.get(g))&&ip(o,i),b=s.createElement("script"),$t(b),Kn(b,"link",o),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function YE(o,i){ci.M(o,i);var s=el;if(s&&o){var u=Si(s).hoistableScripts,g=nl(o),b=u.get(g);b||(b=s.querySelector(Gu(g)),b||(o=_({src:o,async:!0,type:"module"},i),(i=Kr.get(g))&&ip(o,i),b=s.createElement("script"),$t(b),Kn(b,"link",o),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function ab(o,i,s,u){var g=(g=Fe.current)?Df(g):null;if(!g)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=tl(s.href),s=Si(g).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){o=tl(s.href);var b=Si(g).hoistableStyles,S=b.get(o);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(o,S),(b=g.querySelector(qu(o)))&&!b._p&&(S.instance=b,S.state.loading=5),Kr.has(o)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Kr.set(o,s),b||JE(g,o,s,S.state))),i&&u===null)throw Error(r(528,""));return S}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=nl(s),s=Si(g).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function tl(o){return'href="'+Jn(o)+'"'}function qu(o){return'link[rel="stylesheet"]['+o+"]"}function sb(o){return _({},o,{"data-precedence":o.precedence,precedence:null})}function JE(o,i,s,u){o.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=o.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Kn(i,"link",s),$t(i),o.head.appendChild(i))}function nl(o){return'[src="'+Jn(o)+'"]'}function Gu(o){return"script[async]"+o}function lb(o,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=o.querySelector('style[data-href~="'+Jn(s.href)+'"]');if(u)return i.instance=u,$t(u),u;var g=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(o.ownerDocument||o).createElement("style"),$t(u),Kn(u,"style",g),Of(u,s.precedence,o),i.instance=u;case"stylesheet":g=tl(s.href);var b=o.querySelector(qu(g));if(b)return i.state.loading|=4,i.instance=b,$t(b),b;u=sb(s),(g=Kr.get(g))&&op(u,g),b=(o.ownerDocument||o).createElement("link"),$t(b);var S=b;return S._p=new Promise(function(M,U){S.onload=M,S.onerror=U}),Kn(b,"link",u),i.state.loading|=4,Of(b,s.precedence,o),i.instance=b;case"script":return b=nl(s.src),(g=o.querySelector(Gu(b)))?(i.instance=g,$t(g),g):(u=s,(g=Kr.get(b))&&(u=_({},s),ip(u,g)),o=o.ownerDocument||o,g=o.createElement("script"),$t(g),Kn(g,"link",u),o.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Of(u,s.precedence,o));return i.instance}function Of(o,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,b=g,S=0;S<u.length;S++){var M=u[S];if(M.dataset.precedence===i)b=M;else if(b!==g)break}b?b.parentNode.insertBefore(o,b.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(o,i.firstChild))}function op(o,i){o.crossOrigin==null&&(o.crossOrigin=i.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=i.referrerPolicy),o.title==null&&(o.title=i.title)}function ip(o,i){o.crossOrigin==null&&(o.crossOrigin=i.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=i.referrerPolicy),o.integrity==null&&(o.integrity=i.integrity)}var Pf=null;function ub(o,i,s){if(Pf===null){var u=new Map,g=Pf=new Map;g.set(s,u)}else g=Pf,u=g.get(s),u||(u=new Map,g.set(s,u));if(u.has(o))return u;for(u.set(o,null),s=s.getElementsByTagName(o),g=0;g<s.length;g++){var b=s[g];if(!(b[Aa]||b[dn]||o==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(i)||"";S=o+S;var M=u.get(S);M?M.push(b):u.set(S,[b])}}return u}function cb(o,i,s){o=o.ownerDocument||o,o.head.insertBefore(s,i==="title"?o.querySelector("head > title"):null)}function XE(o,i,s){if(s===1||i.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return o=i.disabled,typeof i.precedence=="string"&&o==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fb(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var zu=null;function ZE(){}function QE(o,i,s){if(zu===null)throw Error(r(475));var u=zu;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=tl(s.href),b=o.querySelector(qu(g));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(u.count++,u=Lf.bind(u),o.then(u,u)),i.state.loading|=4,i.instance=b,$t(b);return}b=o.ownerDocument||o,s=sb(s),(g=Kr.get(g))&&op(s,g),b=b.createElement("link"),$t(b);var S=b;S._p=new Promise(function(M,U){S.onload=M,S.onerror=U}),Kn(b,"link",s),i.instance=b}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,o),(o=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Lf.bind(u),o.addEventListener("load",i),o.addEventListener("error",i))}}function WE(){if(zu===null)throw Error(r(475));var o=zu;return o.stylesheets&&o.count===0&&ap(o,o.stylesheets),0<o.count?function(i){var s=setTimeout(function(){if(o.stylesheets&&ap(o,o.stylesheets),o.unsuspend){var u=o.unsuspend;o.unsuspend=null,u()}},6e4);return o.unsuspend=i,function(){o.unsuspend=null,clearTimeout(s)}}:null}function Lf(){if(this.count--,this.count===0){if(this.stylesheets)ap(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Uf=null;function ap(o,i){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Uf=new Map,i.forEach(jE,o),Uf=null,Lf.call(o))}function jE(o,i){if(!(i.state.loading&4)){var s=Uf.get(o);if(s)var u=s.get(null);else{s=new Map,Uf.set(o,s);for(var g=o.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var S=g[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),u=S)}u&&s.set(null,u)}g=i.instance,S=g.getAttribute("data-precedence"),b=s.get(S)||u,b===u&&s.set(null,g),s.set(S,g),this.count++,u=Lf.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),b?b.parentNode.insertBefore(g,b.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(g,o.firstChild)),i.state.loading|=4}}var Ku={$$typeof:q,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function eA(o,i,s,u,g,b,S,M){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.hiddenUpdates=Sa(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function db(o,i,s,u,g,b,S,M,U,se,we,Ae){return o=new eA(o,i,s,S,M,U,se,Ae),i=1,b===!0&&(i|=24),b=wr(3,null,null,i),o.current=b,b.stateNode=o,i=qh(),i.refCount++,o.pooledCache=i,i.refCount++,b.memoizedState={element:u,isDehydrated:s,cache:i},$h(b),o}function hb(o){return o?(o=bo,o):bo}function mb(o,i,s,u,g,b){g=hb(g),u.context===null?u.context=g:u.pendingContext=g,u=zi(i),u.payload={element:s},b=b===void 0?null:b,b!==null&&(u.callback=b),s=Ki(o,u,i),s!==null&&(Ar(s,o,i),_u(s,o,i))}function pb(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var s=o.retryLane;o.retryLane=s!==0&&s<i?s:i}}function sp(o,i){pb(o,i),(o=o.alternate)&&pb(o,i)}function gb(o){if(o.tag===13){var i=no(o,67108864);i!==null&&Ar(i,o,67108864),sp(o,67108864)}}var Bf=!0;function tA(o,i,s,u){var g=X.T;X.T=null;var b=ue.p;try{ue.p=2,lp(o,i,s,u)}finally{ue.p=b,X.T=g}}function nA(o,i,s,u){var g=X.T;X.T=null;var b=ue.p;try{ue.p=8,lp(o,i,s,u)}finally{ue.p=b,X.T=g}}function lp(o,i,s,u){if(Bf){var g=up(u);if(g===null)Xm(o,i,u,Vf,s),vb(o,u);else if(oA(g,o,i,s,u))u.stopPropagation();else if(vb(o,u),i&4&&-1<rA.indexOf(o)){for(;g!==null;){var b=nr(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=Yn(b.pendingLanes);if(S!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var U=1<<31-wn(S);M.entanglements[1]|=U,S&=~U}Co(b),(Bt&6)===0&&(wf=Ft()+500,Uu(0))}}break;case 13:M=no(b,2),M!==null&&Ar(M,b,2),Cf(),sp(b,2)}if(b=up(u),b===null&&Xm(o,i,u,Vf,s),b===g)break;g=b}g!==null&&u.stopPropagation()}else Xm(o,i,u,null,s)}}function up(o){return o=gs(o),cp(o)}var Vf=null;function cp(o){if(Vf=null,o=br(o),o!==null){var i=l(o);if(i===null)o=null;else{var s=i.tag;if(s===13){if(o=c(i),o!==null)return o;o=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Vf=o,null}function yb(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case Po:return 2;case yr:return 8;case rn:case wa:return 32;case xi:return 268435456;default:return 32}default:return 32}}var fp=!1,ra=null,oa=null,ia=null,$u=new Map,Hu=new Map,aa=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(o,i){switch(o){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":$u.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(i.pointerId)}}function Yu(o,i,s,u,g,b){return o===null||o.nativeEvent!==b?(o={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:b,targetContainers:[g]},i!==null&&(i=nr(i),i!==null&&gb(i)),o):(o.eventSystemFlags|=u,i=o.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),o)}function oA(o,i,s,u,g){switch(i){case"focusin":return ra=Yu(ra,o,i,s,u,g),!0;case"dragenter":return oa=Yu(oa,o,i,s,u,g),!0;case"mouseover":return ia=Yu(ia,o,i,s,u,g),!0;case"pointerover":var b=g.pointerId;return $u.set(b,Yu($u.get(b)||null,o,i,s,u,g)),!0;case"gotpointercapture":return b=g.pointerId,Hu.set(b,Yu(Hu.get(b)||null,o,i,s,u,g)),!0}return!1}function bb(o){var i=br(o.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){o.blockedOn=i,Ci(o.priority,function(){if(s.tag===13){var u=Er();u=Gl(u);var g=no(s,u);g!==null&&Ar(g,s,u),sp(s,u)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){o.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ff(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var s=up(o.nativeEvent);if(s===null){s=o.nativeEvent;var u=new s.constructor(s.type,s);Lr=u,s.target.dispatchEvent(u),Lr=null}else return i=nr(s),i!==null&&gb(i),o.blockedOn=s,!1;i.shift()}return!0}function _b(o,i,s){Ff(o)&&s.delete(i)}function iA(){fp=!1,ra!==null&&Ff(ra)&&(ra=null),oa!==null&&Ff(oa)&&(oa=null),ia!==null&&Ff(ia)&&(ia=null),$u.forEach(_b),Hu.forEach(_b)}function qf(o,i){o.blockedOn===i&&(o.blockedOn=null,fp||(fp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iA)))}var Gf=null;function xb(o){Gf!==o&&(Gf=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gf===o&&(Gf=null);for(var i=0;i<o.length;i+=3){var s=o[i],u=o[i+1],g=o[i+2];if(typeof u!="function"){if(cp(u||s)===null)continue;break}var b=nr(s);b!==null&&(o.splice(i,3),i-=3,cm(b,{pending:!0,data:g,method:s.method,action:u},u,g))}}))}function Ju(o){function i(U){return qf(U,o)}ra!==null&&qf(ra,o),oa!==null&&qf(oa,o),ia!==null&&qf(ia,o),$u.forEach(i),Hu.forEach(i);for(var s=0;s<aa.length;s++){var u=aa[s];u.blockedOn===o&&(u.blockedOn=null)}for(;0<aa.length&&(s=aa[0],s.blockedOn===null);)bb(s),s.blockedOn===null&&aa.shift();if(s=(o.ownerDocument||o).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var g=s[u],b=s[u+1],S=g[xt]||null;if(typeof b=="function")S||xb(s);else if(S){var M=null;if(b&&b.hasAttribute("formAction")){if(g=b,S=b[xt]||null)M=S.formAction;else if(cp(g)!==null)continue}else M=S.action;typeof M=="function"?s[u+1]=M:(s.splice(u,3),u-=3),xb(s)}}}function dp(o){this._internalRoot=o}zf.prototype.render=dp.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,u=Er();mb(s,u,o,i,null,null)},zf.prototype.unmount=dp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;mb(o.current,2,null,o,null,null),Cf(),i[Qt]=null}};function zf(o){this._internalRoot=o}zf.prototype.unstable_scheduleHydration=function(o){if(o){var i=Vo();o={blockedOn:null,target:o,priority:i};for(var s=0;s<aa.length&&i!==0&&i<aa[s].priority;s++);aa.splice(s,0,o),s===0&&bb(o)}};var wb=e.version;if(wb!=="19.1.0")throw Error(r(527,wb,"19.1.0"));ue.findDOMNode=function(o){var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=y(i),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var aA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{vr=Kf.inject(aA),fn=Kf}catch{}}return Qu.createRoot=function(o,i){if(!a(o))throw Error(r(299));var s=!1,u="",g=Bv,b=Vv,S=Fv,M=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks)),i=db(o,1,!1,null,null,s,u,g,b,S,M,null),o[Qt]=i.current,Jm(o),new dp(i)},Qu.hydrateRoot=function(o,i,s){if(!a(o))throw Error(r(299));var u=!1,g="",b=Bv,S=Vv,M=Fv,U=null,se=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(U=s.unstable_transitionCallbacks),s.formState!==void 0&&(se=s.formState)),i=db(o,1,!0,i,s??null,u,g,b,S,M,U,se),i.context=hb(null),s=i.current,u=Er(),u=Gl(u),g=zi(u),g.callback=null,Ki(s,g,u),s=u,i.current.lanes=s,Ti(i,s),Co(i),o[Qt]=i.current,Jm(o),new zf(i)},Qu.version="19.1.0",Qu}var Ib;function _A(){if(Ib)return pp.exports;Ib=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pp.exports=bA(),pp.exports}var xA=_A();const wA="modulepreload",TA=function(t){return"/chat-project/"+t},Db={},CA=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),y=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(n.map(p=>{if(p=TA(p),p in Db)return;Db[p]=!0;const _=p.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const C=document.createElement("link");if(C.rel=_?"stylesheet":wA,_||(C.as="script"),C.crossOrigin="",C.href=p,y&&C.setAttribute("nonce",y),document.head.appendChild(C),_)return new Promise((E,k)=>{C.addEventListener("load",E),C.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};function Rt(t,e){const n=e.split(".");let r=t;for(const a of n){if(typeof r=="boolean"||typeof r=="string")return r;if(r==null||typeof r!="object")return;r=r[a]}return r}function SA(t){const{theme:e,clearTheme:n,applyTheme:r,...a}=t;return a}function Jr(t,e){let n=SA(t);return e&&(n={...e,...t}),n}const ba={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};ba.defaultMerge;function EA(t,e){return e}function AA(t,e){return t.filter(n=>n!==void 0)}var Ob;(function(t){t[t.NOT=0]="NOT",t[t.RECORD=1]="RECORD",t[t.ARRAY=2]="ARRAY",t[t.SET=3]="SET",t[t.MAP=4]="MAP",t[t.OTHER=5]="OTHER"})(Ob||(Ob={}));function Pb(t){return typeof t!="object"||t===null?0:Array.isArray(t)?2:kA(t)?1:t instanceof Set?3:t instanceof Map?4:5}function RA(t){const e=new Set;for(const n of t)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])e.add(r);return e}function MA(t,e){return typeof t=="object"&&Object.prototype.propertyIsEnumerable.call(t,e)}function Rw(t){var r;let e=0,n=(r=t[0])==null?void 0:r[Symbol.iterator]();return{[Symbol.iterator](){return{next(){var a;do{if(n===void 0)return{done:!0,value:void 0};const l=n.next();if(l.done===!0){e+=1,n=(a=t[e])==null?void 0:a[Symbol.iterator]();continue}return{done:!1,value:l.value}}while(!0)}}}}}const Lb=["[object Object]","[object Module]"];function kA(t){if(!Lb.includes(Object.prototype.toString.call(t)))return!1;const{constructor:e}=t;if(e===void 0)return!0;const n=e.prototype;return!(n===null||typeof n!="object"||!Lb.includes(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}function NA(t,e,n){const r={};for(const a of RA(t)){const l=[];for(const y of t)MA(y,a)&&l.push(y[a]);if(l.length===0)continue;const c=e.metaDataUpdater(n,{key:a,parents:t}),h=kw(l,e,c);h!==ba.skip&&(a==="__proto__"?Object.defineProperty(r,a,{value:h,configurable:!0,enumerable:!0,writable:!0}):r[a]=h)}return r}function IA(t){return t.flat()}function DA(t){return new Set(Rw(t))}function OA(t){return new Map(Rw(t))}function PA(t){return t.at(-1)}const $f={mergeRecords:NA,mergeArrays:IA,mergeSets:DA,mergeMaps:OA,mergeOthers:PA};function LA(...t){return Mw({})(...t)}function Mw(t,e){const n=UA(t,r);function r(...a){return kw(a,n,e)}return r}function UA(t,e){return{defaultMergeFunctions:$f,mergeFunctions:{...$f,...Object.fromEntries(Object.entries(t).filter(([n,r])=>Object.hasOwn($f,n)).map(([n,r])=>r===!1?[n,$f.mergeOthers]:[n,r]))},metaDataUpdater:t.metaDataUpdater??EA,deepmerge:e,useImplicitDefaultMerging:t.enableImplicitDefaultMerging??!1,filterValues:t.filterValues===!1?void 0:t.filterValues??AA,actions:ba}}function kw(t,e,n){var l;const r=((l=e.filterValues)==null?void 0:l.call(e,t,n))??t;if(r.length===0)return;if(r.length===1)return bp(r,e,n);const a=Pb(r[0]);if(a!==0&&a!==5){for(let c=1;c<r.length;c++)if(Pb(r[c])!==a)return bp(r,e,n)}switch(a){case 1:return BA(r,e,n);case 2:return VA(r,e,n);case 3:return FA(r,e,n);case 4:return qA(r,e,n);default:return bp(r,e,n)}}function BA(t,e,n){const r=e.mergeFunctions.mergeRecords(t,e,n);return r===ba.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(t,e,n):r}function VA(t,e,n){const r=e.mergeFunctions.mergeArrays(t,e,n);return r===ba.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(t):r}function FA(t,e,n){const r=e.mergeFunctions.mergeSets(t,e,n);return r===ba.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(t):r}function qA(t,e,n){const r=e.mergeFunctions.mergeMaps(t,e,n);return r===ba.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(t):r}function bp(t,e,n){const r=e.mergeFunctions.mergeOthers(t,e,n);return r===ba.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(t):r}function ld(t){var e,n,r;if(Array.isArray(t)){for(n=Array(e=t.length);e--;)n[e]=(r=t[e])&&typeof r=="object"?ld(r):r;return n}if(Object.prototype.toString.call(t)==="[object Object]"){n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:ld(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=(r=t[e])&&typeof r=="object"?ld(r):r;return n}return t}const Nw={dark:void 0,prefix:void 0};function GA(){return Nw.dark}function Iw(){return Nw.prefix}const Ub=new Map;function zA(t){if(!t.trim().length)return t;const e=t,n=Ub.get(e);if(n)return n;const a=t.split(/(\s+)/).map(l=>{if(/^\s+$/.test(l))return l;const c=l,h=c.match(/^([^:]+:)?(.+)$/);if(h){const[,y="",p]=h;for(const[_,w]of KA)if(_.test(p))return y+p.replace(_,w)}return c}).join("");return Ub.set(e,a),a}const KA=[[/^shadow-sm$/,"shadow-xs"],[/^shadow$/,"shadow-sm"],[/^drop-shadow-sm$/,"drop-shadow-xs"],[/^drop-shadow$/,"drop-shadow-sm"],[/^blur-sm$/,"blur-xs"],[/^blur$/,"blur-sm"],[/^rounded-sm$/,"rounded-xs"],[/^rounded$/,"rounded-sm"],[/^ring$/,"ring-3"]];function $A(t){return Mw({mergeOthers:(e,n)=>{if(e.some(r=>typeof r=="string")){const r=e.filter(c=>typeof c=="string"),a=new Set,l=[];for(const c of r){const h=[...new Set(c.split(/\s+/))];l.push(h.filter(y=>!a.has(y)).join(" "));for(const y of h)a.add(y)}return t(l)}return n.actions.defaultMerge}})}const HA="4.1.10";function Dw(){try{return parseInt(HA.split(".")[0],10)}catch{return}}function Yp(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t))return t.length!==e.length?!1:t.every((r,a)=>Yp(r,e[a]));if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(r=>Object.prototype.hasOwnProperty.call(e,r)&&Yp(t[r],e[r]))}return t!==t&&e!==e}const Gg="-",YA=t=>{const e=XA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const h=c.split(Gg);return h[0]===""&&h.length!==1&&h.shift(),Ow(h,e)||JA(c)},getConflictingClassGroupIds:(c,h)=>{const y=n[c]||[];return h&&r[c]?[...y,...r[c]]:y}}},Ow=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?Ow(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(Gg);return(c=e.validators.find(({validator:h})=>h(l)))==null?void 0:c.classGroupId},Bb=/^\[(.+)\]$/,JA=t=>{if(Bb.test(t)){const e=Bb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},XA=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return QA(Object.entries(t.classGroups),n).forEach(([l,c])=>{Jp(c,r,l,e)}),r},Jp=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:Vb(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(ZA(a)){Jp(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,c])=>{Jp(c,Vb(e,l),n,r)})})},Vb=(t,e)=>{let n=t;return e.split(Gg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ZA=t=>t.isThemeGetter,QA=(t,e)=>e?t.map(([n,r])=>{const a=r.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,h])=>[e+c,h])):l);return[n,a]}):t,WA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return a(l,c),c},set(l,c){n.has(l)?n.set(l,c):a(l,c)}}},Pw="!",jA=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,a=e[0],l=e.length,c=h=>{const y=[];let p=0,_=0,w;for(let O=0;O<h.length;O++){let B=h[O];if(p===0){if(B===a&&(r||h.slice(O,O+l)===e)){y.push(h.slice(_,O)),_=O+l;continue}if(B==="/"){w=O;continue}}B==="["?p++:B==="]"&&p--}const C=y.length===0?h:h.substring(_),E=C.startsWith(Pw),k=E?C.substring(1):C,N=w&&w>_?w-_:void 0;return{modifiers:y,hasImportantModifier:E,baseClassName:k,maybePostfixModifierPosition:N}};return n?h=>n({className:h,parseClassName:c}):c},eR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tR=t=>({cache:WA(t.cacheSize),parseClassName:jA(t),...YA(t)}),nR=/\s+/,rR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=e,l=[],c=t.trim().split(nR);let h="";for(let y=c.length-1;y>=0;y-=1){const p=c[y],{modifiers:_,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:E}=n(p);let k=!!E,N=r(k?C.substring(0,E):C);if(!N){if(!k){h=p+(h.length>0?" "+h:h);continue}if(N=r(C),!N){h=p+(h.length>0?" "+h:h);continue}k=!1}const O=eR(_).join(":"),B=w?O+Pw:O,P=B+N;if(l.includes(P))continue;l.push(P);const q=a(N,k);for(let J=0;J<q.length;++J){const ee=q[J];l.push(B+ee)}h=p+(h.length>0?" "+h:h)}return h};function oR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Lw(e))&&(r&&(r+=" "),r+=n);return r}const Lw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Lw(t[r]))&&(n&&(n+=" "),n+=e);return n};function Fb(t,...e){let n,r,a,l=c;function c(y){const p=e.reduce((_,w)=>w(_),t());return n=tR(p),r=n.cache.get,a=n.cache.set,l=h,h(y)}function h(y){const p=r(y);if(p)return p;const _=rR(y,n);return a(y,_),_}return function(){return l(oR.apply(null,arguments))}}const en=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Uw=/^\[(?:([a-z-]+):)?(.+)\]$/i,iR=/^\d+\/\d+$/,aR=new Set(["px","full","screen"]),sR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fi=t=>pl(t)||aR.has(t)||iR.test(t),la=t=>Nl(t,"length",bR),pl=t=>!!t&&!Number.isNaN(Number(t)),_p=t=>Nl(t,"number",pl),Wu=t=>!!t&&Number.isInteger(Number(t)),dR=t=>t.endsWith("%")&&pl(t.slice(0,-1)),bt=t=>Uw.test(t),ua=t=>sR.test(t),hR=new Set(["length","size","percentage"]),mR=t=>Nl(t,hR,Bw),pR=t=>Nl(t,"position",Bw),gR=new Set(["image","url"]),yR=t=>Nl(t,gR,xR),vR=t=>Nl(t,"",_R),ju=()=>!0,Nl=(t,e,n)=>{const r=Uw.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bR=t=>lR.test(t)&&!uR.test(t),Bw=()=>!1,_R=t=>cR.test(t),xR=t=>fR.test(t),qb=()=>{const t=en("colors"),e=en("spacing"),n=en("blur"),r=en("brightness"),a=en("borderColor"),l=en("borderRadius"),c=en("borderSpacing"),h=en("borderWidth"),y=en("contrast"),p=en("grayscale"),_=en("hueRotate"),w=en("invert"),C=en("gap"),E=en("gradientColorStops"),k=en("gradientColorStopPositions"),N=en("inset"),O=en("margin"),B=en("opacity"),P=en("padding"),q=en("saturate"),J=en("scale"),ee=en("sepia"),ge=en("skew"),H=en("space"),be=en("translate"),ne=()=>["auto","contain","none"],ye=()=>["auto","hidden","clip","visible","scroll"],Ce=()=>["auto",bt,e],Se=()=>[bt,e],Ee=()=>["",fi,la],me=()=>["auto",pl,bt],Me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>["start","end","center","between","around","evenly","stretch"],ve=()=>["","0",bt],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[pl,bt];return{cacheSize:500,separator:":",theme:{colors:[ju],spacing:[fi,la],blur:["none","",ua,bt],brightness:Q(),borderColor:[t],borderRadius:["none","","full",ua,bt],borderSpacing:Se(),borderWidth:Ee(),contrast:Q(),grayscale:ve(),hueRotate:Q(),invert:ve(),gap:Se(),gradientColorStops:[t],gradientColorStopPositions:[dR,la],inset:Ce(),margin:Ce(),opacity:Q(),padding:Se(),saturate:Q(),scale:Q(),sepia:ve(),skew:Q(),space:Se(),translate:Se()},classGroups:{aspect:[{aspect:["auto","square","video",bt]}],container:["container"],columns:[{columns:[ua]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Me(),bt]}],overflow:[{overflow:ye()}],"overflow-x":[{"overflow-x":ye()}],"overflow-y":[{"overflow-y":ye()}],overscroll:[{overscroll:ne()}],"overscroll-x":[{"overscroll-x":ne()}],"overscroll-y":[{"overscroll-y":ne()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wu,bt]}],basis:[{basis:Ce()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",bt]}],grow:[{grow:ve()}],shrink:[{shrink:ve()}],order:[{order:["first","last","none",Wu,bt]}],"grid-cols":[{"grid-cols":[ju]}],"col-start-end":[{col:["auto",{span:["full",Wu,bt]},bt]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[ju]}],"row-start-end":[{row:["auto",{span:[Wu,bt]},bt]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",bt]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...ae()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ae(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ae(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[O]}],mx:[{mx:[O]}],my:[{my:[O]}],ms:[{ms:[O]}],me:[{me:[O]}],mt:[{mt:[O]}],mr:[{mr:[O]}],mb:[{mb:[O]}],ml:[{ml:[O]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",bt,e]}],"min-w":[{"min-w":[bt,e,"min","max","fit"]}],"max-w":[{"max-w":[bt,e,"none","full","min","max","fit","prose",{screen:[ua]},ua]}],h:[{h:[bt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[bt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[bt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[bt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ua,la]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_p]}],"font-family":[{font:[ju]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",bt]}],"line-clamp":[{"line-clamp":["none",pl,_p]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,bt]}],"list-image":[{"list-image":["none",bt]}],"list-style-type":[{list:["none","disc","decimal",bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[B]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[B]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,la]}],"underline-offset":[{"underline-offset":["auto",fi,bt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[B]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Me(),pR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[B]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[B]}],"divide-style":[{divide:X()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[fi,bt]}],"outline-w":[{outline:[fi,la]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[B]}],"ring-offset-w":[{"ring-offset":[fi,la]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ua,vR]}],"shadow-color":[{shadow:[ju]}],opacity:[{opacity:[B]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[y]}],"drop-shadow":[{"drop-shadow":["","none",ua,bt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[w]}],saturate:[{saturate:[q]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[y]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[B]}],"backdrop-saturate":[{"backdrop-saturate":[q]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",bt]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",bt]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[J]}],"scale-x":[{"scale-x":[J]}],"scale-y":[{"scale-y":[J]}],rotate:[{rotate:[Wu,bt]}],"translate-x":[{"translate-x":[be]}],"translate-y":[{"translate-y":[be]}],"skew-x":[{"skew-x":[ge]}],"skew-y":[{"skew-y":[ge]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",bt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Se()}],"scroll-mx":[{"scroll-mx":Se()}],"scroll-my":[{"scroll-my":Se()}],"scroll-ms":[{"scroll-ms":Se()}],"scroll-me":[{"scroll-me":Se()}],"scroll-mt":[{"scroll-mt":Se()}],"scroll-mr":[{"scroll-mr":Se()}],"scroll-mb":[{"scroll-mb":Se()}],"scroll-ml":[{"scroll-ml":Se()}],"scroll-p":[{"scroll-p":Se()}],"scroll-px":[{"scroll-px":Se()}],"scroll-py":[{"scroll-py":Se()}],"scroll-ps":[{"scroll-ps":Se()}],"scroll-pe":[{"scroll-pe":Se()}],"scroll-pt":[{"scroll-pt":Se()}],"scroll-pr":[{"scroll-pr":Se()}],"scroll-pb":[{"scroll-pb":Se()}],"scroll-pl":[{"scroll-pl":Se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fi,la,_p]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wR=(t,{cacheSize:e,prefix:n,separator:r,experimentalParseClassName:a,extend:l={},override:c={}})=>{nc(t,"cacheSize",e),nc(t,"prefix",n),nc(t,"separator",r),nc(t,"experimentalParseClassName",a);for(const h in c)TR(t[h],c[h]);for(const h in l)CR(t[h],l[h]);return t},nc=(t,e,n)=>{n!==void 0&&(t[e]=n)},TR=(t,e)=>{if(e)for(const n in e)nc(t,n,e[n])},CR=(t,e)=>{if(e)for(const n in e){const r=e[n];r!==void 0&&(t[n]=(t[n]||[]).concat(r))}},SR=(t,...e)=>typeof t=="function"?Fb(qb,t,...e):Fb(()=>wR(qb(),t),...e),zg="-",ER=t=>{const e=RR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const h=c.split(zg);return h[0]===""&&h.length!==1&&h.shift(),Vw(h,e)||AR(c)},getConflictingClassGroupIds:(c,h)=>{const y=n[c]||[];return h&&r[c]?[...y,...r[c]]:y}}},Vw=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?Vw(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(zg);return(c=e.validators.find(({validator:h})=>h(l)))==null?void 0:c.classGroupId},Gb=/^\[(.+)\]$/,AR=t=>{if(Gb.test(t)){const e=Gb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},RR=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const a in n)Xp(n[a],r,a,e);return r},Xp=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:zb(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(MR(a)){Xp(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,c])=>{Xp(c,zb(e,l),n,r)})})},zb=(t,e)=>{let n=t;return e.split(zg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},MR=t=>t.isThemeGetter,kR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return a(l,c),c},set(l,c){n.has(l)?n.set(l,c):a(l,c)}}},Zp="!",Qp=":",NR=Qp.length,IR=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let c=0,h=0,y=0,p;for(let k=0;k<a.length;k++){let N=a[k];if(c===0&&h===0){if(N===Qp){l.push(a.slice(y,k)),y=k+NR;continue}if(N==="/"){p=k;continue}}N==="["?c++:N==="]"?c--:N==="("?h++:N===")"&&h--}const _=l.length===0?a:a.substring(y),w=DR(_),C=w!==_,E=p&&p>y?p-y:void 0;return{modifiers:l,hasImportantModifier:C,baseClassName:w,maybePostfixModifierPosition:E}};if(e){const a=e+Qp,l=r;r=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},DR=t=>t.endsWith(Zp)?t.substring(0,t.length-1):t.startsWith(Zp)?t.substring(1):t,OR=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let l=[];return r.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},PR=t=>({cache:kR(t.cacheSize),parseClassName:IR(t),sortModifiers:OR(t),...ER(t)}),LR=/\s+/,UR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(LR);let y="";for(let p=h.length-1;p>=0;p-=1){const _=h[p],{isExternal:w,modifiers:C,hasImportantModifier:E,baseClassName:k,maybePostfixModifierPosition:N}=n(_);if(w){y=_+(y.length>0?" "+y:y);continue}let O=!!N,B=r(O?k.substring(0,N):k);if(!B){if(!O){y=_+(y.length>0?" "+y:y);continue}if(B=r(k),!B){y=_+(y.length>0?" "+y:y);continue}O=!1}const P=l(C).join(":"),q=E?P+Zp:P,J=q+B;if(c.includes(J))continue;c.push(J);const ee=a(B,O);for(let ge=0;ge<ee.length;++ge){const H=ee[ge];c.push(q+H)}y=_+(y.length>0?" "+y:y)}return y};function BR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Fw(e))&&(r&&(r+=" "),r+=n);return r}const Fw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Fw(t[r]))&&(n&&(n+=" "),n+=e);return n};function Kb(t,...e){let n,r,a,l=c;function c(y){const p=e.reduce((_,w)=>w(_),t());return n=PR(p),r=n.cache.get,a=n.cache.set,l=h,h(y)}function h(y){const p=r(y);if(p)return p;const _=UR(y,n);return a(y,_),_}return function(){return l(BR.apply(null,arguments))}}const Ln=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Gw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VR=/^\d+\/\d+$/,FR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rl=t=>VR.test(t),At=t=>!!t&&!Number.isNaN(Number(t)),Xa=t=>!!t&&Number.isInteger(Number(t)),$b=t=>t.endsWith("%")&&At(t.slice(0,-1)),ca=t=>FR.test(t),$R=()=>!0,HR=t=>qR.test(t)&&!GR.test(t),Kg=()=>!1,YR=t=>zR.test(t),JR=t=>KR.test(t),XR=t=>!$e(t)&&!He(t),ZR=t=>Il(t,$w,Kg),$e=t=>qw.test(t),Za=t=>Il(t,Hw,HR),xp=t=>Il(t,sM,At),QR=t=>Il(t,zw,Kg),WR=t=>Il(t,Kw,JR),jR=t=>Il(t,Kg,YR),He=t=>Gw.test(t),Hf=t=>Dl(t,Hw),eM=t=>Dl(t,lM),tM=t=>Dl(t,zw),nM=t=>Dl(t,$w),rM=t=>Dl(t,Kw),oM=t=>Dl(t,uM,!0),Il=(t,e,n)=>{const r=qw.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Dl=(t,e,n=!1)=>{const r=Gw.exec(t);return r?r[1]?e(r[1]):n:!1},zw=t=>t==="position",iM=new Set(["image","url"]),Kw=t=>iM.has(t),aM=new Set(["length","size","percentage"]),$w=t=>aM.has(t),Hw=t=>t==="length",sM=t=>t==="number",lM=t=>t==="family-name",uM=t=>t==="shadow",Hb=()=>{const t=Ln("color"),e=Ln("font"),n=Ln("text"),r=Ln("font-weight"),a=Ln("tracking"),l=Ln("leading"),c=Ln("breakpoint"),h=Ln("container"),y=Ln("spacing"),p=Ln("radius"),_=Ln("shadow"),w=Ln("inset-shadow"),C=Ln("drop-shadow"),E=Ln("blur"),k=Ln("perspective"),N=Ln("aspect"),O=Ln("ease"),B=Ln("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto","contain","none"],ge=()=>[rl,"px","full","auto",He,$e,y],H=()=>[Xa,"none","subgrid",He,$e],be=()=>["auto",{span:["full",Xa,He,$e]},He,$e],ne=()=>[Xa,"auto",He,$e],ye=()=>["auto","min","max","fr",He,$e],Ce=()=>[He,$e,y],Se=()=>["start","end","center","between","around","evenly","stretch","baseline"],Ee=()=>["start","end","center","stretch"],me=()=>[He,$e,y],Me=()=>["px",...me()],X=()=>["px","auto",...me()],ue=()=>[rl,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",He,$e,y],ae=()=>[t,He,$e],ve=()=>[$b,Za],I=()=>["","none","full",p,He,$e],Q=()=>["",At,Hf,Za],Re=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ze=()=>["","none",E,He,$e],rt=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He,$e],Fe=()=>["none",At,He,$e],yt=()=>["none",At,He,$e],Ze=()=>[At,He,$e],_e=()=>[rl,"full","px",He,$e,y];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ca],breakpoint:[ca],color:[$R],container:[ca],"drop-shadow":[ca],ease:["in","out","in-out"],font:[XR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ca],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ca],shadow:[ca],spacing:[At],text:[ca],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rl,$e,He,N]}],container:["container"],columns:[{columns:[At,$e,He,h]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),$e,He]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:ee()}],"overscroll-x":[{"overscroll-x":ee()}],"overscroll-y":[{"overscroll-y":ee()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ge()}],"inset-x":[{"inset-x":ge()}],"inset-y":[{"inset-y":ge()}],start:[{start:ge()}],end:[{end:ge()}],top:[{top:ge()}],right:[{right:ge()}],bottom:[{bottom:ge()}],left:[{left:ge()}],visibility:["visible","invisible","collapse"],z:[{z:[Xa,"auto",He,$e]}],basis:[{basis:[rl,"full","auto",He,$e,h,y]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[At,rl,"auto","initial","none",$e]}],grow:[{grow:["",At,He,$e]}],shrink:[{shrink:["",At,He,$e]}],order:[{order:[Xa,"first","last","none",He,$e]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:be()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:be()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:Ce()}],"gap-x":[{"gap-x":Ce()}],"gap-y":[{"gap-y":Ce()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...Ee(),"baseline"]}],"align-self":[{self:["auto",...Ee(),"baseline"]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:Me()}],px:[{px:Me()}],py:[{py:Me()}],ps:[{ps:Me()}],pe:[{pe:Me()}],pt:[{pt:Me()}],pr:[{pr:Me()}],pb:[{pb:Me()}],pl:[{pl:Me()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":me()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":me()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[h,"screen",...ue()]}],"min-w":[{"min-w":[h,"screen","none",...ue()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...ue()]}],h:[{h:["screen",...ue()]}],"min-h":[{"min-h":["screen","none",...ue()]}],"max-h":[{"max-h":["screen",...ue()]}],"font-size":[{text:["base",n,Hf,Za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,He,xp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$b,$e]}],"font-family":[{font:[eM,$e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,He,$e]}],"line-clamp":[{"line-clamp":[At,"none",He,xp]}],leading:[{leading:[He,$e,l,y]}],"list-image":[{"list-image":["none",He,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ae()}],"text-color":[{text:ae()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[At,"from-font","auto",He,Za]}],"text-decoration-color":[{decoration:ae()}],"underline-offset":[{"underline-offset":[At,"auto",He,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...me()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),tM,QR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",nM,ZR]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xa,He,$e],radial:["",He,$e],conic:[Xa,He,$e]},rM,WR]}],"bg-color":[{bg:ae()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:ae()}],"gradient-via":[{via:ae()}],"gradient-to":[{to:ae()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:ae()}],"border-color-x":[{"border-x":ae()}],"border-color-y":[{"border-y":ae()}],"border-color-s":[{"border-s":ae()}],"border-color-e":[{"border-e":ae()}],"border-color-t":[{"border-t":ae()}],"border-color-r":[{"border-r":ae()}],"border-color-b":[{"border-b":ae()}],"border-color-l":[{"border-l":ae()}],"divide-color":[{divide:ae()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[At,He,$e]}],"outline-w":[{outline:["",At,Hf,Za]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",_,oM,jR]}],"shadow-color":[{shadow:ae()}],"inset-shadow":[{"inset-shadow":["none",He,$e,w]}],"inset-shadow-color":[{"inset-shadow":ae()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ae()}],"ring-offset-w":[{"ring-offset":[At,Za]}],"ring-offset-color":[{"ring-offset":ae()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":ae()}],opacity:[{opacity:[At,He,$e]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],filter:[{filter:["","none",He,$e]}],blur:[{blur:ze()}],brightness:[{brightness:[At,He,$e]}],contrast:[{contrast:[At,He,$e]}],"drop-shadow":[{"drop-shadow":["","none",C,He,$e]}],grayscale:[{grayscale:["",At,He,$e]}],"hue-rotate":[{"hue-rotate":[At,He,$e]}],invert:[{invert:["",At,He,$e]}],saturate:[{saturate:[At,He,$e]}],sepia:[{sepia:["",At,He,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",He,$e]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[At,He,$e]}],"backdrop-contrast":[{"backdrop-contrast":[At,He,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",At,He,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[At,He,$e]}],"backdrop-invert":[{"backdrop-invert":["",At,He,$e]}],"backdrop-opacity":[{"backdrop-opacity":[At,He,$e]}],"backdrop-saturate":[{"backdrop-saturate":[At,He,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",At,He,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":me()}],"border-spacing-x":[{"border-spacing-x":me()}],"border-spacing-y":[{"border-spacing-y":me()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[At,"initial",He,$e]}],ease:[{ease:["linear","initial",O,He,$e]}],delay:[{delay:[At,He,$e]}],animate:[{animate:["none",B,He,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,He,$e]}],"perspective-origin":[{"perspective-origin":rt()}],rotate:[{rotate:Fe()}],"rotate-x":[{"rotate-x":Fe()}],"rotate-y":[{"rotate-y":Fe()}],"rotate-z":[{"rotate-z":Fe()}],scale:[{scale:yt()}],"scale-x":[{"scale-x":yt()}],"scale-y":[{"scale-y":yt()}],"scale-z":[{"scale-z":yt()}],"scale-3d":["scale-3d"],skew:[{skew:Ze()}],"skew-x":[{"skew-x":Ze()}],"skew-y":[{"skew-y":Ze()}],transform:[{transform:[He,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:rt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":["translate-none"],accent:[{accent:ae()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ae()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":me()}],"scroll-mx":[{"scroll-mx":me()}],"scroll-my":[{"scroll-my":me()}],"scroll-ms":[{"scroll-ms":me()}],"scroll-me":[{"scroll-me":me()}],"scroll-mt":[{"scroll-mt":me()}],"scroll-mr":[{"scroll-mr":me()}],"scroll-mb":[{"scroll-mb":me()}],"scroll-ml":[{"scroll-ml":me()}],"scroll-p":[{"scroll-p":me()}],"scroll-px":[{"scroll-px":me()}],"scroll-py":[{"scroll-py":me()}],"scroll-ps":[{"scroll-ps":me()}],"scroll-pe":[{"scroll-pe":me()}],"scroll-pt":[{"scroll-pt":me()}],"scroll-pr":[{"scroll-pr":me()}],"scroll-pb":[{"scroll-pb":me()}],"scroll-pl":[{"scroll-pl":me()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,$e]}],fill:[{fill:["none",...ae()]}],"stroke-w":[{stroke:[At,Hf,Za,xp]}],stroke:[{stroke:["none",...ae()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},cM=(t,{cacheSize:e,prefix:n,experimentalParseClassName:r,extend:a={},override:l={}})=>(rc(t,"cacheSize",e),rc(t,"prefix",n),rc(t,"experimentalParseClassName",r),Yf(t.theme,l.theme),Yf(t.classGroups,l.classGroups),Yf(t.conflictingClassGroups,l.conflictingClassGroups),Yf(t.conflictingClassGroupModifiers,l.conflictingClassGroupModifiers),rc(t,"orderSensitiveModifiers",l.orderSensitiveModifiers),Jf(t.theme,a.theme),Jf(t.classGroups,a.classGroups),Jf(t.conflictingClassGroups,a.conflictingClassGroups),Jf(t.conflictingClassGroupModifiers,a.conflictingClassGroupModifiers),Yw(t,a,"orderSensitiveModifiers"),t),rc=(t,e,n)=>{n!==void 0&&(t[e]=n)},Yf=(t,e)=>{if(e)for(const n in e)rc(t,n,e[n])},Jf=(t,e)=>{if(e)for(const n in e)Yw(t,e,n)},Yw=(t,e,n)=>{const r=e[n];r!==void 0&&(t[n]=t[n]?t[n].concat(r):r)},fM=(t,...e)=>typeof t=="function"?Kb(Hb,t,...e):Kb(()=>cM(Hb(),t),...e),Yb=new Map;function Fn(...t){const e=Iw(),n=Dw(),r=`${e}.${n}`,a=Yb.get(r);if(a)return a(...t);const l=(n===3?SR:fM)({extend:{classGroups:{"bg-image":["bg-arrow-down-icon","bg-check-icon","bg-dash-icon","bg-dot-icon"],shadow:["shadow-sm-light"]}},prefix:e});return Yb.set(r,l),l(...t)}function Xr(...t){return dM(()=>hM(...t),t)}function dM(t,e){const n=$.useRef(),r=$.useRef();return(!n.current||!Yp(n.current,e))&&(n.current=e,r.current=t()),r.current}function hM([t,...e],n,r){const a=GA(),l=Iw(),c=Dw(),h=e!=null&&e.length?e==null?void 0:e.filter(C=>C!==void 0):void 0,y=n!=null&&n.length?n==null?void 0:n.filter(C=>C!==void 0):void 0,p=r!=null&&r.length?r==null?void 0:r.filter(C=>C!==void 0):void 0,_=y!=null&&y.length||a===!1||c===4||l?ld(t):t;if(y!=null&&y.length){const C=Wp(_,!1);let E=!1;for(const k of y)k&&(E=!0),mM(C,k);E&&gM(_,C)}(c===4||l)&&vM(_,C=>(c===4&&(C=zA(C)),C));let w=_;if(h!=null&&h.length&&(w=$A(Fn)(_,...h)),p!=null&&p.length&&(h!=null&&h.length)){const C=Wp(_,"merge");let E=!1;for(const k of p)k!=="merge"&&(E=!0),pM(C,k);E&&yM(w,LA(_,...e),C)}return w}function mM(t,e){function n(r,a){if(typeof a=="boolean")if(typeof r=="object"&&r!==null)for(const l in r)r[l]=n(r[l],a);else return a;if(typeof a=="object"&&a!==null)for(const l in a)r[l]=n(r[l],a[l]);return r}n(t,e)}function pM(t,e){function n(r,a){if(typeof a=="string")if(typeof r=="object"&&r!==null)for(const l in r)r[l]=n(r[l],a);else return a;if(typeof a=="object"&&a!==null)for(const l in a)r[l]=n(r[l],a[l]);return r}n(t,e)}function gM(t,e){function n(r,a){if(a===!0)if(typeof r=="object"&&r!==null)for(const l in r)r[l]=n(r[l],a);else return"";if(typeof a=="object"&&a!==null)for(const l in a)r[l]=n(r[l],a[l]);return r}n(t,e)}function yM(t,e,n){function r(a,l,c){if(c==="replace")if(typeof a=="object"&&a!==null)for(const h in a)a[h]=r(a[h],l[h],c);else return l;if(typeof c=="object"&&c!==null)for(const h in c)a[h]=r(a[h],l[h],c[h]);return a}r(t,e,n)}function vM(t,e){function n(r){if(typeof r=="string")return e(r);if(Array.isArray(r))for(let a=0;a<r.length;a++)r[a]=n(r[a]);else if(typeof r=="object"&&r!==null)for(const a in r)r[a]=n(r[a]);return r}n(t)}function Wp(t,e){if(t===null||typeof t!="object")return e;const n={};for(const r in t)n[r]=Wp(t[r],e);return n}const bM=$.createContext(void 0);function Zr(){return $.useContext(bM)??{}}function GB(t){return t}const _M={root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-cyan-100 text-cyan-800 hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-800 dark:hover:bg-cyan-300",gray:"bg-gray-100 text-gray-800 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",failure:"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:hover:bg-red-300",success:"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 hover:bg-indigo-200 dark:bg-indigo-200 dark:text-indigo-900 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 hover:bg-purple-200 dark:bg-purple-200 dark:text-purple-900 dark:hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 hover:bg-pink-200 dark:bg-pink-200 dark:text-pink-900 dark:hover:bg-pink-300",blue:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-200 dark:text-blue-900 dark:hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-800 hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-900 dark:hover:bg-cyan-300",dark:"bg-gray-600 text-gray-100 hover:bg-gray-500 dark:bg-gray-900 dark:text-gray-200 dark:hover:bg-gray-700",light:"bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-400 dark:text-gray-900 dark:hover:bg-gray-500",green:"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:hover:bg-green-300",lime:"bg-lime-100 text-lime-800 hover:bg-lime-200 dark:bg-lime-200 dark:text-lime-900 dark:hover:bg-lime-300",red:"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:hover:bg-red-300",teal:"bg-teal-100 text-teal-800 hover:bg-teal-200 dark:bg-teal-200 dark:text-teal-900 dark:hover:bg-teal-300",yellow:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:hover:bg-yellow-300"},size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"h-3 w-3",sm:"h-3.5 w-3.5"}}},Jw=$.forwardRef((t,e)=>{var _,w;const n=Zr(),r=Xr([_M,(_=n.theme)==null?void 0:_.badge,t.theme],[Rt(n.clearTheme,"badge"),t.clearTheme],[Rt(n.applyTheme,"badge"),t.applyTheme]),{children:a,color:l="info",icon:c,size:h="xs",className:y,...p}=Jr(t,(w=n.props)==null?void 0:w.badge);return F.jsxs("span",{ref:e,className:Fn(r.root.base,r.root.color[l],r.root.size[h],r.icon[c?"on":"off"],y),"data-testid":"flowbite-badge",...p,children:[c&&F.jsx(c,{"aria-hidden":!0,className:r.icon.size[h],"data-testid":"flowbite-badge-icon"}),a&&F.jsx("span",{children:a})]})});Jw.displayName="Badge";function eh(){return typeof window<"u"}function _a(t){return Xw(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Oo(t){var e;return(e=(Xw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Xw(t){return eh()?t instanceof Node||t instanceof gr(t).Node:!1}function Jt(t){return eh()?t instanceof Element||t instanceof gr(t).Element:!1}function Mn(t){return eh()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function jp(t){return!eh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}function Tc(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=Yr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(a)}function xM(t){return["table","td","th"].includes(_a(t))}function th(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $g(t){const e=nh(),n=Jt(t)?Yr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wM(t){let e=yi(t);for(;Mn(e)&&!gi(e);){if($g(e))return e;if(th(e))return null;e=yi(e)}return null}function nh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gi(t){return["html","body","#document"].includes(_a(t))}function Yr(t){return gr(t).getComputedStyle(t)}function rh(t){return Jt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yi(t){if(_a(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jp(t)&&t.host||Oo(t);return jp(e)?e.host:e}function Zw(t){const e=yi(t);return gi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mn(e)&&Tc(e)?e:Zw(e)}function ga(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Zw(t),l=a===((r=t.ownerDocument)==null?void 0:r.body),c=gr(a);if(l){const h=eg(c);return e.concat(c,c.visualViewport||[],Tc(a)?a:[],h&&n?ga(h):[])}return e.concat(a,ga(a,[],n))}function eg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mi(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function An(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&jp(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function Hg(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Qw(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function TM(t){return t.mozInputSource===0&&t.isTrusted?!0:tg()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Ww(t){return SM()?!1:!tg()&&t.width===0&&t.height===0||tg()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function jw(){return/apple/i.test(navigator.vendor)}function tg(){const t=/android/i;return t.test(Hg())||t.test(Qw())}function CM(){return Hg().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function SM(){return Qw().includes("jsdom/")}function _c(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function EM(t){return"nativeEvent"in t}function AM(t){return t.matches("html,body")}function er(t){return(t==null?void 0:t.ownerDocument)||document}function wp(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function pi(t){return"composedPath"in t?t.composedPath()[0]:t.target}const RM="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Yg(t){return Mn(t)&&t.matches(RM)}function Tp(t){t.preventDefault(),t.stopPropagation()}function MM(t){return t?t.getAttribute("role")==="combobox"&&Yg(t):!1}const kM=["top","right","bottom","left"],Jb=["start","end"],Xb=kM.reduce((t,e)=>t.concat(e,e+"-"+Jb[0],e+"-"+Jb[1]),[]),xl=Math.min,rs=Math.max,Sd=Math.round,Xf=Math.floor,ko=t=>({x:t,y:t}),NM={left:"right",right:"left",bottom:"top",top:"bottom"},IM={start:"end",end:"start"};function ng(t,e,n){return rs(t,xl(e,n))}function Ol(t,e){return typeof t=="function"?t(e):t}function vi(t){return t.split("-")[0]}function No(t){return t.split("-")[1]}function eT(t){return t==="x"?"y":"x"}function Jg(t){return t==="y"?"height":"width"}function ma(t){return["top","bottom"].includes(vi(t))?"y":"x"}function Xg(t){return eT(ma(t))}function tT(t,e,n){n===void 0&&(n=!1);const r=No(t),a=Xg(t),l=Jg(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Ad(c)),[c,Ad(c)]}function DM(t){const e=Ad(t);return[Ed(t),e,Ed(e)]}function Ed(t){return t.replace(/start|end/g,e=>IM[e])}function OM(t,e,n){const r=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?a:r:e?r:a;case"left":case"right":return e?l:c;default:return[]}}function PM(t,e,n,r){const a=No(t);let l=OM(vi(t),n==="start",r);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(Ed)))),l}function Ad(t){return t.replace(/left|right|bottom|top/g,e=>NM[e])}function LM(t){return{top:0,right:0,bottom:0,left:0,...t}}function nT(t){return typeof t!="number"?LM(t):{top:t,right:t,bottom:t,left:t}}function Rd(t){const{x:e,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:e,right:e+r,bottom:n+a,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var UM=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Md=UM.join(","),rT=typeof Element>"u",wl=rT?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,kd=!rT&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Nd=function t(e,n){var r;n===void 0&&(n=!0);var a=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),l=a===""||a==="true",c=l||n&&e&&t(e.parentNode);return c},BM=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},VM=function(e,n,r){if(Nd(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(Md));return n&&wl.call(e,Md)&&a.unshift(e),a=a.filter(r),a},FM=function t(e,n,r){for(var a=[],l=Array.from(e);l.length;){var c=l.shift();if(!Nd(c,!1))if(c.tagName==="SLOT"){var h=c.assignedElements(),y=h.length?h:c.children,p=t(y,!0,r);r.flatten?a.push.apply(a,p):a.push({scopeParent:c,candidates:p})}else{var _=wl.call(c,Md);_&&r.filter(c)&&(n||!e.includes(c))&&a.push(c);var w=c.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(c),C=!Nd(w,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(c));if(w&&C){var E=t(w===!0?c.children:w.children,!0,r);r.flatten?a.push.apply(a,E):a.push({scopeParent:c,candidates:E})}else l.unshift.apply(l,c.children)}}return a},oT=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},iT=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||BM(e))&&!oT(e)?0:e.tabIndex},qM=function(e,n){var r=iT(e);return r<0&&n&&!oT(e)?0:r},GM=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},aT=function(e){return e.tagName==="INPUT"},zM=function(e){return aT(e)&&e.type==="hidden"},KM=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},$M=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},HM=function(e){if(!e.name)return!0;var n=e.form||kd(e),r=function(h){return n.querySelectorAll('input[type="radio"][name="'+h+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=r(window.CSS.escape(e.name));else try{a=r(e.name)}catch(c){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",c.message),!1}var l=$M(a,e.form);return!l||l===e},YM=function(e){return aT(e)&&e.type==="radio"},JM=function(e){return YM(e)&&!HM(e)},XM=function(e){var n,r=e&&kd(e),a=(n=r)===null||n===void 0?void 0:n.host,l=!1;if(r&&r!==e){var c,h,y;for(l=!!((c=a)!==null&&c!==void 0&&(h=c.ownerDocument)!==null&&h!==void 0&&h.contains(a)||e!=null&&(y=e.ownerDocument)!==null&&y!==void 0&&y.contains(e));!l&&a;){var p,_,w;r=kd(a),a=(p=r)===null||p===void 0?void 0:p.host,l=!!((_=a)!==null&&_!==void 0&&(w=_.ownerDocument)!==null&&w!==void 0&&w.contains(a))}}return l},Zb=function(e){var n=e.getBoundingClientRect(),r=n.width,a=n.height;return r===0&&a===0},ZM=function(e,n){var r=n.displayCheck,a=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=wl.call(e,"details>summary:first-of-type"),c=l?e.parentElement:e;if(wl.call(c,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof a=="function"){for(var h=e;e;){var y=e.parentElement,p=kd(e);if(y&&!y.shadowRoot&&a(y)===!0)return Zb(e);e.assignedSlot?e=e.assignedSlot:!y&&p!==e.ownerDocument?e=p.host:e=y}e=h}if(XM(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Zb(e);return!1},QM=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var a=n.children.item(r);if(a.tagName==="LEGEND")return wl.call(n,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}n=n.parentElement}return!1},WM=function(e,n){return!(n.disabled||Nd(n)||zM(n)||ZM(n,e)||KM(n)||QM(n))},rg=function(e,n){return!(JM(n)||iT(n)<0||!WM(e,n))},jM=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},e1=function t(e){var n=[],r=[];return e.forEach(function(a,l){var c=!!a.scopeParent,h=c?a.scopeParent:a,y=qM(h,c),p=c?t(a.candidates):h;y===0?c?n.push.apply(n,p):n.push(h):r.push({documentOrder:l,tabIndex:y,item:a,isScope:c,content:p})}),r.sort(GM).reduce(function(a,l){return l.isScope?a.push.apply(a,l.content):a.push(l.content),a},[]).concat(n)},oh=function(e,n){n=n||{};var r;return n.getShadowRoot?r=FM([e],n.includeContainer,{filter:rg.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:jM}):r=VM(e,n.includeContainer,rg.bind(null,n)),e1(r)},t1=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return wl.call(e,Md)===!1?!1:rg(n,e)},sT=Aw();function Qb(t,e,n){let{reference:r,floating:a}=t;const l=ma(e),c=Xg(e),h=Jg(c),y=vi(e),p=l==="y",_=r.x+r.width/2-a.width/2,w=r.y+r.height/2-a.height/2,C=r[h]/2-a[h]/2;let E;switch(y){case"top":E={x:_,y:r.y-a.height};break;case"bottom":E={x:_,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:w};break;case"left":E={x:r.x-a.width,y:w};break;default:E={x:r.x,y:r.y}}switch(No(e)){case"start":E[c]-=C*(n&&p?-1:1);break;case"end":E[c]+=C*(n&&p?-1:1);break}return E}const n1=async(t,e,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:l=[],platform:c}=n,h=l.filter(Boolean),y=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:_,y:w}=Qb(p,r,y),C=r,E={},k=0;for(let N=0;N<h.length;N++){const{name:O,fn:B}=h[N],{x:P,y:q,data:J,reset:ee}=await B({x:_,y:w,initialPlacement:r,placement:C,strategy:a,middlewareData:E,rects:p,platform:c,elements:{reference:t,floating:e}});_=P??_,w=q??w,E={...E,[O]:{...E[O],...J}},ee&&k<=50&&(k++,typeof ee=="object"&&(ee.placement&&(C=ee.placement),ee.rects&&(p=ee.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):ee.rects),{x:_,y:w}=Qb(p,C,y)),N=-1)}return{x:_,y:w,placement:C,strategy:a,middlewareData:E}};async function Zg(t,e){var n;e===void 0&&(e={});const{x:r,y:a,platform:l,rects:c,elements:h,strategy:y}=t,{boundary:p="clippingAncestors",rootBoundary:_="viewport",elementContext:w="floating",altBoundary:C=!1,padding:E=0}=Ol(e,t),k=nT(E),O=h[C?w==="floating"?"reference":"floating":w],B=Rd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(O)))==null||n?O:O.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:p,rootBoundary:_,strategy:y})),P=w==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),J=await(l.isElement==null?void 0:l.isElement(q))?await(l.getScale==null?void 0:l.getScale(q))||{x:1,y:1}:{x:1,y:1},ee=Rd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:P,offsetParent:q,strategy:y}):P);return{top:(B.top-ee.top+k.top)/J.y,bottom:(ee.bottom-B.bottom+k.bottom)/J.y,left:(B.left-ee.left+k.left)/J.x,right:(ee.right-B.right+k.right)/J.x}}const r1=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:a,rects:l,platform:c,elements:h,middlewareData:y}=e,{element:p,padding:_=0}=Ol(t,e)||{};if(p==null)return{};const w=nT(_),C={x:n,y:r},E=Xg(a),k=Jg(E),N=await c.getDimensions(p),O=E==="y",B=O?"top":"left",P=O?"bottom":"right",q=O?"clientHeight":"clientWidth",J=l.reference[k]+l.reference[E]-C[E]-l.floating[k],ee=C[E]-l.reference[E],ge=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let H=ge?ge[q]:0;(!H||!await(c.isElement==null?void 0:c.isElement(ge)))&&(H=h.floating[q]||l.floating[k]);const be=J/2-ee/2,ne=H/2-N[k]/2-1,ye=xl(w[B],ne),Ce=xl(w[P],ne),Se=ye,Ee=H-N[k]-Ce,me=H/2-N[k]/2+be,Me=ng(Se,me,Ee),X=!y.arrow&&No(a)!=null&&me!==Me&&l.reference[k]/2-(me<Se?ye:Ce)-N[k]/2<0,ue=X?me<Se?me-Se:me-Ee:0;return{[E]:C[E]+ue,data:{[E]:Me,centerOffset:me-Me-ue,...X&&{alignmentOffset:ue}},reset:X}}});function o1(t,e,n){return(t?[...n.filter(a=>No(a)===t),...n.filter(a=>No(a)!==t)]:n.filter(a=>vi(a)===a)).filter(a=>t?No(a)===t||(e?Ed(a)!==a:!1):!0)}const i1=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,a;const{rects:l,middlewareData:c,placement:h,platform:y,elements:p}=e,{crossAxis:_=!1,alignment:w,allowedPlacements:C=Xb,autoAlignment:E=!0,...k}=Ol(t,e),N=w!==void 0||C===Xb?o1(w||null,E,C):C,O=await Zg(e,k),B=((n=c.autoPlacement)==null?void 0:n.index)||0,P=N[B];if(P==null)return{};const q=tT(P,l,await(y.isRTL==null?void 0:y.isRTL(p.floating)));if(h!==P)return{reset:{placement:N[0]}};const J=[O[vi(P)],O[q[0]],O[q[1]]],ee=[...((r=c.autoPlacement)==null?void 0:r.overflows)||[],{placement:P,overflows:J}],ge=N[B+1];if(ge)return{data:{index:B+1,overflows:ee},reset:{placement:ge}};const H=ee.map(ye=>{const Ce=No(ye.placement);return[ye.placement,Ce&&_?ye.overflows.slice(0,2).reduce((Se,Ee)=>Se+Ee,0):ye.overflows[0],ye.overflows]}).sort((ye,Ce)=>ye[1]-Ce[1]),ne=((a=H.filter(ye=>ye[2].slice(0,No(ye[0])?2:3).every(Ce=>Ce<=0))[0])==null?void 0:a[0])||H[0][0];return ne!==h?{data:{index:B+1,overflows:ee},reset:{placement:ne}}:{}}}},a1=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:a,middlewareData:l,rects:c,initialPlacement:h,platform:y,elements:p}=e,{mainAxis:_=!0,crossAxis:w=!0,fallbackPlacements:C,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:N=!0,...O}=Ol(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const B=vi(a),P=ma(h),q=vi(h)===h,J=await(y.isRTL==null?void 0:y.isRTL(p.floating)),ee=C||(q||!N?[Ad(h)]:DM(h)),ge=k!=="none";!C&&ge&&ee.push(...PM(h,N,k,J));const H=[h,...ee],be=await Zg(e,O),ne=[];let ye=((r=l.flip)==null?void 0:r.overflows)||[];if(_&&ne.push(be[B]),w){const me=tT(a,c,J);ne.push(be[me[0]],be[me[1]])}if(ye=[...ye,{placement:a,overflows:ne}],!ne.every(me=>me<=0)){var Ce,Se;const me=(((Ce=l.flip)==null?void 0:Ce.index)||0)+1,Me=H[me];if(Me&&(!(w==="alignment"?P!==ma(Me):!1)||ye.every(ae=>ae.overflows[0]>0&&ma(ae.placement)===P)))return{data:{index:me,overflows:ye},reset:{placement:Me}};let X=(Se=ye.filter(ue=>ue.overflows[0]<=0).sort((ue,ae)=>ue.overflows[1]-ae.overflows[1])[0])==null?void 0:Se.placement;if(!X)switch(E){case"bestFit":{var Ee;const ue=(Ee=ye.filter(ae=>{if(ge){const ve=ma(ae.placement);return ve===P||ve==="y"}return!0}).map(ae=>[ae.placement,ae.overflows.filter(ve=>ve>0).reduce((ve,I)=>ve+I,0)]).sort((ae,ve)=>ae[1]-ve[1])[0])==null?void 0:Ee[0];ue&&(X=ue);break}case"initialPlacement":X=h;break}if(a!==X)return{reset:{placement:X}}}return{}}}};async function s1(t,e){const{placement:n,platform:r,elements:a}=t,l=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=vi(n),h=No(n),y=ma(n)==="y",p=["left","top"].includes(c)?-1:1,_=l&&y?-1:1,w=Ol(e,t);let{mainAxis:C,crossAxis:E,alignmentAxis:k}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof k=="number"&&(E=h==="end"?k*-1:k),y?{x:E*_,y:C*p}:{x:C*p,y:E*_}}const l1=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:a,y:l,placement:c,middlewareData:h}=e,y=await s1(e,t);return c===((n=h.offset)==null?void 0:n.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:a+y.x,y:l+y.y,data:{...y,placement:c}}}}},u1=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:h={fn:O=>{let{x:B,y:P}=O;return{x:B,y:P}}},...y}=Ol(t,e),p={x:n,y:r},_=await Zg(e,y),w=ma(vi(a)),C=eT(w);let E=p[C],k=p[w];if(l){const O=C==="y"?"top":"left",B=C==="y"?"bottom":"right",P=E+_[O],q=E-_[B];E=ng(P,E,q)}if(c){const O=w==="y"?"top":"left",B=w==="y"?"bottom":"right",P=k+_[O],q=k-_[B];k=ng(P,k,q)}const N=h.fn({...e,[C]:E,[w]:k});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[C]:l,[w]:c}}}}}};function lT(t){const e=Yr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=Mn(t),l=a?t.offsetWidth:n,c=a?t.offsetHeight:r,h=Sd(n)!==l||Sd(r)!==c;return h&&(n=l,r=c),{width:n,height:r,$:h}}function Qg(t){return Jt(t)?t:t.contextElement}function gl(t){const e=Qg(t);if(!Mn(e))return ko(1);const n=e.getBoundingClientRect(),{width:r,height:a,$:l}=lT(e);let c=(l?Sd(n.width):n.width)/r,h=(l?Sd(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const c1=ko(0);function uT(t){const e=gr(t);return!nh()||!e.visualViewport?c1:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function f1(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gr(t)?!1:e}function os(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=Qg(t);let c=ko(1);e&&(r?Jt(r)&&(c=gl(r)):c=gl(t));const h=f1(l,n,r)?uT(l):ko(0);let y=(a.left+h.x)/c.x,p=(a.top+h.y)/c.y,_=a.width/c.x,w=a.height/c.y;if(l){const C=gr(l),E=r&&Jt(r)?gr(r):r;let k=C,N=eg(k);for(;N&&r&&E!==k;){const O=gl(N),B=N.getBoundingClientRect(),P=Yr(N),q=B.left+(N.clientLeft+parseFloat(P.paddingLeft))*O.x,J=B.top+(N.clientTop+parseFloat(P.paddingTop))*O.y;y*=O.x,p*=O.y,_*=O.x,w*=O.y,y+=q,p+=J,k=gr(N),N=eg(k)}}return Rd({width:_,height:w,x:y,y:p})}function Wg(t,e){const n=rh(t).scrollLeft;return e?e.left+n:os(Oo(t)).left+n}function cT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=r.left+e.scrollLeft-(n?0:Wg(t,r)),l=r.top+e.scrollTop;return{x:a,y:l}}function d1(t){let{elements:e,rect:n,offsetParent:r,strategy:a}=t;const l=a==="fixed",c=Oo(r),h=e?th(e.floating):!1;if(r===c||h&&l)return n;let y={scrollLeft:0,scrollTop:0},p=ko(1);const _=ko(0),w=Mn(r);if((w||!w&&!l)&&((_a(r)!=="body"||Tc(c))&&(y=rh(r)),Mn(r))){const E=os(r);p=gl(r),_.x=E.x+r.clientLeft,_.y=E.y+r.clientTop}const C=c&&!w&&!l?cT(c,y,!0):ko(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-y.scrollLeft*p.x+_.x+C.x,y:n.y*p.y-y.scrollTop*p.y+_.y+C.y}}function h1(t){return Array.from(t.getClientRects())}function m1(t){const e=Oo(t),n=rh(t),r=t.ownerDocument.body,a=rs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=rs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Wg(t);const h=-n.scrollTop;return Yr(r).direction==="rtl"&&(c+=rs(e.clientWidth,r.clientWidth)-a),{width:a,height:l,x:c,y:h}}function p1(t,e){const n=gr(t),r=Oo(t),a=n.visualViewport;let l=r.clientWidth,c=r.clientHeight,h=0,y=0;if(a){l=a.width,c=a.height;const p=nh();(!p||p&&e==="fixed")&&(h=a.offsetLeft,y=a.offsetTop)}return{width:l,height:c,x:h,y}}function g1(t,e){const n=os(t,!0,e==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,l=Mn(t)?gl(t):ko(1),c=t.clientWidth*l.x,h=t.clientHeight*l.y,y=a*l.x,p=r*l.y;return{width:c,height:h,x:y,y:p}}function Wb(t,e,n){let r;if(e==="viewport")r=p1(t,n);else if(e==="document")r=m1(Oo(t));else if(Jt(e))r=g1(e,n);else{const a=uT(t);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Rd(r)}function fT(t,e){const n=yi(t);return n===e||!Jt(n)||gi(n)?!1:Yr(n).position==="fixed"||fT(n,e)}function y1(t,e){const n=e.get(t);if(n)return n;let r=ga(t,[],!1).filter(h=>Jt(h)&&_a(h)!=="body"),a=null;const l=Yr(t).position==="fixed";let c=l?yi(t):t;for(;Jt(c)&&!gi(c);){const h=Yr(c),y=$g(c);!y&&h.position==="fixed"&&(a=null),(l?!y&&!a:!y&&h.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Tc(c)&&!y&&fT(t,c))?r=r.filter(_=>_!==c):a=h,c=yi(c)}return e.set(t,r),r}function v1(t){let{element:e,boundary:n,rootBoundary:r,strategy:a}=t;const c=[...n==="clippingAncestors"?th(e)?[]:y1(e,this._c):[].concat(n),r],h=c[0],y=c.reduce((p,_)=>{const w=Wb(e,_,a);return p.top=rs(w.top,p.top),p.right=xl(w.right,p.right),p.bottom=xl(w.bottom,p.bottom),p.left=rs(w.left,p.left),p},Wb(e,h,a));return{width:y.right-y.left,height:y.bottom-y.top,x:y.left,y:y.top}}function b1(t){const{width:e,height:n}=lT(t);return{width:e,height:n}}function _1(t,e,n){const r=Mn(e),a=Oo(e),l=n==="fixed",c=os(t,!0,l,e);let h={scrollLeft:0,scrollTop:0};const y=ko(0);function p(){y.x=Wg(a)}if(r||!r&&!l)if((_a(e)!=="body"||Tc(a))&&(h=rh(e)),r){const E=os(e,!0,l,e);y.x=E.x+e.clientLeft,y.y=E.y+e.clientTop}else a&&p();l&&!r&&a&&p();const _=a&&!r&&!l?cT(a,h):ko(0),w=c.left+h.scrollLeft-y.x-_.x,C=c.top+h.scrollTop-y.y-_.y;return{x:w,y:C,width:c.width,height:c.height}}function Cp(t){return Yr(t).position==="static"}function jb(t,e){if(!Mn(t)||Yr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Oo(t)===n&&(n=n.ownerDocument.body),n}function dT(t,e){const n=gr(t);if(th(t))return n;if(!Mn(t)){let a=yi(t);for(;a&&!gi(a);){if(Jt(a)&&!Cp(a))return a;a=yi(a)}return n}let r=jb(t,e);for(;r&&xM(r)&&Cp(r);)r=jb(r,e);return r&&gi(r)&&Cp(r)&&!$g(r)?n:r||wM(t)||n}const x1=async function(t){const e=this.getOffsetParent||dT,n=this.getDimensions,r=await n(t.floating);return{reference:_1(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function w1(t){return Yr(t).direction==="rtl"}const T1={convertOffsetParentRelativeRectToViewportRelativeRect:d1,getDocumentElement:Oo,getClippingRect:v1,getOffsetParent:dT,getElementRects:x1,getClientRects:h1,getDimensions:b1,getScale:gl,isElement:Jt,isRTL:w1};function hT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function C1(t,e){let n=null,r;const a=Oo(t);function l(){var h;clearTimeout(r),(h=n)==null||h.disconnect(),n=null}function c(h,y){h===void 0&&(h=!1),y===void 0&&(y=1),l();const p=t.getBoundingClientRect(),{left:_,top:w,width:C,height:E}=p;if(h||e(),!C||!E)return;const k=Xf(w),N=Xf(a.clientWidth-(_+C)),O=Xf(a.clientHeight-(w+E)),B=Xf(_),q={rootMargin:-k+"px "+-N+"px "+-O+"px "+-B+"px",threshold:rs(0,xl(1,y))||1};let J=!0;function ee(ge){const H=ge[0].intersectionRatio;if(H!==y){if(!J)return c();H?c(!1,H):r=setTimeout(()=>{c(!1,1e-7)},1e3)}H===1&&!hT(p,t.getBoundingClientRect())&&c(),J=!1}try{n=new IntersectionObserver(ee,{...q,root:a.ownerDocument})}catch{n=new IntersectionObserver(ee,q)}n.observe(t)}return c(!0),l}function mT(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:y=!1}=r,p=Qg(t),_=a||l?[...p?ga(p):[],...ga(e)]:[];_.forEach(B=>{a&&B.addEventListener("scroll",n,{passive:!0}),l&&B.addEventListener("resize",n)});const w=p&&h?C1(p,n):null;let C=-1,E=null;c&&(E=new ResizeObserver(B=>{let[P]=B;P&&P.target===p&&E&&(E.unobserve(e),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var q;(q=E)==null||q.observe(e)})),n()}),p&&!y&&E.observe(p),E.observe(e));let k,N=y?os(t):null;y&&O();function O(){const B=os(t);N&&!hT(N,B)&&n(),N=B,k=requestAnimationFrame(O)}return n(),()=>{var B;_.forEach(P=>{a&&P.removeEventListener("scroll",n),l&&P.removeEventListener("resize",n)}),w==null||w(),(B=E)==null||B.disconnect(),E=null,y&&cancelAnimationFrame(k)}}const S1=l1,E1=i1,A1=u1,R1=a1,e_=r1,M1=(t,e,n)=>{const r=new Map,a={platform:T1,...n},l={...a.platform,_c:r};return n1(t,e,{...a,platform:l})};var k1=typeof document<"u",N1=function(){},ud=k1?$.useLayoutEffect:N1;function Id(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Id(t[r],e[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=n;r--!==0;){const l=a[r];if(!(l==="_owner"&&t.$$typeof)&&!Id(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function pT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function t_(t,e){const n=pT(t);return Math.round(e*n)/n}function Sp(t){const e=$.useRef(t);return ud(()=>{e.current=t}),e}function I1(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:l,floating:c}={},transform:h=!0,whileElementsMounted:y,open:p}=t,[_,w]=$.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[C,E]=$.useState(r);Id(C,r)||E(r);const[k,N]=$.useState(null),[O,B]=$.useState(null),P=$.useCallback(ae=>{ae!==ge.current&&(ge.current=ae,N(ae))},[]),q=$.useCallback(ae=>{ae!==H.current&&(H.current=ae,B(ae))},[]),J=l||k,ee=c||O,ge=$.useRef(null),H=$.useRef(null),be=$.useRef(_),ne=y!=null,ye=Sp(y),Ce=Sp(a),Se=Sp(p),Ee=$.useCallback(()=>{if(!ge.current||!H.current)return;const ae={placement:e,strategy:n,middleware:C};Ce.current&&(ae.platform=Ce.current),M1(ge.current,H.current,ae).then(ve=>{const I={...ve,isPositioned:Se.current!==!1};me.current&&!Id(be.current,I)&&(be.current=I,sT.flushSync(()=>{w(I)}))})},[C,e,n,Ce,Se]);ud(()=>{p===!1&&be.current.isPositioned&&(be.current.isPositioned=!1,w(ae=>({...ae,isPositioned:!1})))},[p]);const me=$.useRef(!1);ud(()=>(me.current=!0,()=>{me.current=!1}),[]),ud(()=>{if(J&&(ge.current=J),ee&&(H.current=ee),J&&ee){if(ye.current)return ye.current(J,ee,Ee);Ee()}},[J,ee,Ee,ye,ne]);const Me=$.useMemo(()=>({reference:ge,floating:H,setReference:P,setFloating:q}),[P,q]),X=$.useMemo(()=>({reference:J,floating:ee}),[J,ee]),ue=$.useMemo(()=>{const ae={position:n,left:0,top:0};if(!X.floating)return ae;const ve=t_(X.floating,_.x),I=t_(X.floating,_.y);return h?{...ae,transform:"translate("+ve+"px, "+I+"px)",...pT(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ve,top:I}},[n,h,X.floating,_.x,_.y]);return $.useMemo(()=>({..._,update:Ee,refs:Me,elements:X,floatingStyles:ue}),[_,Ee,Me,X,ue])}const D1=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?e_({element:r.current,padding:a}).fn(n):{}:r?e_({element:r,padding:a}).fn(n):{}}}},O1=(t,e)=>({...S1(t),options:[t,e]}),P1=(t,e)=>({...A1(t),options:[t,e]}),L1=(t,e)=>({...R1(t),options:[t,e]}),U1=(t,e)=>({...E1(t),options:[t,e]}),B1=(t,e)=>({...D1(t),options:[t,e]});function og(t){return $.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const gT={...pA},V1=gT.useInsertionEffect,F1=V1||(t=>t());function $r(t){const e=$.useRef(()=>{});return F1(()=>{e.current=t}),$.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}var ur=typeof document<"u"?$.useLayoutEffect:$.useEffect;let n_=!1,q1=0;const r_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+q1++;function G1(){const[t,e]=$.useState(()=>n_?r_():void 0);return ur(()=>{t==null&&e(r_())},[]),$.useEffect(()=>{n_=!0},[]),t}const z1=gT.useId,jg=z1||G1;function K1(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(a=>a(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(a=>a!==n))||[])}}}const $1=$.createContext(null),H1=$.createContext(null),ey=()=>{var t;return((t=$.useContext($1))==null?void 0:t.id)||null},ih=()=>$.useContext(H1);function is(t){return"data-floating-ui-"+t}function yl(t){const e=$.useRef(t);return ur(()=>{e.current=t}),e}const o_=is("safe-polygon");function Ep(t,e,n){return n&&!_c(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function Y1(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:a,events:l,elements:c}=t,{enabled:h=!0,delay:y=0,handleClose:p=null,mouseOnly:_=!1,restMs:w=0,move:C=!0}=e,E=ih(),k=ey(),N=yl(p),O=yl(y),B=yl(n),P=$.useRef(),q=$.useRef(-1),J=$.useRef(),ee=$.useRef(-1),ge=$.useRef(!0),H=$.useRef(!1),be=$.useRef(()=>{}),ne=$.useRef(!1),ye=$.useCallback(()=>{var ue;const ae=(ue=a.current.openEvent)==null?void 0:ue.type;return(ae==null?void 0:ae.includes("mouse"))&&ae!=="mousedown"},[a]);$.useEffect(()=>{if(!h)return;function ue(ae){let{open:ve}=ae;ve||(clearTimeout(q.current),clearTimeout(ee.current),ge.current=!0,ne.current=!1)}return l.on("openchange",ue),()=>{l.off("openchange",ue)}},[h,l]),$.useEffect(()=>{if(!h||!N.current||!n)return;function ue(ve){ye()&&r(!1,ve,"hover")}const ae=er(c.floating).documentElement;return ae.addEventListener("mouseleave",ue),()=>{ae.removeEventListener("mouseleave",ue)}},[c.floating,n,r,h,N,ye]);const Ce=$.useCallback(function(ue,ae,ve){ae===void 0&&(ae=!0),ve===void 0&&(ve="hover");const I=Ep(O.current,"close",P.current);I&&!J.current?(clearTimeout(q.current),q.current=window.setTimeout(()=>r(!1,ue,ve),I)):ae&&(clearTimeout(q.current),r(!1,ue,ve))},[O,r]),Se=$r(()=>{be.current(),J.current=void 0}),Ee=$r(()=>{if(H.current){const ue=er(c.floating).body;ue.style.pointerEvents="",ue.removeAttribute(o_),H.current=!1}}),me=$r(()=>a.current.openEvent?["click","mousedown"].includes(a.current.openEvent.type):!1);$.useEffect(()=>{if(!h)return;function ue(Q){if(clearTimeout(q.current),ge.current=!1,_&&!_c(P.current)||w>0&&!Ep(O.current,"open"))return;const Re=Ep(O.current,"open",P.current);Re?q.current=window.setTimeout(()=>{B.current||r(!0,Q,"hover")},Re):n||r(!0,Q,"hover")}function ae(Q){if(me())return;be.current();const Re=er(c.floating);if(clearTimeout(ee.current),ne.current=!1,N.current&&a.current.floatingContext){n||clearTimeout(q.current),J.current=N.current({...a.current.floatingContext,tree:E,x:Q.clientX,y:Q.clientY,onClose(){Ee(),Se(),me()||Ce(Q,!0,"safe-polygon")}});const ze=J.current;Re.addEventListener("mousemove",ze),be.current=()=>{Re.removeEventListener("mousemove",ze)};return}(P.current==="touch"?!An(c.floating,Q.relatedTarget):!0)&&Ce(Q)}function ve(Q){me()||a.current.floatingContext&&(N.current==null||N.current({...a.current.floatingContext,tree:E,x:Q.clientX,y:Q.clientY,onClose(){Ee(),Se(),me()||Ce(Q)}})(Q))}if(Jt(c.domReference)){var I;const Q=c.domReference;return n&&Q.addEventListener("mouseleave",ve),(I=c.floating)==null||I.addEventListener("mouseleave",ve),C&&Q.addEventListener("mousemove",ue,{once:!0}),Q.addEventListener("mouseenter",ue),Q.addEventListener("mouseleave",ae),()=>{var Re;n&&Q.removeEventListener("mouseleave",ve),(Re=c.floating)==null||Re.removeEventListener("mouseleave",ve),C&&Q.removeEventListener("mousemove",ue),Q.removeEventListener("mouseenter",ue),Q.removeEventListener("mouseleave",ae)}}},[c,h,t,_,w,C,Ce,Se,Ee,r,n,B,E,O,N,a,me]),ur(()=>{var ue;if(h&&n&&(ue=N.current)!=null&&ue.__options.blockPointerEvents&&ye()){H.current=!0;const ve=c.floating;if(Jt(c.domReference)&&ve){var ae;const I=er(c.floating).body;I.setAttribute(o_,"");const Q=c.domReference,Re=E==null||(ae=E.nodesRef.current.find(ke=>ke.id===k))==null||(ae=ae.context)==null?void 0:ae.elements.floating;return Re&&(Re.style.pointerEvents=""),I.style.pointerEvents="none",Q.style.pointerEvents="auto",ve.style.pointerEvents="auto",()=>{I.style.pointerEvents="",Q.style.pointerEvents="",ve.style.pointerEvents=""}}}},[h,n,k,c,E,N,ye]),ur(()=>{n||(P.current=void 0,ne.current=!1,Se(),Ee())},[n,Se,Ee]),$.useEffect(()=>()=>{Se(),clearTimeout(q.current),clearTimeout(ee.current),Ee()},[h,c.domReference,Se,Ee]);const Me=$.useMemo(()=>{function ue(ae){P.current=ae.pointerType}return{onPointerDown:ue,onPointerEnter:ue,onMouseMove(ae){const{nativeEvent:ve}=ae;function I(){!ge.current&&!B.current&&r(!0,ve,"hover")}_&&!_c(P.current)||n||w===0||ne.current&&ae.movementX**2+ae.movementY**2<2||(clearTimeout(ee.current),P.current==="touch"?I():(ne.current=!0,ee.current=window.setTimeout(I,w)))}}},[_,r,n,B,w]),X=$.useMemo(()=>({onMouseEnter(){clearTimeout(q.current)},onMouseLeave(ue){me()||Ce(ue.nativeEvent,!1)}}),[Ce,me]);return $.useMemo(()=>h?{reference:Me,floating:X}:{},[h,Me,X])}let i_=0;function ol(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:a=!1}=e;r&&cancelAnimationFrame(i_);const l=()=>t==null?void 0:t.focus({preventScroll:n});a?l():i_=requestAnimationFrame(l)}function a_(t,e){var n;let r=[],a=(n=t.find(l=>l.id===e))==null?void 0:n.parentId;for(;a;){const l=t.find(c=>c.id===a);a=l==null?void 0:l.parentId,l&&(r=r.concat(l))}return r}function vl(t,e){let n=t.filter(a=>{var l;return a.parentId===e&&((l=a.context)==null?void 0:l.open)}),r=n;for(;r.length;)r=t.filter(a=>{var l;return(l=r)==null?void 0:l.some(c=>{var h;return a.parentId===c.id&&((h=a.context)==null?void 0:h.open)})}),n=n.concat(r);return n}let il=new WeakMap,Zf=new WeakSet,Qf={},Ap=0;const J1=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,yT=t=>t&&(t.host||yT(t.parentNode)),X1=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=yT(n);return t.contains(r)?r:null}).filter(n=>n!=null);function Z1(t,e,n,r){const a="data-floating-ui-inert",l=r?"inert":n?"aria-hidden":null,c=X1(e,t),h=new Set,y=new Set(c),p=[];Qf[a]||(Qf[a]=new WeakMap);const _=Qf[a];c.forEach(w),C(e),h.clear();function w(E){!E||h.has(E)||(h.add(E),E.parentNode&&w(E.parentNode))}function C(E){!E||y.has(E)||[].forEach.call(E.children,k=>{if(_a(k)!=="script")if(h.has(k))C(k);else{const N=l?k.getAttribute(l):null,O=N!==null&&N!=="false",B=il.get(k)||0,P=l?B+1:B,q=(_.get(k)||0)+1;il.set(k,P),_.set(k,q),p.push(k),P===1&&O&&Zf.add(k),q===1&&k.setAttribute(a,""),!O&&l&&k.setAttribute(l,"true")}})}return Ap++,()=>{p.forEach(E=>{const k=il.get(E)||0,N=l?k-1:k,O=(_.get(E)||0)-1;il.set(E,N),_.set(E,O),N||(!Zf.has(E)&&l&&E.removeAttribute(l),Zf.delete(E)),O||E.removeAttribute(a)}),Ap--,Ap||(il=new WeakMap,il=new WeakMap,Zf=new WeakSet,Qf={})}}function s_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=er(t[0]).body;return Z1(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const ah=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function vT(t,e){const n=oh(t,ah());e==="prev"&&n.reverse();const r=n.indexOf(mi(er(t)));return n.slice(r+1)[0]}function bT(){return vT(document.body,"next")}function _T(){return vT(document.body,"prev")}function mc(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!An(n,r)}function Q1(t){oh(t,ah()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function l_(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const sh={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let W1;function u_(t){t.key==="Tab"&&(t.target,clearTimeout(W1))}const Dd=$.forwardRef(function(e,n){const[r,a]=$.useState();ur(()=>(jw()&&a("button"),document.addEventListener("keydown",u_),()=>{document.removeEventListener("keydown",u_)}),[]);const l={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[is("focus-guard")]:"",style:sh};return F.jsx("span",{...e,...l})}),xT=$.createContext(null),c_=is("portal");function j1(t){t===void 0&&(t={});const{id:e,root:n}=t,r=jg(),a=wT(),[l,c]=$.useState(null),h=$.useRef(null);return ur(()=>()=>{l==null||l.remove(),queueMicrotask(()=>{h.current=null})},[l]),ur(()=>{if(!r||h.current)return;const y=e?document.getElementById(e):null;if(!y)return;const p=document.createElement("div");p.id=r,p.setAttribute(c_,""),y.appendChild(p),h.current=p,c(p)},[e,r]),ur(()=>{if(n===null||!r||h.current)return;let y=n||(a==null?void 0:a.portalNode);y&&!Jt(y)&&(y=y.current),y=y||document.body;let p=null;e&&(p=document.createElement("div"),p.id=e,y.appendChild(p));const _=document.createElement("div");_.id=r,_.setAttribute(c_,""),y=p||y,y.appendChild(_),h.current=_,c(_)},[e,n,r,a]),l}function ek(t){const{children:e,id:n,root:r,preserveTabOrder:a=!0}=t,l=j1({id:n,root:r}),[c,h]=$.useState(null),y=$.useRef(null),p=$.useRef(null),_=$.useRef(null),w=$.useRef(null),C=c==null?void 0:c.modal,E=c==null?void 0:c.open,k=!!c&&!c.modal&&c.open&&a&&!!(r||l);return $.useEffect(()=>{if(!l||!a||C)return;function N(O){l&&mc(O)&&(O.type==="focusin"?l_:Q1)(l)}return l.addEventListener("focusin",N,!0),l.addEventListener("focusout",N,!0),()=>{l.removeEventListener("focusin",N,!0),l.removeEventListener("focusout",N,!0)}},[l,a,C]),$.useEffect(()=>{l&&(E||l_(l))},[E,l]),F.jsxs(xT.Provider,{value:$.useMemo(()=>({preserveTabOrder:a,beforeOutsideRef:y,afterOutsideRef:p,beforeInsideRef:_,afterInsideRef:w,portalNode:l,setFocusManagerState:h}),[a,l]),children:[k&&l&&F.jsx(Dd,{"data-type":"outside",ref:y,onFocus:N=>{if(mc(N,l)){var O;(O=_.current)==null||O.focus()}else{const B=_T()||(c==null?void 0:c.domReference);B==null||B.focus()}}}),k&&l&&F.jsx("span",{"aria-owns":l.id,style:sh}),l&&sT.createPortal(e,l),k&&l&&F.jsx(Dd,{"data-type":"outside",ref:p,onFocus:N=>{if(mc(N,l)){var O;(O=w.current)==null||O.focus()}else{const B=bT()||(c==null?void 0:c.domReference);B==null||B.focus(),c!=null&&c.closeOnFocusOut&&(c==null||c.onOpenChange(!1,N.nativeEvent,"focus-out"))}}})]})}const wT=()=>$.useContext(xT),ig="data-floating-ui-focusable";function f_(t){return t?t.hasAttribute(ig)?t:t.querySelector("["+ig+"]")||t:null}const d_=20;let Wa=[];function Rp(t){Wa=Wa.filter(e=>e.isConnected),t&&_a(t)!=="body"&&(Wa.push(t),Wa.length>d_&&(Wa=Wa.slice(-d_)))}function h_(){return Wa.slice().reverse().find(t=>t.isConnected)}function tk(t){const e=ah();return t1(t,e)?t:oh(t,e)[0]||t}const nk=$.forwardRef(function(e,n){return F.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:sh})});function rk(t){const{context:e,children:n,disabled:r=!1,order:a=["content"],guards:l=!0,initialFocus:c=0,returnFocus:h=!0,restoreFocus:y=!1,modal:p=!0,visuallyHiddenDismiss:_=!1,closeOnFocusOut:w=!0,outsideElementsInert:C=!1}=t,{open:E,onOpenChange:k,events:N,dataRef:O,elements:{domReference:B,floating:P}}=e,q=$r(()=>{var _e;return(_e=O.current.floatingContext)==null?void 0:_e.nodeId}),J=typeof c=="number"&&c<0,ee=MM(B)&&J,ge=J1(),H=ge?l:!0,be=!H||ge&&C,ne=yl(a),ye=yl(c),Ce=yl(h),Se=ih(),Ee=wT(),me=$.useRef(null),Me=$.useRef(null),X=$.useRef(!1),ue=$.useRef(!1),ae=$.useRef(-1),ve=Ee!=null,I=f_(P),Q=$r(function(_e){return _e===void 0&&(_e=I),_e?oh(_e,ah()):[]}),Re=$r(_e=>{const st=Q(_e);return ne.current.map(et=>B&&et==="reference"?B:I&&et==="floating"?I:st).filter(Boolean).flat()});$.useEffect(()=>{if(r||!p)return;function _e(et){if(et.key==="Tab"){An(I,mi(er(I)))&&Q().length===0&&!ee&&Tp(et);const qe=Re(),Dt=pi(et);ne.current[0]==="reference"&&Dt===B&&(Tp(et),et.shiftKey?ol(qe[qe.length-1]):ol(qe[1])),ne.current[1]==="floating"&&Dt===I&&et.shiftKey&&(Tp(et),ol(qe[0]))}}const st=er(I);return st.addEventListener("keydown",_e),()=>{st.removeEventListener("keydown",_e)}},[r,B,I,p,ne,ee,Q,Re]),$.useEffect(()=>{if(r||!P)return;function _e(st){const et=pi(st),Dt=Q().indexOf(et);Dt!==-1&&(ae.current=Dt)}return P.addEventListener("focusin",_e),()=>{P.removeEventListener("focusin",_e)}},[r,P,Q]),$.useEffect(()=>{if(r||!w)return;function _e(){ue.current=!0,setTimeout(()=>{ue.current=!1})}function st(et){const qe=et.relatedTarget;queueMicrotask(()=>{const Dt=q(),ln=!(An(B,qe)||An(P,qe)||An(qe,P)||An(Ee==null?void 0:Ee.portalNode,qe)||qe!=null&&qe.hasAttribute(is("focus-guard"))||Se&&(vl(Se.nodesRef.current,Dt).find(Lt=>{var tr,Ft;return An((tr=Lt.context)==null?void 0:tr.elements.floating,qe)||An((Ft=Lt.context)==null?void 0:Ft.elements.domReference,qe)})||a_(Se.nodesRef.current,Dt).find(Lt=>{var tr,Ft,Wr;return[(tr=Lt.context)==null?void 0:tr.elements.floating,f_((Ft=Lt.context)==null?void 0:Ft.elements.floating)].includes(qe)||((Wr=Lt.context)==null?void 0:Wr.elements.domReference)===qe})));if(y&&ln&&mi(er(I))===er(I).body){Mn(I)&&I.focus();const Lt=ae.current,tr=Q(),Ft=tr[Lt]||tr[tr.length-1]||I;Mn(Ft)&&Ft.focus()}(ee||!p)&&qe&&ln&&!ue.current&&qe!==h_()&&(X.current=!0,k(!1,et,"focus-out"))})}if(P&&Mn(B))return B.addEventListener("focusout",st),B.addEventListener("pointerdown",_e),P.addEventListener("focusout",st),()=>{B.removeEventListener("focusout",st),B.removeEventListener("pointerdown",_e),P.removeEventListener("focusout",st)}},[r,B,P,I,p,Se,Ee,k,w,y,Q,ee,q]);const ke=$.useRef(null),ze=$.useRef(null),rt=og([ke,Ee==null?void 0:Ee.beforeInsideRef]),Fe=og([ze,Ee==null?void 0:Ee.afterInsideRef]);$.useEffect(()=>{var _e;if(r||!P)return;const st=Array.from((Ee==null||(_e=Ee.portalNode)==null?void 0:_e.querySelectorAll("["+is("portal")+"]"))||[]),et=Se&&!p?a_(Se==null?void 0:Se.nodesRef.current,q()).map(ln=>{var Lt;return(Lt=ln.context)==null?void 0:Lt.elements.floating}):[],qe=[P,...st,...et,me.current,Me.current,ke.current,ze.current,Ee==null?void 0:Ee.beforeOutsideRef.current,Ee==null?void 0:Ee.afterOutsideRef.current,ne.current.includes("reference")||ee?B:null].filter(ln=>ln!=null),Dt=p||ee?s_(qe,!be,be):s_(qe);return()=>{Dt()}},[r,B,P,p,ne,Ee,ee,H,be,Se,q]),ur(()=>{if(r||!Mn(I))return;const _e=er(I),st=mi(_e);queueMicrotask(()=>{const et=Re(I),qe=ye.current,Dt=(typeof qe=="number"?et[qe]:qe.current)||I,ln=An(I,st);!J&&!ln&&E&&ol(Dt,{preventScroll:Dt===I})})},[r,E,I,J,Re,ye]),ur(()=>{if(r||!I)return;let _e=!1;const st=er(I),et=mi(st);let Dt=O.current.openEvent;Rp(et);function ln(Ft){let{open:Wr,reason:Po,event:yr,nested:rn}=Ft;Wr&&(Dt=yr),Po==="escape-key"&&B&&Rp(B),["hover","safe-polygon"].includes(Po)&&yr.type==="mouseleave"&&(X.current=!0),Po==="outside-press"&&(rn?(X.current=!1,_e=!0):X.current=!(TM(yr)||Ww(yr)))}N.on("openchange",ln);const Lt=st.createElement("span");Lt.setAttribute("tabindex","-1"),Lt.setAttribute("aria-hidden","true"),Object.assign(Lt.style,sh),ve&&B&&B.insertAdjacentElement("afterend",Lt);function tr(){return typeof Ce.current=="boolean"?h_()||Lt:Ce.current.current||Lt}return()=>{N.off("openchange",ln);const Ft=mi(st),Wr=An(P,Ft)||Se&&vl(Se.nodesRef.current,q()).some(rn=>{var wa;return An((wa=rn.context)==null?void 0:wa.elements.floating,Ft)});(Wr||Dt&&["click","mousedown"].includes(Dt.type))&&B&&Rp(B);const yr=tr();queueMicrotask(()=>{const rn=tk(yr);Ce.current&&!X.current&&Mn(rn)&&(!(rn!==Ft&&Ft!==st.body)||Wr)&&rn.focus({preventScroll:_e}),Lt.remove()})}},[r,P,I,Ce,O,N,Se,ve,B,q]),$.useEffect(()=>{queueMicrotask(()=>{X.current=!1})},[r]),ur(()=>{if(!r&&Ee)return Ee.setFocusManagerState({modal:p,closeOnFocusOut:w,open:E,onOpenChange:k,domReference:B}),()=>{Ee.setFocusManagerState(null)}},[r,Ee,p,E,k,w,B]),ur(()=>{if(r||!I||typeof MutationObserver!="function"||J)return;const _e=()=>{const et=I.getAttribute("tabindex"),qe=Q(),Dt=mi(er(P)),ln=qe.indexOf(Dt);ln!==-1&&(ae.current=ln),ne.current.includes("floating")||Dt!==B&&qe.length===0?et!=="0"&&I.setAttribute("tabindex","0"):et!=="-1"&&I.setAttribute("tabindex","-1")};_e();const st=new MutationObserver(_e);return st.observe(I,{childList:!0,subtree:!0,attributes:!0}),()=>{st.disconnect()}},[r,P,I,B,ne,Q,J]);function yt(_e){return r||!_||!p?null:F.jsx(nk,{ref:_e==="start"?me:Me,onClick:st=>k(!1,st.nativeEvent),children:typeof _=="string"?_:"Dismiss"})}const Ze=!r&&H&&(p?!ee:!0)&&(ve||p);return F.jsxs(F.Fragment,{children:[Ze&&F.jsx(Dd,{"data-type":"inside",ref:rt,onFocus:_e=>{if(p){const et=Re();ol(a[0]==="reference"?et[0]:et[et.length-1])}else if(Ee!=null&&Ee.preserveTabOrder&&Ee.portalNode)if(X.current=!1,mc(_e,Ee.portalNode)){const et=bT()||B;et==null||et.focus()}else{var st;(st=Ee.beforeOutsideRef.current)==null||st.focus()}}}),!ee&&yt("start"),n,yt("end"),Ze&&F.jsx(Dd,{"data-type":"inside",ref:Fe,onFocus:_e=>{if(p)ol(Re()[0]);else if(Ee!=null&&Ee.preserveTabOrder&&Ee.portalNode)if(w&&(X.current=!0),mc(_e,Ee.portalNode)){const et=_T()||B;et==null||et.focus()}else{var st;(st=Ee.afterOutsideRef.current)==null||st.focus()}}})]})}let Wf=0;function ok(){const t=/iP(hone|ad|od)|iOS/.test(Hg()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",a=window.innerWidth-document.documentElement.clientWidth,l=e.left?parseFloat(e.left):window.scrollX,c=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",a&&(e[r]=a+"px"),t){var h,y;const p=((h=window.visualViewport)==null?void 0:h.offsetLeft)||0,_=((y=window.visualViewport)==null?void 0:y.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(c-Math.floor(_))+"px",left:-(l-Math.floor(p))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(l,c))}}let m_=()=>{};const ik=$.forwardRef(function(e,n){const{lockScroll:r=!1,...a}=e;return ur(()=>{if(r)return Wf++,Wf===1&&(m_=ok()),()=>{Wf--,Wf===0&&m_()}},[r]),F.jsx("div",{ref:n,...a,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...a.style}})});function p_(t){return Mn(t.target)&&t.target.tagName==="BUTTON"}function g_(t){return Yg(t)}function TT(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:a,elements:{domReference:l}}=t,{enabled:c=!0,event:h="click",toggle:y=!0,ignoreMouse:p=!1,keyboardHandlers:_=!0,stickIfOpen:w=!0}=e,C=$.useRef(),E=$.useRef(!1),k=$.useMemo(()=>({onPointerDown(N){C.current=N.pointerType},onMouseDown(N){const O=C.current;N.button===0&&h!=="click"&&(_c(O,!0)&&p||(n&&y&&(!(a.current.openEvent&&w)||a.current.openEvent.type==="mousedown")?r(!1,N.nativeEvent,"click"):(N.preventDefault(),r(!0,N.nativeEvent,"click"))))},onClick(N){const O=C.current;if(h==="mousedown"&&C.current){C.current=void 0;return}_c(O,!0)&&p||(n&&y&&(!(a.current.openEvent&&w)||a.current.openEvent.type==="click")?r(!1,N.nativeEvent,"click"):r(!0,N.nativeEvent,"click"))},onKeyDown(N){C.current=void 0,!(N.defaultPrevented||!_||p_(N))&&(N.key===" "&&!g_(l)&&(N.preventDefault(),E.current=!0),N.key==="Enter"&&r(!(n&&y),N.nativeEvent,"click"))},onKeyUp(N){N.defaultPrevented||!_||p_(N)||g_(l)||N.key===" "&&E.current&&(E.current=!1,r(!(n&&y),N.nativeEvent,"click"))}}),[a,l,h,p,_,r,n,w,y]);return $.useMemo(()=>c?{reference:k}:{},[c,k])}const ak={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},sk={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},y_=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function CT(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:a,dataRef:l}=t,{enabled:c=!0,escapeKey:h=!0,outsidePress:y=!0,outsidePressEvent:p="pointerdown",referencePress:_=!1,referencePressEvent:w="pointerdown",ancestorScroll:C=!1,bubbles:E,capture:k}=e,N=ih(),O=$r(typeof y=="function"?y:()=>!1),B=typeof y=="function"?O:y,P=$.useRef(!1),q=$.useRef(!1),{escapeKey:J,outsidePress:ee}=y_(E),{escapeKey:ge,outsidePress:H}=y_(k),be=$.useRef(!1),ne=$r(Me=>{var X;if(!n||!c||!h||Me.key!=="Escape"||be.current)return;const ue=(X=l.current.floatingContext)==null?void 0:X.nodeId,ae=N?vl(N.nodesRef.current,ue):[];if(!J&&(Me.stopPropagation(),ae.length>0)){let ve=!0;if(ae.forEach(I=>{var Q;if((Q=I.context)!=null&&Q.open&&!I.context.dataRef.current.__escapeKeyBubbles){ve=!1;return}}),!ve)return}r(!1,EM(Me)?Me.nativeEvent:Me,"escape-key")}),ye=$r(Me=>{var X;const ue=()=>{var ae;ne(Me),(ae=pi(Me))==null||ae.removeEventListener("keydown",ue)};(X=pi(Me))==null||X.addEventListener("keydown",ue)}),Ce=$r(Me=>{var X;const ue=P.current;P.current=!1;const ae=q.current;if(q.current=!1,p==="click"&&ae||ue||typeof B=="function"&&!B(Me))return;const ve=pi(Me),I="["+is("inert")+"]",Q=er(a.floating).querySelectorAll(I);let Re=Jt(ve)?ve:null;for(;Re&&!gi(Re);){const Fe=yi(Re);if(gi(Fe)||!Jt(Fe))break;Re=Fe}if(Q.length&&Jt(ve)&&!AM(ve)&&!An(ve,a.floating)&&Array.from(Q).every(Fe=>!An(Re,Fe)))return;if(Mn(ve)&&me){const Fe=gi(ve),yt=Yr(ve),Ze=/auto|scroll/,_e=Fe||Ze.test(yt.overflowX),st=Fe||Ze.test(yt.overflowY),et=_e&&ve.clientWidth>0&&ve.scrollWidth>ve.clientWidth,qe=st&&ve.clientHeight>0&&ve.scrollHeight>ve.clientHeight,Dt=yt.direction==="rtl",ln=qe&&(Dt?Me.offsetX<=ve.offsetWidth-ve.clientWidth:Me.offsetX>ve.clientWidth),Lt=et&&Me.offsetY>ve.clientHeight;if(ln||Lt)return}const ke=(X=l.current.floatingContext)==null?void 0:X.nodeId,ze=N&&vl(N.nodesRef.current,ke).some(Fe=>{var yt;return wp(Me,(yt=Fe.context)==null?void 0:yt.elements.floating)});if(wp(Me,a.floating)||wp(Me,a.domReference)||ze)return;const rt=N?vl(N.nodesRef.current,ke):[];if(rt.length>0){let Fe=!0;if(rt.forEach(yt=>{var Ze;if((Ze=yt.context)!=null&&Ze.open&&!yt.context.dataRef.current.__outsidePressBubbles){Fe=!1;return}}),!Fe)return}r(!1,Me,"outside-press")}),Se=$r(Me=>{var X;const ue=()=>{var ae;Ce(Me),(ae=pi(Me))==null||ae.removeEventListener(p,ue)};(X=pi(Me))==null||X.addEventListener(p,ue)});$.useEffect(()=>{if(!n||!c)return;l.current.__escapeKeyBubbles=J,l.current.__outsidePressBubbles=ee;let Me=-1;function X(Q){r(!1,Q,"ancestor-scroll")}function ue(){window.clearTimeout(Me),be.current=!0}function ae(){Me=window.setTimeout(()=>{be.current=!1},nh()?5:0)}const ve=er(a.floating);h&&(ve.addEventListener("keydown",ge?ye:ne,ge),ve.addEventListener("compositionstart",ue),ve.addEventListener("compositionend",ae)),B&&ve.addEventListener(p,H?Se:Ce,H);let I=[];return C&&(Jt(a.domReference)&&(I=ga(a.domReference)),Jt(a.floating)&&(I=I.concat(ga(a.floating))),!Jt(a.reference)&&a.reference&&a.reference.contextElement&&(I=I.concat(ga(a.reference.contextElement)))),I=I.filter(Q=>{var Re;return Q!==((Re=ve.defaultView)==null?void 0:Re.visualViewport)}),I.forEach(Q=>{Q.addEventListener("scroll",X,{passive:!0})}),()=>{h&&(ve.removeEventListener("keydown",ge?ye:ne,ge),ve.removeEventListener("compositionstart",ue),ve.removeEventListener("compositionend",ae)),B&&ve.removeEventListener(p,H?Se:Ce,H),I.forEach(Q=>{Q.removeEventListener("scroll",X)}),window.clearTimeout(Me)}},[l,a,h,B,p,n,r,C,c,J,ee,ne,ge,ye,Ce,H,Se]),$.useEffect(()=>{P.current=!1},[B,p]);const Ee=$.useMemo(()=>({onKeyDown:ne,..._&&{[ak[w]]:Me=>{r(!1,Me.nativeEvent,"reference-press")},...w!=="click"&&{onClick(Me){r(!1,Me.nativeEvent,"reference-press")}}}}),[ne,r,_,w]),me=$.useMemo(()=>({onKeyDown:ne,onMouseDown(){q.current=!0},onMouseUp(){q.current=!0},[sk[p]]:()=>{P.current=!0}}),[ne,p]);return $.useMemo(()=>c?{reference:Ee,floating:me}:{},[c,Ee,me])}function lk(t){const{open:e=!1,onOpenChange:n,elements:r}=t,a=jg(),l=$.useRef({}),[c]=$.useState(()=>K1()),h=ey()!=null,[y,p]=$.useState(r.reference),_=$r((E,k,N)=>{l.current.openEvent=E?k:void 0,c.emit("openchange",{open:E,event:k,reason:N,nested:h}),n==null||n(E,k,N)}),w=$.useMemo(()=>({setPositionReference:p}),[]),C=$.useMemo(()=>({reference:y||r.reference||null,floating:r.floating||null,domReference:r.reference}),[y,r.reference,r.floating]);return $.useMemo(()=>({dataRef:l,open:e,onOpenChange:_,elements:C,events:c,floatingId:a,refs:w}),[e,_,C,c,a,w])}function ST(t){t===void 0&&(t={});const{nodeId:e}=t,n=lk({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,a=r.elements,[l,c]=$.useState(null),[h,y]=$.useState(null),_=(a==null?void 0:a.domReference)||l,w=$.useRef(null),C=ih();ur(()=>{_&&(w.current=_)},[_]);const E=I1({...t,elements:{...a,...h&&{reference:h}}}),k=$.useCallback(q=>{const J=Jt(q)?{getBoundingClientRect:()=>q.getBoundingClientRect(),contextElement:q}:q;y(J),E.refs.setReference(J)},[E.refs]),N=$.useCallback(q=>{(Jt(q)||q===null)&&(w.current=q,c(q)),(Jt(E.refs.reference.current)||E.refs.reference.current===null||q!==null&&!Jt(q))&&E.refs.setReference(q)},[E.refs]),O=$.useMemo(()=>({...E.refs,setReference:N,setPositionReference:k,domReference:w}),[E.refs,N,k]),B=$.useMemo(()=>({...E.elements,domReference:_}),[E.elements,_]),P=$.useMemo(()=>({...E,...r,refs:O,elements:B,nodeId:e}),[E,O,B,e,r]);return ur(()=>{r.dataRef.current.floatingContext=P;const q=C==null?void 0:C.nodesRef.current.find(J=>J.id===e);q&&(q.context=P)}),$.useMemo(()=>({...E,context:P,refs:O,elements:B}),[E,O,B,P])}function uk(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:a,dataRef:l,elements:c}=t,{enabled:h=!0,visibleOnly:y=!0}=e,p=$.useRef(!1),_=$.useRef(),w=$.useRef(!0);$.useEffect(()=>{if(!h)return;const E=gr(c.domReference);function k(){!n&&Mn(c.domReference)&&c.domReference===mi(er(c.domReference))&&(p.current=!0)}function N(){w.current=!0}return E.addEventListener("blur",k),E.addEventListener("keydown",N,!0),()=>{E.removeEventListener("blur",k),E.removeEventListener("keydown",N,!0)}},[c.domReference,n,h]),$.useEffect(()=>{if(!h)return;function E(k){let{reason:N}=k;(N==="reference-press"||N==="escape-key")&&(p.current=!0)}return a.on("openchange",E),()=>{a.off("openchange",E)}},[a,h]),$.useEffect(()=>()=>{clearTimeout(_.current)},[]);const C=$.useMemo(()=>({onPointerDown(E){Ww(E.nativeEvent)||(w.current=!1)},onMouseLeave(){p.current=!1},onFocus(E){if(p.current)return;const k=pi(E.nativeEvent);if(y&&Jt(k))try{if(jw()&&CM())throw Error();if(!k.matches(":focus-visible"))return}catch{if(!w.current&&!Yg(k))return}r(!0,E.nativeEvent,"focus")},onBlur(E){p.current=!1;const k=E.relatedTarget,N=E.nativeEvent,O=Jt(k)&&k.hasAttribute(is("focus-guard"))&&k.getAttribute("data-type")==="outside";_.current=window.setTimeout(()=>{var B;const P=mi(c.domReference?c.domReference.ownerDocument:document);!k&&P===c.domReference||An((B=l.current.floatingContext)==null?void 0:B.refs.floating.current,P)||An(c.domReference,P)||O||r(!1,N,"focus")})}}),[l,c.domReference,r,y]);return $.useMemo(()=>h?{reference:C}:{},[h,C])}const v_="active",b_="selected";function Mp(t,e,n){const r=new Map,a=n==="item";let l=t;if(a&&t){const{[v_]:c,[b_]:h,...y}=t;l=y}return{...n==="floating"&&{tabIndex:-1,[ig]:""},...l,...e.map(c=>{const h=c?c[n]:null;return typeof h=="function"?t?h(t):null:h}).concat(t).reduce((c,h)=>(h&&Object.entries(h).forEach(y=>{let[p,_]=y;if(!(a&&[v_,b_].includes(p)))if(p.indexOf("on")===0){if(r.has(p)||r.set(p,[]),typeof _=="function"){var w;(w=r.get(p))==null||w.push(_),c[p]=function(){for(var C,E=arguments.length,k=new Array(E),N=0;N<E;N++)k[N]=arguments[N];return(C=r.get(p))==null?void 0:C.map(O=>O(...k)).find(O=>O!==void 0)}}}else c[p]=_}),c),{})}}function ET(t){t===void 0&&(t=[]);const e=t.map(h=>h==null?void 0:h.reference),n=t.map(h=>h==null?void 0:h.floating),r=t.map(h=>h==null?void 0:h.item),a=$.useCallback(h=>Mp(h,t,"reference"),e),l=$.useCallback(h=>Mp(h,t,"floating"),n),c=$.useCallback(h=>Mp(h,t,"item"),r);return $.useMemo(()=>({getReferenceProps:a,getFloatingProps:l,getItemProps:c}),[a,l,c])}const ck=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function AT(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:a}=t,{enabled:l=!0,role:c="dialog"}=e,h=(n=ck.get(c))!=null?n:c,y=jg(),_=ey()!=null,w=$.useMemo(()=>h==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:r?a:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":h==="alertdialog"?"dialog":h,"aria-controls":r?a:void 0,...h==="listbox"&&{role:"combobox"},...h==="menu"&&{id:y},...h==="menu"&&_&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[h,a,_,r,y,c]),C=$.useMemo(()=>{const k={id:a,...h&&{role:h}};return h==="tooltip"||c==="label"?k:{...k,...h==="menu"&&{"aria-labelledby":y}}},[h,a,y,c]),E=$.useCallback(k=>{let{active:N,selected:O}=k;const B={role:"option",...N&&{id:a+"-option"}};switch(c){case"select":return{...B,"aria-selected":N&&O};case"combobox":return{...B,...N&&{"aria-selected":!0}}}return{}},[a,c]);return $.useMemo(()=>l?{reference:w,floating:C,item:E}:{},[l,w,C,E])}function __(t,e){const[n,r]=t;let a=!1;const l=e.length;for(let c=0,h=l-1;c<l;h=c++){const[y,p]=e[c]||[0,0],[_,w]=e[h]||[0,0];p>=r!=w>=r&&n<=(_-y)*(r-p)/(w-p)+y&&(a=!a)}return a}function fk(t,e){return t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height}function dk(t){t===void 0&&(t={});const{buffer:e=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=t;let a,l=!1,c=null,h=null,y=performance.now();function p(w,C){const E=performance.now(),k=E-y;if(c===null||h===null||k===0)return c=w,h=C,y=E,null;const N=w-c,O=C-h,P=Math.sqrt(N*N+O*O)/k;return c=w,h=C,y=E,P}const _=w=>{let{x:C,y:E,placement:k,elements:N,onClose:O,nodeId:B,tree:P}=w;return function(J){function ee(){clearTimeout(a),O()}if(clearTimeout(a),!N.domReference||!N.floating||k==null||C==null||E==null)return;const{clientX:ge,clientY:H}=J,be=[ge,H],ne=pi(J),ye=J.type==="mouseleave",Ce=An(N.floating,ne),Se=An(N.domReference,ne),Ee=N.domReference.getBoundingClientRect(),me=N.floating.getBoundingClientRect(),Me=k.split("-")[0],X=C>me.right-me.width/2,ue=E>me.bottom-me.height/2,ae=fk(be,Ee),ve=me.width>Ee.width,I=me.height>Ee.height,Q=(ve?Ee:me).left,Re=(ve?Ee:me).right,ke=(I?Ee:me).top,ze=(I?Ee:me).bottom;if(Ce&&(l=!0,!ye))return;if(Se&&(l=!1),Se&&!ye){l=!0;return}if(ye&&Jt(J.relatedTarget)&&An(N.floating,J.relatedTarget)||P&&vl(P.nodesRef.current,B).some(yt=>{let{context:Ze}=yt;return Ze==null?void 0:Ze.open}))return;if(Me==="top"&&E>=Ee.bottom-1||Me==="bottom"&&E<=Ee.top+1||Me==="left"&&C>=Ee.right-1||Me==="right"&&C<=Ee.left+1)return ee();let rt=[];switch(Me){case"top":rt=[[Q,Ee.top+1],[Q,me.bottom-1],[Re,me.bottom-1],[Re,Ee.top+1]];break;case"bottom":rt=[[Q,me.top+1],[Q,Ee.bottom-1],[Re,Ee.bottom-1],[Re,me.top+1]];break;case"left":rt=[[me.right-1,ze],[me.right-1,ke],[Ee.left+1,ke],[Ee.left+1,ze]];break;case"right":rt=[[Ee.right-1,ze],[Ee.right-1,ke],[me.left+1,ke],[me.left+1,ze]];break}function Fe(yt){let[Ze,_e]=yt;switch(Me){case"top":{const st=[ve?Ze+e/2:X?Ze+e*4:Ze-e*4,_e+e+1],et=[ve?Ze-e/2:X?Ze+e*4:Ze-e*4,_e+e+1],qe=[[me.left,X||ve?me.bottom-e:me.top],[me.right,X?ve?me.bottom-e:me.top:me.bottom-e]];return[st,et,...qe]}case"bottom":{const st=[ve?Ze+e/2:X?Ze+e*4:Ze-e*4,_e-e],et=[ve?Ze-e/2:X?Ze+e*4:Ze-e*4,_e-e],qe=[[me.left,X||ve?me.top+e:me.bottom],[me.right,X?ve?me.top+e:me.bottom:me.top+e]];return[st,et,...qe]}case"left":{const st=[Ze+e+1,I?_e+e/2:ue?_e+e*4:_e-e*4],et=[Ze+e+1,I?_e-e/2:ue?_e+e*4:_e-e*4];return[...[[ue||I?me.right-e:me.left,me.top],[ue?I?me.right-e:me.left:me.right-e,me.bottom]],st,et]}case"right":{const st=[Ze-e,I?_e+e/2:ue?_e+e*4:_e-e*4],et=[Ze-e,I?_e-e/2:ue?_e+e*4:_e-e*4],qe=[[ue||I?me.left+e:me.right,me.top],[ue?I?me.left+e:me.right:me.left+e,me.bottom]];return[st,et,...qe]}}}if(!__([ge,H],rt)){if(l&&!ae)return ee();if(!ye&&r){const yt=p(J.clientX,J.clientY);if(yt!==null&&yt<.1)return ee()}__([ge,H],Fe([C,E]))?!l&&r&&(a=window.setTimeout(ee,40)):ee()}}};return _.__options={blockPointerEvents:n},_}const hk=({arrowRef:t,placement:e})=>{const n=[];return n.push(O1(8)),n.push(e==="auto"?U1():L1()),n.push(P1({padding:8})),t!=null&&t.current&&n.push(B1({element:t.current})),n},mk=({placement:t})=>t==="auto"?void 0:t,pk=({placement:t})=>({top:"bottom",right:"left",bottom:"top",left:"right"})[t.split("-")[0]],gk=({open:t,arrowRef:e,placement:n="top",setOpen:r})=>ST({placement:mk({placement:n}),open:t,onOpenChange:r,whileElementsMounted:mT,middleware:hk({placement:n,arrowRef:e})}),yk=({context:t,trigger:e,role:n="tooltip",interactions:r=[]})=>ET([TT(t,{enabled:e==="click"}),Y1(t,{enabled:e==="hover",handleClose:dk()}),CT(t),AT(t,{role:n}),...r]);function RT({animation:t="duration-300",arrow:e=!0,children:n,className:r,content:a,placement:l="top",style:c="dark",theme:h,trigger:y="hover",minWidth:p,..._}){const w=$.useRef(null),[C,E]=$.useState(!1),k=gk({open:C,placement:l,arrowRef:w,setOpen:E}),{context:N,middlewareData:{arrow:{x:O,y:B}={}},refs:P,strategy:q,update:J,x:ee,y:ge}=k,H=uk(N),{getFloatingProps:be,getReferenceProps:ne}=yk({context:N,role:"tooltip",trigger:y,interactions:[H]});return $.useEffect(()=>{if(P.reference.current&&P.floating.current&&C)return mT(P.reference.current,P.floating.current,J)},[C,P.floating,P.reference,J]),F.jsxs(F.Fragment,{children:[F.jsx("div",{ref:P.setReference,className:h.target,"data-testid":"flowbite-tooltip-target",...ne(),children:n}),F.jsxs("div",{ref:P.setFloating,"data-testid":"flowbite-tooltip",...be({className:Fn(h.base,t&&`${h.animation} ${t}`,!C&&h.hidden,h.style[c],r),style:{position:q,top:ge??" ",left:ee??" ",minWidth:p},..._}),children:[F.jsx("div",{className:h.content,children:a}),e&&F.jsx("div",{className:Fn(h.arrow.base,c==="dark"&&h.arrow.style.dark,c==="light"&&h.arrow.style.light,c==="auto"&&h.arrow.style.auto),"data-testid":"flowbite-tooltip-arrow",ref:w,style:{top:B??" ",left:O??" ",right:" ",bottom:" ",[pk({placement:k.placement})]:h.arrow.placement},children:" "})]})]})}RT.displayName="Floating";const vk={target:"w-fit",animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"absolute z-10 inline-block rounded-lg px-3 py-2 text-sm font-medium shadow-sm",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20"};function MT(t){var C,E;const e=Zr(),n=Xr([vk,(C=e.theme)==null?void 0:C.tooltip,t.theme],[Rt(e.clearTheme,"tooltip"),t.clearTheme],[Rt(e.applyTheme,"tooltip"),t.applyTheme]),{animation:r="duration-300",arrow:a=!0,children:l,className:c,content:h,placement:y="top",style:p="dark",trigger:_="hover",...w}=Jr(t,(E=e.props)==null?void 0:E.tooltip);return F.jsx(RT,{animation:r,arrow:a,content:h,placement:y,style:p,theme:n,trigger:_,className:c,...w,children:l})}MT.displayName="Tooltip";const bk={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},io=$.forwardRef((t,e)=>{var y,p;const n=Zr(),r=Xr([bk,(y=n.theme)==null?void 0:y.label,t.theme],[Rt(n.clearTheme,"label"),t.clearTheme],[Rt(n.applyTheme,"label"),t.applyTheme]),{className:a,color:l="default",disabled:c=!1,...h}=Jr(t,(p=n.props)==null?void 0:p.label);return F.jsx("label",{ref:e,className:Fn(r.root.base,r.root.colors[l],c&&r.root.disabled,a),"data-testid":"flowbite-label",...h})});io.displayName="Label";const kT=$.createContext(void 0);function ty(){const t=$.useContext(kT);if(!t)throw new Error("useModalContext should be used within the ModalContext provider!");return t}const lh={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900/50 dark:bg-gray-900/80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"flex-1 overflow-auto p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t border-b p-5 dark:border-gray-600",popup:"border-b-0 p-2",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},NT=$.forwardRef((t,e)=>{var H,be;const[n,r]=$.useState(void 0),a=Zr(),l=Xr([lh,(H=a.theme)==null?void 0:H.modal,t.theme],[Rt(a.clearTheme,"modal"),t.clearTheme],[Rt(a.applyTheme,"modal"),t.applyTheme]),{children:c,className:h,dismissible:y=!1,onClose:p,popup:_,position:w="center",root:C,show:E,size:k="2xl",initialFocus:N,...O}=Jr(t,(be=a.props)==null?void 0:be.modal),{context:B}=ST({open:E,onOpenChange:()=>p&&p()}),P=og([B.refs.setFloating,e]),q=TT(B),J=CT(B,{outsidePressEvent:"mousedown",enabled:y}),ee=AT(B),{getFloatingProps:ge}=ET([q,J,ee]);return E?F.jsx(kT.Provider,{value:{theme:t.theme,clearTheme:t.clearTheme,applyTheme:t.applyTheme,popup:_,onClose:p,setHeaderId:r},children:F.jsx(ek,{root:C,children:F.jsx(ik,{lockScroll:!0,"data-testid":"modal-overlay",className:Fn(l.root.base,l.root.positions[w],E?l.root.show.on:l.root.show.off,h),...O,children:F.jsx(rk,{context:B,initialFocus:N,children:F.jsx("div",{ref:P,...ge(O),"aria-labelledby":n,className:Fn(l.content.base,l.root.sizes[k]),children:F.jsx("div",{className:l.content.inner,children:c})})})})})}):null});NT.displayName="Modal";const IT=$.forwardRef((t,e)=>{var _,w,C;const{theme:n,clearTheme:r,applyTheme:a,popup:l}=ty(),c=Zr(),h=Xr([lh.body,(w=(_=c.theme)==null?void 0:_.modal)==null?void 0:w.body,n==null?void 0:n.body,t.theme],[Rt(c.clearTheme,"modal.body"),Rt(r,"body"),t.clearTheme],[Rt(c.applyTheme,"modal.body"),Rt(a,"body"),t.applyTheme]),{className:y,...p}=Jr(t,(C=c.props)==null?void 0:C.modalBody);return F.jsx("div",{ref:e,className:Fn(h.base,l&&h.popup,y),...p})});IT.displayName="ModalBody";const DT=$.forwardRef((t,e)=>{var _,w,C;const{theme:n,clearTheme:r,applyTheme:a,popup:l}=ty(),c=Zr(),h=Xr([lh.footer,(w=(_=c.theme)==null?void 0:_.modal)==null?void 0:w.footer,n==null?void 0:n.footer,t.theme],[Rt(c.clearTheme,"modal.footer"),Rt(r,"footer"),t.clearTheme],[Rt(c.applyTheme,"modal.footer"),Rt(a,"footer"),t.applyTheme]),{className:y,...p}=Jr(t,(C=c.props)==null?void 0:C.modalFooter);return F.jsx("div",{ref:e,className:Fn(h.base,!l&&h.popup,y),...p})});DT.displayName="ModalFooter";const OT=$.forwardRef((t,e)=>F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",ref:e,...t,children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}));OT.displayName="OutlineXIcon";const PT=$.forwardRef((t,e)=>{var B,P,q;const{theme:n,clearTheme:r,applyTheme:a,popup:l,onClose:c,setHeaderId:h}=ty(),y=Zr(),p=Xr([lh.header,(P=(B=y.theme)==null?void 0:B.modal)==null?void 0:P.header,n==null?void 0:n.header,t.theme],[Rt(y.clearTheme,"modal.header"),Rt(r,"header"),t.clearTheme],[Rt(y.applyTheme,"modal.header"),Rt(a,"header"),t.applyTheme]),{as:_="h3",children:w,className:C,id:E,...k}=Jr(t,(q=y.props)==null?void 0:q.modalHeader),N=$.useId(),O=E||N;return $.useLayoutEffect(()=>(h(O),()=>h(void 0)),[O,h]),F.jsxs("div",{ref:e,className:Fn(p.base,l&&p.popup,C),...k,children:[F.jsx(_,{id:O,className:p.title,children:w}),F.jsx("button",{"aria-label":"Close",className:p.close.base,type:"button",onClick:c,children:F.jsx(OT,{"aria-hidden":!0,className:p.close.icon})})]})});PT.displayName="ModalHeader";const _k={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full appearance-none border bg-arrow-down-icon bg-[length:0.75em_0.75em] bg-[position:right_12px_center] bg-no-repeat pr-10 focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},LT=$.forwardRef((t,e)=>{var w,C;const n=Zr(),r=Xr([_k,(w=n.theme)==null?void 0:w.select,t.theme],[Rt(n.clearTheme,"select"),t.clearTheme],[Rt(n.applyTheme,"select"),t.applyTheme]),{addon:a,className:l,color:c="gray",icon:h,shadow:y,sizing:p="md",..._}=Jr(t,(C=n.props)==null?void 0:C.select);return F.jsxs("div",{className:Fn(r.base,l),children:[a&&F.jsx("span",{className:r.addon,children:a}),F.jsxs("div",{className:r.field.base,children:[h&&F.jsx("div",{className:r.field.icon.base,children:F.jsx(h,{className:r.field.icon.svg})}),F.jsx("select",{ref:e,className:Fn(r.field.select.base,r.field.select.colors[c],r.field.select.sizes[p],r.field.select.withIcon[h?"on":"off"],r.field.select.withAddon[a?"on":"off"],r.field.select.withShadow[y?"on":"off"]),..._})]})]})});LT.displayName="Select";const UT=$.createContext(void 0);function ny(){const t=$.useContext(UT);if(!t)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return t}const uh={root:{base:"h-full",collapsed:{on:"w-16",off:"w-64"},inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-gray-50 px-3 py-4 dark:bg-gray-800"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",title:"sr-only",icon:{base:"h-6 w-6 transition delay-0 ease-in-out",open:{on:"rotate-180",off:""}}},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg bg-gray-100 p-4 dark:bg-gray-700",color:{blue:"bg-cyan-50 dark:bg-cyan-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-gray-50 dark:bg-gray-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"flex-1 whitespace-nowrap px-3"},icon:{base:"h-6 w-6 shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"},label:"",listItem:""},items:{base:""},itemGroup:{base:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700"},logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},BT=$.forwardRef((t,e)=>{var _,w;const n=Zr(),r=Xr([uh,(_=n.theme)==null?void 0:_.sidebar,t.theme],[Rt(n.clearTheme,"sidebar"),t.clearTheme],[Rt(n.applyTheme,"sidebar"),t.applyTheme]),{as:a="nav",children:l,className:c,collapseBehavior:h="collapse",collapsed:y=!1,...p}=Jr(t,(w=n.props)==null?void 0:w.sidebar);return F.jsx(UT.Provider,{value:{theme:t.theme,clearTheme:t.clearTheme,applyTheme:t.applyTheme,isCollapsed:y},children:F.jsx(a,{ref:e,"aria-label":"Sidebar",hidden:y&&h==="hide",className:Fn(r.root.base,r.root.collapsed[y?"on":"off"],c),...p,children:F.jsx("div",{className:r.root.inner,children:l})})})});BT.displayName="Sidebar";const VT=$.createContext(void 0);function xk(){const t=$.useContext(VT);if(!t)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return t}const FT=$.forwardRef((t,e)=>{var P,q,J;const n=$.useId(),{theme:r,clearTheme:a,applyTheme:l,isCollapsed:c}=ny(),{isInsideCollapse:h}=xk(),y=Zr(),p=Xr([uh.item,(q=(P=y.theme)==null?void 0:P.sidebar)==null?void 0:q.item,r==null?void 0:r.item,t.theme],[Rt(y.clearTheme,"sidebar.item"),Rt(a,"item"),t.clearTheme],[Rt(y.applyTheme,"sidebar.item"),Rt(l,"item"),t.applyTheme]),{active:_,as:w="a",children:C,className:E,icon:k,label:N,labelColor:O="info",...B}=Jr(t,(J=y.props)==null?void 0:J.sidebarItem);return F.jsx(ry,{theme:p,className:p.listItem,id:n,isCollapsed:c,tooltipChildren:C,children:F.jsxs(w,{"aria-labelledby":`flowbite-sidebar-item-${n}`,ref:e,className:Fn(p.base,_&&p.active,!c&&h&&p.collapsed.insideCollapse,E),...B,children:[k&&F.jsx(k,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-item-icon",className:Fn(p.icon.base,_&&p.icon.active)}),c&&!k&&F.jsx("span",{className:p.collapsed.noIcon,children:C.charAt(0).toLocaleUpperCase()??"?"}),!c&&F.jsx(qT,{id:n,theme:p,children:C}),!c&&N&&F.jsx(Jw,{color:O,"data-testid":"flowbite-sidebar-label",hidden:c,className:p.label,children:N})]})})});FT.displayName="SidebarItem";function ry({id:t,theme:e,isCollapsed:n,tooltipChildren:r,children:a,...l}){return F.jsx("li",{...l,children:n?F.jsx(MT,{content:F.jsx(qT,{id:t,theme:e,children:r}),placement:"right",children:a}):a})}ry.displayName="SidebarItem.ListItem";function qT({id:t,theme:e,children:n}){return F.jsx("span",{"data-testid":"flowbite-sidebar-item-content",id:`flowbite-sidebar-item-${t}`,className:Fn(e.content.base),children:n})}ry.displayName="SidebarItem.Children";const ag=$.forwardRef((t,e)=>{var p,_,w;const{theme:n,clearTheme:r,applyTheme:a}=ny(),l=Zr(),c=Xr([uh.itemGroup,(_=(p=l.theme)==null?void 0:p.sidebar)==null?void 0:_.itemGroup,n==null?void 0:n.itemGroup,t.theme],[Rt(l.clearTheme,"sidebar.itemGroup"),Rt(r,"itemGroup"),t.clearTheme],[Rt(l.applyTheme,"sidebar.itemGroup"),Rt(a,"itemGroup"),t.applyTheme]),{className:h,...y}=Jr(t,(w=l.props)==null?void 0:w.sidebarItemGroup);return F.jsx(VT.Provider,{value:{isInsideCollapse:!1},children:F.jsx("ul",{ref:e,"data-testid":"flowbite-sidebar-item-group",className:Fn(c.base,h),...y})})});ag.displayName="SidebarItemGroup";const GT=$.forwardRef((t,e)=>{var p,_,w;const{theme:n,clearTheme:r,applyTheme:a}=ny(),l=Zr(),c=Xr([uh.items,(_=(p=l.theme)==null?void 0:p.sidebar)==null?void 0:_.items,n==null?void 0:n.items,t.theme],[Rt(l.clearTheme,"sidebar.items"),Rt(r,"items"),t.clearTheme],[Rt(l.applyTheme,"sidebar.items"),Rt(a,"items"),t.applyTheme]),{className:h,...y}=Jr(t,(w=l.props)==null?void 0:w.sidebarItems);return F.jsx("div",{ref:e,className:Fn(c.base,h),"data-testid":"flowbite-sidebar-items",...y})});GT.displayName="SidebarItems";const zB=(t,e)=>{if(!t)return null;const n=a=>`<b class="text-blue-500">${a}</b>`;return{"{{char}}":t.characterName?n(t.characterName):"{{char}}","{{user}}":t.userName?n(t.userName):"{{user}}"}},oy=(t,e,n=!1)=>{const r=t.characterName||"the character";let a=n?"":`

`;return a+=`IMPORTANT: In your responses, you can use these placeholders:
- {{char}} outputs your name ("${r}")
- {{user}} outputs the user's name`,a+=`
Use these placeholders naturally in your responses when referring to yourself, the user, or other entities.`,a};function wk(...t){return t.filter(Boolean).join(" ")}const KB=()=>{if(typeof window>"u")return null;const t=window.location.hash;if(!t||t==="#")return null;const e=t.substring(1);return e==="new-chat"||e===""?null:e},Tk={default:"bg-blue-500 hover:bg-blue-600 dark:bg-blue-500 dark:hover:bg-blue-600",gray:"bg-gray-500 hover:bg-gray-600 dark:bg-gray-500 dark:hover:bg-gray-600",green:"bg-green-500 hover:bg-green-600 dark:bg-green-500 dark:hover:bg-green-600",teal:"bg-teal-500 hover:bg-teal-600 dark:bg-teal-500 dark:hover:bg-teal-600",purple:"bg-purple-500 hover:bg-purple-600 dark:bg-purple-500 dark:hover:bg-purple-600",alert:"bg-red-500 hover:bg-red-600 dark:bg-red-500 dark:hover:bg-red-600",warning:"bg-yellow-500 hover:bg-yellow-600 dark:bg-yellow-500 dark:hover:bg-yellow-600",info:"bg-blue-300 hover:bg-blue-400 dark:bg-blue-300 dark:hover:bg-blue-400"};function Tl({children:t,onClick:e,variant:n,className:r=""}){return F.jsx("button",{className:wk("cursor-pointer transition-colors duration-300 focus:outline-none focus:ring-1 focus:ring-gray-500 text-white font-bold py-2 px-4 rounded",Tk[n??"default"],r),onClick:e,children:t})}var zT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x_=pa.createContext&&pa.createContext(zT),Ck=["attr","size","title"];function Sk(t,e){if(t==null)return{};var n=Ek(t,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ek(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Od.apply(this,arguments)}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(r){Ak(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ak(t,e,n){return e=Rk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rk(t){var e=Mk(t,"string");return typeof e=="symbol"?e:e+""}function Mk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KT(t){return t&&t.map((e,n)=>pa.createElement(e.tag,Pd({key:n},e.attr),KT(e.child)))}function Cc(t){return e=>pa.createElement(kk,Od({attr:Pd({},t.attr)},e),KT(t.child))}function kk(t){var e=n=>{var{attr:r,size:a,title:l}=t,c=Sk(t,Ck),h=a||n.size||"1em",y;return n.className&&(y=n.className),t.className&&(y=(y?y+" ":"")+t.className),pa.createElement("svg",Od({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:y,style:Pd(Pd({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&pa.createElement("title",null,l),t.children)};return x_!==void 0?pa.createElement(x_.Consumer,null,n=>e(n)):e(zT)}function Nk(t){return Cc({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,76H188V48a20,20,0,0,0-20-20H40A20,20,0,0,0,20,48V176a12,12,0,0,0,19.54,9.33l28.46-23V184a20,20,0,0,0,20,20h92.17l36.29,29.33A12,12,0,0,0,236,224V96A20,20,0,0,0,216,76ZM44,150.87V52H164v80H71.58A12,12,0,0,0,64,134.67Zm168,48-20-16.2a12,12,0,0,0-7.54-2.67H92V156h76a20,20,0,0,0,20-20V100h24Z"},child:[]}]})(t)}function $B(t){return Cc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 256s-48-96-126-96c-54.12 0-98 43-98 96s43.88 96 98 96c37.51 0 71-22.41 94-48m32-48s48 96 126 96c54.12 0 98-43 98-96s-43.88-96-98-96c-37.51 0-71 22.41-94 48"},child:[]}]})(t)}function HB(t){return Cc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}function Ik(t){return Cc({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"48"},child:[]},{tag:"path",attr:{d:"m470.39 300-.47-.38-31.56-24.75a16.11 16.11 0 0 1-6.1-13.33v-11.56a16 16 0 0 1 6.11-13.22L469.92 212l.47-.38a26.68 26.68 0 0 0 5.9-34.06l-42.71-73.9a1.59 1.59 0 0 1-.13-.22A26.86 26.86 0 0 0 401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 0 1-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 0 1-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 0 0 298.76 26h-85.52a26.92 26.92 0 0 0-26.45 22.39l-.09.56-5.57 39.67a16 16 0 0 1-8.13 11.82 175.21 175.21 0 0 0-10 5.82 15.92 15.92 0 0 1-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 0 0-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 0 0 5.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 0 1 6.1 13.33v11.56a16 16 0 0 1-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 0 0-5.9 34.06l42.71 73.9a1.59 1.59 0 0 1 .13.22 26.86 26.86 0 0 0 32.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0 1 14.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 0 1 8.19 11.82l5.56 39.59.12.72A27.22 27.22 0 0 0 213.24 486h85.52a26.92 26.92 0 0 0 26.45-22.39l.09-.56 5.57-39.67a16 16 0 0 1 8.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0 1 14.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0 0 32.48-11.34 2.53 2.53 0 0 1 .13-.22l42.71-73.89a26.7 26.7 0 0 0-5.89-34.11zm-134.48-40.24a80 80 0 1 1-83.66-83.67 80.21 80.21 0 0 1 83.66 83.67z"},child:[]}]})(t)}function Dk(t){return Cc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}var cd={exports:{}},Ok=cd.exports,T_;function Pk(){return T_||(T_=1,function(t,e){(function(n,r){t.exports=r()})(Ok,function(){var n=function(m,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(x[A]=T[A])})(m,v)},r=function(){return(r=Object.assign||function(m){for(var v,x=1,T=arguments.length;x<T;x++)for(var A in v=arguments[x])Object.prototype.hasOwnProperty.call(v,A)&&(m[A]=v[A]);return m}).apply(this,arguments)};function a(m,v,x){for(var T,A=0,R=v.length;A<R;A++)!T&&A in v||((T=T||Array.prototype.slice.call(v,0,A))[A]=v[A]);return m.concat(T||Array.prototype.slice.call(v))}var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:fA,c=Object.keys,h=Array.isArray;function y(m,v){return typeof v!="object"||c(v).forEach(function(x){m[x]=v[x]}),m}typeof Promise>"u"||l.Promise||(l.Promise=Promise);var p=Object.getPrototypeOf,_={}.hasOwnProperty;function w(m,v){return _.call(m,v)}function C(m,v){typeof v=="function"&&(v=v(p(m))),(typeof Reflect>"u"?c:Reflect.ownKeys)(v).forEach(function(x){k(m,x,v[x])})}var E=Object.defineProperty;function k(m,v,x,T){E(m,v,y(x&&w(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},T))}function N(m){return{from:function(v){return m.prototype=Object.create(v.prototype),k(m.prototype,"constructor",m),{extend:C.bind(null,m.prototype)}}}}var O=Object.getOwnPropertyDescriptor,B=[].slice;function P(m,v,x){return B.call(m,v,x)}function q(m,v){return v(m)}function J(m){if(!m)throw new Error("Assertion Failed")}function ee(m){l.setImmediate?setImmediate(m):setTimeout(m,0)}function ge(m,v){if(typeof v=="string"&&w(m,v))return m[v];if(!v)return m;if(typeof v!="string"){for(var x=[],T=0,A=v.length;T<A;++T){var R=ge(m,v[T]);x.push(R)}return x}var D=v.indexOf(".");if(D!==-1){var L=m[v.substr(0,D)];return L==null?void 0:ge(L,v.substr(D+1))}}function H(m,v,x){if(m&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(m)))if(typeof v!="string"&&"length"in v){J(typeof x!="string"&&"length"in x);for(var T=0,A=v.length;T<A;++T)H(m,v[T],x[T])}else{var R,D,L=v.indexOf(".");L!==-1?(R=v.substr(0,L),(D=v.substr(L+1))===""?x===void 0?h(m)&&!isNaN(parseInt(R))?m.splice(R,1):delete m[R]:m[R]=x:H(L=!(L=m[R])||!w(m,R)?m[R]={}:L,D,x)):x===void 0?h(m)&&!isNaN(parseInt(v))?m.splice(v,1):delete m[v]:m[v]=x}}function be(m){var v,x={};for(v in m)w(m,v)&&(x[v]=m[v]);return x}var ne=[].concat;function ye(m){return ne.apply([],m)}var vr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ye([8,16,32,64].map(function(m){return["Int","Uint","Float"].map(function(v){return v+m+"Array"})}))).filter(function(m){return l[m]}),Ce=new Set(vr.map(function(m){return l[m]})),Se=null;function Ee(m){return Se=new WeakMap,m=function v(x){if(!x||typeof x!="object")return x;var T=Se.get(x);if(T)return T;if(h(x)){T=[],Se.set(x,T);for(var A=0,R=x.length;A<R;++A)T.push(v(x[A]))}else if(Ce.has(x.constructor))T=x;else{var D,L=p(x);for(D in T=L===Object.prototype?{}:Object.create(L),Se.set(x,T),x)w(x,D)&&(T[D]=v(x[D]))}return T}(m),Se=null,m}var me={}.toString;function Me(m){return me.call(m).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ue=typeof X=="symbol"?function(m){var v;return m!=null&&(v=m[X])&&v.apply(m)}:function(){return null};function ae(m,v){return v=m.indexOf(v),0<=v&&m.splice(v,1),0<=v}var ve={};function I(m){var v,x,T,A;if(arguments.length===1){if(h(m))return m.slice();if(this===ve&&typeof m=="string")return[m];if(A=ue(m)){for(x=[];!(T=A.next()).done;)x.push(T.value);return x}if(m==null)return[m];if(typeof(v=m.length)!="number")return[m];for(x=new Array(v);v--;)x[v]=m[v];return x}for(v=arguments.length,x=new Array(v);v--;)x[v]=arguments[v];return x}var Q=typeof Symbol<"u"?function(m){return m[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ta=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ir=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ta),Re={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ke(m,v){this.name=m,this.message=v}function ze(m,v){return m+". Errors: "+Object.keys(v).map(function(x){return v[x].toString()}).filter(function(x,T,A){return A.indexOf(x)===T}).join(`
`)}function rt(m,v,x,T){this.failures=v,this.failedKeys=T,this.successCount=x,this.message=ze(m,v)}function Fe(m,v){this.name="BulkError",this.failures=Object.keys(v).map(function(x){return v[x]}),this.failuresByPos=v,this.message=ze(m,this.failures)}N(ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(rt).from(ke),N(Fe).from(ke);var yt=ir.reduce(function(m,v){return m[v]=v+"Error",m},{}),Ze=ke,_e=ir.reduce(function(m,v){var x=v+"Error";function T(A,R){this.name=x,A?typeof A=="string"?(this.message="".concat(A).concat(R?`
 `+R:""),this.inner=R||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=Re[v]||x,this.inner=null)}return N(T).from(Ze),m[v]=T,m},{});_e.Syntax=SyntaxError,_e.Type=TypeError,_e.Range=RangeError;var st=Ta.reduce(function(m,v){return m[v+"Error"]=_e[v],m},{}),et=ir.reduce(function(m,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(m[v+"Error"]=_e[v]),m},{});function qe(){}function Dt(m){return m}function ln(m,v){return m==null||m===Dt?v:function(x){return v(m(x))}}function Lt(m,v){return function(){m.apply(this,arguments),v.apply(this,arguments)}}function tr(m,v){return m===qe?v:function(){var x=m.apply(this,arguments);x!==void 0&&(arguments[0]=x);var T=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var R=v.apply(this,arguments);return T&&(this.onsuccess=this.onsuccess?Lt(T,this.onsuccess):T),A&&(this.onerror=this.onerror?Lt(A,this.onerror):A),R!==void 0?R:x}}function Ft(m,v){return m===qe?v:function(){m.apply(this,arguments);var x=this.onsuccess,T=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?Lt(x,this.onsuccess):x),T&&(this.onerror=this.onerror?Lt(T,this.onerror):T)}}function Wr(m,v){return m===qe?v:function(x){var T=m.apply(this,arguments);y(x,T);var A=this.onsuccess,R=this.onerror;return this.onsuccess=null,this.onerror=null,x=v.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?Lt(A,this.onsuccess):A),R&&(this.onerror=this.onerror?Lt(R,this.onerror):R),T===void 0?x===void 0?void 0:x:y(T,x)}}function Po(m,v){return m===qe?v:function(){return v.apply(this,arguments)!==!1&&m.apply(this,arguments)}}function yr(m,v){return m===qe?v:function(){var x=m.apply(this,arguments);if(x&&typeof x.then=="function"){for(var T=this,A=arguments.length,R=new Array(A);A--;)R[A]=arguments[A];return x.then(function(){return v.apply(T,R)})}return v.apply(this,arguments)}}et.ModifyError=rt,et.DexieError=ke,et.BulkError=Fe;var rn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function wa(m){rn=m}var xi={},Dc=100,vr=typeof Promise>"u"?[]:function(){var m=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[m,p(m),m];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,p(v),m]}(),Ta=vr[0],ir=vr[1],vr=vr[2],ir=ir&&ir.then,fn=Ta&&Ta.constructor,Ir=!!vr,wn=function(m,v){jr.push([m,v]),cs&&(queueMicrotask(zl),cs=!1)},Vl=!0,cs=!0,Lo=[],Uo=[],wi=Dt,Yn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:qe,pgp:!1,env:{},finalize:qe},Xe=Yn,jr=[],Bo=0,Ca=[];function Ve(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=Xe;if(typeof m!="function"){if(m!==xi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Fl(this,this._value))}this._state=null,this._value=null,++v.ref,function x(T,A){try{A(function(R){if(T._state===null){if(R===T)throw new TypeError("A promise cannot be resolved with itself.");var D=T._lib&&Vo();R&&typeof R.then=="function"?x(T,function(L,z){R instanceof Ve?R._then(L,z):R.then(L,z)}):(T._state=!0,T._value=R,ql(T)),D&&Ci()}},Fl.bind(null,T))}catch(R){Fl(T,R)}}(this,m)}var Sa={get:function(){var m=Xe,v=Ea;function x(T,A){var R=this,D=!m.global&&(m!==Xe||v!==Ea),L=D&&!nr(),z=new Ve(function(Y,j){fs(R,new Ti(co(T,m,D,L),co(A,m,D,L),Y,j,m))});return this._consoleTask&&(z._consoleTask=this._consoleTask),z}return x.prototype=xi,x},set:function(m){k(this,"then",m&&m.prototype===xi?Sa:{get:function(){return m},set:Sa.set})}};function Ti(m,v,x,T,A){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof v=="function"?v:null,this.resolve=x,this.reject=T,this.psd=A}function Fl(m,v){var x,T;Uo.push(v),m._state===null&&(x=m._lib&&Vo(),v=wi(v),m._state=!1,m._value=v,T=m,Lo.some(function(A){return A._value===T._value})||Lo.push(T),ql(m),x&&Ci())}function ql(m){var v=m._listeners;m._listeners=[];for(var x=0,T=v.length;x<T;++x)fs(m,v[x]);var A=m._PSD;--A.ref||A.finalize(),Bo===0&&(++Bo,wn(function(){--Bo==0&&Dr()},[]))}function fs(m,v){if(m._state!==null){var x=m._state?v.onFulfilled:v.onRejected;if(x===null)return(m._state?v.resolve:v.reject)(m._value);++v.psd.ref,++Bo,wn(Gl,[x,m,v])}else m._listeners.push(v)}function Gl(m,v,x){try{var T,A=v._value;!v._state&&Uo.length&&(Uo=[]),T=rn&&v._consoleTask?v._consoleTask.run(function(){return m(A)}):m(A),v._state||Uo.indexOf(A)!==-1||function(R){for(var D=Lo.length;D;)if(Lo[--D]._value===R._value)return Lo.splice(D,1)}(v),x.resolve(T)}catch(R){x.reject(R)}finally{--Bo==0&&Dr(),--x.psd.ref||x.psd.finalize()}}function zl(){uo(Yn,function(){Vo()&&Ci()})}function Vo(){var m=Vl;return cs=Vl=!1,m}function Ci(){var m,v,x;do for(;0<jr.length;)for(m=jr,jr=[],x=m.length,v=0;v<x;++v){var T=m[v];T[0].apply(null,T[1])}while(0<jr.length);cs=Vl=!0}function Dr(){var m=Lo;Lo=[],m.forEach(function(T){T._PSD.onunhandled.call(null,T._value,T)});for(var v=Ca.slice(0),x=v.length;x;)v[--x]()}function dn(m){return new Ve(xi,!1,m)}function xt(m,v){var x=Xe;return function(){var T=Vo(),A=Xe;try{return $t(x,!0),m.apply(this,arguments)}catch(R){v&&v(R)}finally{$t(A,!1),T&&Ci()}}}C(Ve.prototype,{then:Sa,_then:function(m,v){fs(this,new Ti(null,null,m,v,Xe))},catch:function(m){if(arguments.length===1)return this.then(null,m);var v=m,x=arguments[1];return typeof v=="function"?this.then(null,function(T){return(T instanceof v?x:dn)(T)}):this.then(null,function(T){return(T&&T.name===v?x:dn)(T)})},finally:function(m){return this.then(function(v){return Ve.resolve(m()).then(function(){return v})},function(v){return Ve.resolve(m()).then(function(){return dn(v)})})},timeout:function(m,v){var x=this;return m<1/0?new Ve(function(T,A){var R=setTimeout(function(){return A(new _e.Timeout(v))},m);x.then(T,A).finally(clearTimeout.bind(null,R))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(Ve.prototype,Symbol.toStringTag,"Dexie.Promise"),Yn.env=$l(),C(Ve,{all:function(){var m=I.apply(null,arguments).map(lo);return new Ve(function(v,x){m.length===0&&v([]);var T=m.length;m.forEach(function(A,R){return Ve.resolve(A).then(function(D){m[R]=D,--T||v(m)},x)})})},resolve:function(m){return m instanceof Ve?m:m&&typeof m.then=="function"?new Ve(function(v,x){m.then(v,x)}):new Ve(xi,!0,m)},reject:dn,race:function(){var m=I.apply(null,arguments).map(lo);return new Ve(function(v,x){m.map(function(T){return Ve.resolve(T).then(v,x)})})},PSD:{get:function(){return Xe},set:function(m){return Xe=m}},totalEchoes:{get:function(){return Ea}},newPSD:Or,usePSD:uo,scheduler:{get:function(){return wn},set:function(m){wn=m}},rejectionMapper:{get:function(){return wi},set:function(m){wi=m}},follow:function(m,v){return new Ve(function(x,T){return Or(function(A,R){var D=Xe;D.unhandleds=[],D.onunhandled=R,D.finalize=Lt(function(){var L,z=this;L=function(){z.unhandleds.length===0?A():R(z.unhandleds[0])},Ca.push(function Y(){L(),Ca.splice(Ca.indexOf(Y),1)}),++Bo,wn(function(){--Bo==0&&Dr()},[])},D.finalize),m()},v,x,T)})}}),fn&&(fn.allSettled&&k(Ve,"allSettled",function(){var m=I.apply(null,arguments).map(lo);return new Ve(function(v){m.length===0&&v([]);var x=m.length,T=new Array(x);m.forEach(function(A,R){return Ve.resolve(A).then(function(D){return T[R]={status:"fulfilled",value:D}},function(D){return T[R]={status:"rejected",reason:D}}).then(function(){return--x||v(T)})})})}),fn.any&&typeof AggregateError<"u"&&k(Ve,"any",function(){var m=I.apply(null,arguments).map(lo);return new Ve(function(v,x){m.length===0&&x(new AggregateError([]));var T=m.length,A=new Array(T);m.forEach(function(R,D){return Ve.resolve(R).then(function(L){return v(L)},function(L){A[D]=L,--T||x(new AggregateError(A))})})})}),fn.withResolvers&&(Ve.withResolvers=fn.withResolvers));var Qt={awaits:0,echoes:0,id:0},Kl=0,ds=[],hs=0,Ea=0,Aa=0;function Or(m,v,x,T){var A=Xe,R=Object.create(A);return R.parent=A,R.ref=0,R.global=!1,R.id=++Aa,Yn.env,R.env=Ir?{Promise:Ve,PromiseProp:{value:Ve,configurable:!0,writable:!0},all:Ve.all,race:Ve.race,allSettled:Ve.allSettled,any:Ve.any,resolve:Ve.resolve,reject:Ve.reject}:{},v&&y(R,v),++A.ref,R.finalize=function(){--this.parent.ref||this.parent.finalize()},T=uo(R,m,x,T),R.ref===0&&R.finalize(),T}function br(){return Qt.id||(Qt.id=++Kl),++Qt.awaits,Qt.echoes+=Dc,Qt.id}function nr(){return!!Qt.awaits&&(--Qt.awaits==0&&(Qt.id=0),Qt.echoes=Qt.awaits*Dc,!0)}function lo(m){return Qt.echoes&&m&&m.constructor===fn?(br(),m.then(function(v){return nr(),v},function(v){return nr(),on(v)})):m}function Si(){var m=ds[ds.length-1];ds.pop(),$t(m,!1)}function $t(m,v){var x,T=Xe;(v?!Qt.echoes||hs++&&m===Xe:!hs||--hs&&m===Xe)||queueMicrotask(v?(function(A){++Ea,Qt.echoes&&--Qt.echoes!=0||(Qt.echoes=Qt.awaits=Qt.id=0),ds.push(Xe),$t(A,!0)}).bind(null,m):Si),m!==Xe&&(Xe=m,T===Yn&&(Yn.env=$l()),Ir&&(x=Yn.env.Promise,v=m.env,(T.global||m.global)&&(Object.defineProperty(l,"Promise",v.PromiseProp),x.all=v.all,x.race=v.race,x.resolve=v.resolve,x.reject=v.reject,v.allSettled&&(x.allSettled=v.allSettled),v.any&&(x.any=v.any))))}function $l(){var m=l.Promise;return Ir?{Promise:m,PromiseProp:Object.getOwnPropertyDescriptor(l,"Promise"),all:m.all,race:m.race,allSettled:m.allSettled,any:m.any,resolve:m.resolve,reject:m.reject}:{}}function uo(m,v,x,T,A){var R=Xe;try{return $t(m,!0),v(x,T,A)}finally{$t(R,!1)}}function co(m,v,x,T){return typeof m!="function"?m:function(){var A=Xe;x&&br(),$t(v,!0);try{return m.apply(this,arguments)}finally{$t(A,!1),T&&queueMicrotask(nr)}}}function fo(m){Promise===fn&&Qt.echoes===0?hs===0?m():enqueueNativeMicroTask(m):setTimeout(m,0)}(""+ir).indexOf("[native code]")===-1&&(br=nr=qe);var on=Ve.reject,ho="￿",Pr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Oc="String expected.",eo=[],Fo="__dbnames",_r="readonly",Ra="readwrite";function mo(m,v){return m?v?function(){return m.apply(this,arguments)&&v.apply(this,arguments)}:m:v}var qo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ei(m){return typeof m!="string"||/\./.test(m)?function(v){return v}:function(v){return v[m]===void 0&&m in v&&delete(v=Ee(v))[m],v}}function ms(){throw _e.Type()}function Ct(m,v){try{var x=Hl(m),T=Hl(v);if(x!==T)return x==="Array"?1:T==="Array"?-1:x==="binary"?1:T==="binary"?-1:x==="string"?1:T==="string"?-1:x==="Date"?1:T!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return v<m?1:m<v?-1:0;case"binary":return function(A,R){for(var D=A.length,L=R.length,z=D<L?D:L,Y=0;Y<z;++Y)if(A[Y]!==R[Y])return A[Y]<R[Y]?-1:1;return D===L?0:D<L?-1:1}(rr(m),rr(v));case"Array":return function(A,R){for(var D=A.length,L=R.length,z=D<L?D:L,Y=0;Y<z;++Y){var j=Ct(A[Y],R[Y]);if(j!==0)return j}return D===L?0:D<L?-1:1}(m,v)}}catch{}return NaN}function Hl(m){var v=typeof m;return v!="object"?v:ArrayBuffer.isView(m)?"binary":(m=Me(m),m==="ArrayBuffer"?"binary":m)}function rr(m){return m instanceof Uint8Array?m:ArrayBuffer.isView(m)?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):new Uint8Array(m)}var Yl=(Ht.prototype._trans=function(m,v,x){var T=this._tx||Xe.trans,A=this.name,R=rn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(m==="readonly"?"read":"write"," ").concat(this.name));function D(Y,j,V){if(!V.schema[A])throw new _e.NotFound("Table "+A+" not part of transaction");return v(V.idbtrans,V)}var L=Vo();try{var z=T&&T.db._novip===this.db._novip?T===Xe.trans?T._promise(m,D,x):Or(function(){return T._promise(m,D,x)},{trans:T,transless:Xe.transless||Xe}):function Y(j,V,re,G){if(j.idbdb&&(j._state.openComplete||Xe.letThrough||j._vip)){var W=j._createTransaction(V,re,j._dbSchema);try{W.create(),j._state.PR1398_maxLoop=3}catch(oe){return oe.name===yt.InvalidState&&j.isOpen()&&0<--j._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),j.close({disableAutoOpen:!1}),j.open().then(function(){return Y(j,V,re,G)})):on(oe)}return W._promise(V,function(oe,Z){return Or(function(){return Xe.trans=W,G(oe,Z,W)})}).then(function(oe){if(V==="readwrite")try{W.idbtrans.commit()}catch{}return V==="readonly"?oe:W._completion.then(function(){return oe})})}if(j._state.openComplete)return on(new _e.DatabaseClosed(j._state.dbOpenError));if(!j._state.isBeingOpened){if(!j._state.autoOpen)return on(new _e.DatabaseClosed);j.open().catch(qe)}return j._state.dbReadyPromise.then(function(){return Y(j,V,re,G)})}(this.db,m,[this.name],D);return R&&(z._consoleTask=R,z=z.catch(function(Y){return console.trace(Y),on(Y)})),z}finally{L&&Ci()}},Ht.prototype.get=function(m,v){var x=this;return m&&m.constructor===Object?this.where(m).first(v):m==null?on(new _e.Type("Invalid argument to Table.get()")):this._trans("readonly",function(T){return x.core.get({trans:T,key:m}).then(function(A){return x.hook.reading.fire(A)})}).then(v)},Ht.prototype.where=function(m){if(typeof m=="string")return new this.db.WhereClause(this,m);if(h(m))return new this.db.WhereClause(this,"[".concat(m.join("+"),"]"));var v=c(m);if(v.length===1)return this.where(v[0]).equals(m[v[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(L){if(L.compound&&v.every(function(Y){return 0<=L.keyPath.indexOf(Y)})){for(var z=0;z<v.length;++z)if(v.indexOf(L.keyPath[z])===-1)return!1;return!0}return!1}).sort(function(L,z){return L.keyPath.length-z.keyPath.length})[0];if(x&&this.db._maxKey!==ho){var R=x.keyPath.slice(0,v.length);return this.where(R).equals(R.map(function(z){return m[z]}))}!x&&rn&&console.warn("The query ".concat(JSON.stringify(m)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var T=this.schema.idxByName;function A(L,z){return Ct(L,z)===0}var D=v.reduce(function(V,z){var Y=V[0],j=V[1],V=T[z],re=m[z];return[Y||V,Y||!V?mo(j,V&&V.multi?function(G){return G=ge(G,z),h(G)&&G.some(function(W){return A(re,W)})}:function(G){return A(re,ge(G,z))}):j]},[null,null]),R=D[0],D=D[1];return R?this.where(R.name).equals(m[R.keyPath]).filter(D):x?this.filter(D):this.where(v).equals("")},Ht.prototype.filter=function(m){return this.toCollection().and(m)},Ht.prototype.count=function(m){return this.toCollection().count(m)},Ht.prototype.offset=function(m){return this.toCollection().offset(m)},Ht.prototype.limit=function(m){return this.toCollection().limit(m)},Ht.prototype.each=function(m){return this.toCollection().each(m)},Ht.prototype.toArray=function(m){return this.toCollection().toArray(m)},Ht.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ht.prototype.orderBy=function(m){return new this.db.Collection(new this.db.WhereClause(this,h(m)?"[".concat(m.join("+"),"]"):m))},Ht.prototype.reverse=function(){return this.toCollection().reverse()},Ht.prototype.mapToClass=function(m){var v,x=this.db,T=this.name;function A(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=m).prototype instanceof ms&&(function(z,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function j(){this.constructor=z}n(z,Y),z.prototype=Y===null?Object.create(Y):(j.prototype=Y.prototype,new j)}(A,v=m),Object.defineProperty(A.prototype,"db",{get:function(){return x},enumerable:!1,configurable:!0}),A.prototype.table=function(){return T},m=A);for(var R=new Set,D=m.prototype;D;D=p(D))Object.getOwnPropertyNames(D).forEach(function(z){return R.add(z)});function L(z){if(!z)return z;var Y,j=Object.create(m.prototype);for(Y in z)if(!R.has(Y))try{j[Y]=z[Y]}catch{}return j}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=L,this.hook("reading",L),m},Ht.prototype.defineClass=function(){return this.mapToClass(function(m){y(this,m)})},Ht.prototype.add=function(m,v){var x=this,T=this.schema.primKey,A=T.auto,R=T.keyPath,D=m;return R&&A&&(D=Ei(R)(m)),this._trans("readwrite",function(L){return x.core.mutate({trans:L,type:"add",keys:v!=null?[v]:null,values:[D]})}).then(function(L){return L.numFailures?Ve.reject(L.failures[0]):L.lastResult}).then(function(L){if(R)try{H(m,R,L)}catch{}return L})},Ht.prototype.update=function(m,v){return typeof m!="object"||h(m)?this.where(":id").equals(m).modify(v):(m=ge(m,this.schema.primKey.keyPath),m===void 0?on(new _e.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(m).modify(v))},Ht.prototype.put=function(m,v){var x=this,T=this.schema.primKey,A=T.auto,R=T.keyPath,D=m;return R&&A&&(D=Ei(R)(m)),this._trans("readwrite",function(L){return x.core.mutate({trans:L,type:"put",values:[D],keys:v!=null?[v]:null})}).then(function(L){return L.numFailures?Ve.reject(L.failures[0]):L.lastResult}).then(function(L){if(R)try{H(m,R,L)}catch{}return L})},Ht.prototype.delete=function(m){var v=this;return this._trans("readwrite",function(x){return v.core.mutate({trans:x,type:"delete",keys:[m]})}).then(function(x){return x.numFailures?Ve.reject(x.failures[0]):void 0})},Ht.prototype.clear=function(){var m=this;return this._trans("readwrite",function(v){return m.core.mutate({trans:v,type:"deleteRange",range:qo})}).then(function(v){return v.numFailures?Ve.reject(v.failures[0]):void 0})},Ht.prototype.bulkGet=function(m){var v=this;return this._trans("readonly",function(x){return v.core.getMany({keys:m,trans:x}).then(function(T){return T.map(function(A){return v.hook.reading.fire(A)})})})},Ht.prototype.bulkAdd=function(m,v,x){var T=this,A=Array.isArray(v)?v:void 0,R=(x=x||(A?void 0:v))?x.allKeys:void 0;return this._trans("readwrite",function(D){var Y=T.schema.primKey,L=Y.auto,Y=Y.keyPath;if(Y&&A)throw new _e.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==m.length)throw new _e.InvalidArgument("Arguments objects and keys must have the same length");var z=m.length,Y=Y&&L?m.map(Ei(Y)):m;return T.core.mutate({trans:D,type:"add",keys:A,values:Y,wantResults:R}).then(function(W){var V=W.numFailures,re=W.results,G=W.lastResult,W=W.failures;if(V===0)return R?re:G;throw new Fe("".concat(T.name,".bulkAdd(): ").concat(V," of ").concat(z," operations failed"),W)})})},Ht.prototype.bulkPut=function(m,v,x){var T=this,A=Array.isArray(v)?v:void 0,R=(x=x||(A?void 0:v))?x.allKeys:void 0;return this._trans("readwrite",function(D){var Y=T.schema.primKey,L=Y.auto,Y=Y.keyPath;if(Y&&A)throw new _e.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==m.length)throw new _e.InvalidArgument("Arguments objects and keys must have the same length");var z=m.length,Y=Y&&L?m.map(Ei(Y)):m;return T.core.mutate({trans:D,type:"put",keys:A,values:Y,wantResults:R}).then(function(W){var V=W.numFailures,re=W.results,G=W.lastResult,W=W.failures;if(V===0)return R?re:G;throw new Fe("".concat(T.name,".bulkPut(): ").concat(V," of ").concat(z," operations failed"),W)})})},Ht.prototype.bulkUpdate=function(m){var v=this,x=this.core,T=m.map(function(D){return D.key}),A=m.map(function(D){return D.changes}),R=[];return this._trans("readwrite",function(D){return x.getMany({trans:D,keys:T,cache:"clone"}).then(function(L){var z=[],Y=[];m.forEach(function(V,re){var G=V.key,W=V.changes,oe=L[re];if(oe){for(var Z=0,le=Object.keys(W);Z<le.length;Z++){var he=le[Z],pe=W[he];if(he===v.schema.primKey.keyPath){if(Ct(pe,G)!==0)throw new _e.Constraint("Cannot update primary key in bulkUpdate()")}else H(oe,he,pe)}R.push(re),z.push(G),Y.push(oe)}});var j=z.length;return x.mutate({trans:D,type:"put",keys:z,values:Y,updates:{keys:T,changeSpecs:A}}).then(function(V){var re=V.numFailures,G=V.failures;if(re===0)return j;for(var W=0,oe=Object.keys(G);W<oe.length;W++){var Z,le=oe[W],he=R[Number(le)];he!=null&&(Z=G[le],delete G[le],G[he]=Z)}throw new Fe("".concat(v.name,".bulkUpdate(): ").concat(re," of ").concat(j," operations failed"),G)})})})},Ht.prototype.bulkDelete=function(m){var v=this,x=m.length;return this._trans("readwrite",function(T){return v.core.mutate({trans:T,type:"delete",keys:m})}).then(function(D){var A=D.numFailures,R=D.lastResult,D=D.failures;if(A===0)return R;throw new Fe("".concat(v.name,".bulkDelete(): ").concat(A," of ").concat(x," operations failed"),D)})},Ht);function Ht(){}function po(m){function v(D,L){if(L){for(var z=arguments.length,Y=new Array(z-1);--z;)Y[z-1]=arguments[z];return x[D].subscribe.apply(null,Y),m}if(typeof D=="string")return x[D]}var x={};v.addEventType=R;for(var T=1,A=arguments.length;T<A;++T)R(arguments[T]);return v;function R(D,L,z){if(typeof D!="object"){var Y;L=L||Po;var j={subscribers:[],fire:z=z||qe,subscribe:function(V){j.subscribers.indexOf(V)===-1&&(j.subscribers.push(V),j.fire=L(j.fire,V))},unsubscribe:function(V){j.subscribers=j.subscribers.filter(function(re){return re!==V}),j.fire=j.subscribers.reduce(L,z)}};return x[D]=v[D]=j}c(Y=D).forEach(function(V){var re=Y[V];if(h(re))R(V,Y[V][0],Y[V][1]);else{if(re!=="asap")throw new _e.InvalidArgument("Invalid event config");var G=R(V,Dt,function(){for(var W=arguments.length,oe=new Array(W);W--;)oe[W]=arguments[W];G.subscribers.forEach(function(Z){ee(function(){Z.apply(null,oe)})})})}})}}function Ai(m,v){return N(v).from({prototype:m}),v}function to(m,v){return!(m.filter||m.algorithm||m.or)&&(v?m.justLimit:!m.replayFilter)}function Jl(m,v){m.filter=mo(m.filter,v)}function Jn(m,v,x){var T=m.replayFilter;m.replayFilter=T?function(){return mo(T(),v())}:v,m.justLimit=x&&!T}function Ri(m,v){if(m.isPrimKey)return v.primaryKey;var x=v.getIndexByKeyPath(m.index);if(!x)throw new _e.Schema("KeyPath "+m.index+" on object store "+v.name+" is not indexed");return x}function Xl(m,v,x){var T=Ri(m,v.schema);return v.openCursor({trans:x,values:!m.keysOnly,reverse:m.dir==="prev",unique:!!m.unique,query:{index:T,range:m.range}})}function Mi(m,v,x,T){var A=m.replayFilter?mo(m.filter,m.replayFilter()):m.filter;if(m.or){var R={},D=function(L,z,Y){var j,V;A&&!A(z,Y,function(re){return z.stop(re)},function(re){return z.fail(re)})||((V=""+(j=z.primaryKey))=="[object ArrayBuffer]"&&(V=""+new Uint8Array(j)),w(R,V)||(R[V]=!0,v(L,z,Y)))};return Promise.all([m.or._iterate(D,x),Go(Xl(m,T,x),m.algorithm,D,!m.keysOnly&&m.valueMapper)])}return Go(Xl(m,T,x),mo(m.algorithm,A),v,!m.keysOnly&&m.valueMapper)}function Go(m,v,x,T){var A=xt(T?function(R,D,L){return x(T(R),D,L)}:x);return m.then(function(R){if(R)return R.start(function(){var D=function(){return R.continue()};v&&!v(R,function(L){return D=L},function(L){R.stop(L),D=qe},function(L){R.fail(L),D=qe})||A(R.value,R,function(L){return D=L}),D()})})}var ki=(Zl.prototype.execute=function(m){var v=this["@@propmod"];if(v.add!==void 0){var x=v.add;if(h(x))return a(a([],h(m)?m:[],!0),x).sort();if(typeof x=="number")return(Number(m)||0)+x;if(typeof x=="bigint")try{return BigInt(m)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(v.remove!==void 0){var T=v.remove;if(h(T))return h(m)?m.filter(function(A){return!T.includes(A)}).sort():[];if(typeof T=="number")return Number(m)-T;if(typeof T=="bigint")try{return BigInt(m)-T}catch{return BigInt(0)-T}throw new TypeError("Invalid subtrahend ".concat(T))}return x=(x=v.replacePrefix)===null||x===void 0?void 0:x[0],x&&typeof m=="string"&&m.startsWith(x)?v.replacePrefix[1]+m.substring(x.length):m},Zl);function Zl(m){this["@@propmod"]=m}var Ni=(Nt.prototype._read=function(m,v){var x=this._ctx;return x.error?x.table._trans(null,on.bind(null,x.error)):x.table._trans("readonly",m).then(v)},Nt.prototype._write=function(m){var v=this._ctx;return v.error?v.table._trans(null,on.bind(null,v.error)):v.table._trans("readwrite",m,"locked")},Nt.prototype._addAlgorithm=function(m){var v=this._ctx;v.algorithm=mo(v.algorithm,m)},Nt.prototype._iterate=function(m,v){return Mi(this._ctx,m,v,this._ctx.table.core)},Nt.prototype.clone=function(m){var v=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return m&&y(x,m),v._ctx=x,v},Nt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Nt.prototype.each=function(m){var v=this._ctx;return this._read(function(x){return Mi(v,m,x,v.table.core)})},Nt.prototype.count=function(m){var v=this;return this._read(function(x){var T=v._ctx,A=T.table.core;if(to(T,!0))return A.count({trans:x,query:{index:Ri(T,A.schema),range:T.range}}).then(function(D){return Math.min(D,T.limit)});var R=0;return Mi(T,function(){return++R,!1},x,A).then(function(){return R})}).then(m)},Nt.prototype.sortBy=function(m,v){var x=m.split(".").reverse(),T=x[0],A=x.length-1;function R(z,Y){return Y?R(z[x[Y]],Y-1):z[T]}var D=this._ctx.dir==="next"?1:-1;function L(z,Y){return Ct(R(z,A),R(Y,A))*D}return this.toArray(function(z){return z.sort(L)}).then(v)},Nt.prototype.toArray=function(m){var v=this;return this._read(function(x){var T=v._ctx;if(T.dir==="next"&&to(T,!0)&&0<T.limit){var A=T.valueMapper,R=Ri(T,T.table.core.schema);return T.table.core.query({trans:x,limit:T.limit,values:!0,query:{index:R,range:T.range}}).then(function(L){return L=L.result,A?L.map(A):L})}var D=[];return Mi(T,function(L){return D.push(L)},x,T.table.core).then(function(){return D})},m)},Nt.prototype.offset=function(m){var v=this._ctx;return m<=0||(v.offset+=m,to(v)?Jn(v,function(){var x=m;return function(T,A){return x===0||(x===1?--x:A(function(){T.advance(x),x=0}),!1)}}):Jn(v,function(){var x=m;return function(){return--x<0}})),this},Nt.prototype.limit=function(m){return this._ctx.limit=Math.min(this._ctx.limit,m),Jn(this._ctx,function(){var v=m;return function(x,T,A){return--v<=0&&T(A),0<=v}},!0),this},Nt.prototype.until=function(m,v){return Jl(this._ctx,function(x,T,A){return!m(x.value)||(T(A),v)}),this},Nt.prototype.first=function(m){return this.limit(1).toArray(function(v){return v[0]}).then(m)},Nt.prototype.last=function(m){return this.reverse().first(m)},Nt.prototype.filter=function(m){var v;return Jl(this._ctx,function(x){return m(x.value)}),(v=this._ctx).isMatch=mo(v.isMatch,m),this},Nt.prototype.and=function(m){return this.filter(m)},Nt.prototype.or=function(m){return new this.db.WhereClause(this._ctx.table,m,this)},Nt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Nt.prototype.desc=function(){return this.reverse()},Nt.prototype.eachKey=function(m){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(x,T){m(T.key,T)})},Nt.prototype.eachUniqueKey=function(m){return this._ctx.unique="unique",this.eachKey(m)},Nt.prototype.eachPrimaryKey=function(m){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(x,T){m(T.primaryKey,T)})},Nt.prototype.keys=function(m){var v=this._ctx;v.keysOnly=!v.isMatch;var x=[];return this.each(function(T,A){x.push(A.key)}).then(function(){return x}).then(m)},Nt.prototype.primaryKeys=function(m){var v=this._ctx;if(v.dir==="next"&&to(v,!0)&&0<v.limit)return this._read(function(T){var A=Ri(v,v.table.core.schema);return v.table.core.query({trans:T,values:!1,limit:v.limit,query:{index:A,range:v.range}})}).then(function(T){return T.result}).then(m);v.keysOnly=!v.isMatch;var x=[];return this.each(function(T,A){x.push(A.primaryKey)}).then(function(){return x}).then(m)},Nt.prototype.uniqueKeys=function(m){return this._ctx.unique="unique",this.keys(m)},Nt.prototype.firstKey=function(m){return this.limit(1).keys(function(v){return v[0]}).then(m)},Nt.prototype.lastKey=function(m){return this.reverse().firstKey(m)},Nt.prototype.distinct=function(){var m=this._ctx,m=m.index&&m.table.schema.idxByName[m.index];if(!m||!m.multi)return this;var v={};return Jl(this._ctx,function(A){var T=A.primaryKey.toString(),A=w(v,T);return v[T]=!0,!A}),this},Nt.prototype.modify=function(m){var v=this,x=this._ctx;return this._write(function(T){var A,R,D;D=typeof m=="function"?m:(A=c(m),R=A.length,function(Z){for(var le=!1,he=0;he<R;++he){var pe=A[he],xe=m[pe],De=ge(Z,pe);xe instanceof ki?(H(Z,pe,xe.execute(De)),le=!0):De!==xe&&(H(Z,pe,xe),le=!0)}return le});var L=x.table.core,V=L.schema.primaryKey,z=V.outbound,Y=V.extractKey,j=200,V=v.db._options.modifyChunkSize;V&&(j=typeof V=="object"?V[L.name]||V["*"]||200:V);function re(Z,pe){var he=pe.failures,pe=pe.numFailures;W+=Z-pe;for(var xe=0,De=c(he);xe<De.length;xe++){var Le=De[xe];G.push(he[Le])}}var G=[],W=0,oe=[];return v.clone().primaryKeys().then(function(Z){function le(pe){var xe=Math.min(j,Z.length-pe);return L.getMany({trans:T,keys:Z.slice(pe,pe+xe),cache:"immutable"}).then(function(De){for(var Le=[],Ne=[],Oe=z?[]:null,Ue=[],Ie=0;Ie<xe;++Ie){var Ke=De[Ie],je={value:Ee(Ke),primKey:Z[pe+Ie]};D.call(je,je.value,je)!==!1&&(je.value==null?Ue.push(Z[pe+Ie]):z||Ct(Y(Ke),Y(je.value))===0?(Ne.push(je.value),z&&Oe.push(Z[pe+Ie])):(Ue.push(Z[pe+Ie]),Le.push(je.value)))}return Promise.resolve(0<Le.length&&L.mutate({trans:T,type:"add",values:Le}).then(function(ot){for(var pt in ot.failures)Ue.splice(parseInt(pt),1);re(Le.length,ot)})).then(function(){return(0<Ne.length||he&&typeof m=="object")&&L.mutate({trans:T,type:"put",keys:Oe,values:Ne,criteria:he,changeSpec:typeof m!="function"&&m,isAdditionalChunk:0<pe}).then(function(ot){return re(Ne.length,ot)})}).then(function(){return(0<Ue.length||he&&m===ps)&&L.mutate({trans:T,type:"delete",keys:Ue,criteria:he,isAdditionalChunk:0<pe}).then(function(ot){return re(Ue.length,ot)})}).then(function(){return Z.length>pe+xe&&le(pe+j)})})}var he=to(x)&&x.limit===1/0&&(typeof m!="function"||m===ps)&&{index:x.index,range:x.range};return le(0).then(function(){if(0<G.length)throw new rt("Error modifying one or more objects",G,W,oe);return Z.length})})})},Nt.prototype.delete=function(){var m=this._ctx,v=m.range;return to(m)&&(m.isPrimKey||v.type===3)?this._write(function(x){var T=m.table.core.schema.primaryKey,A=v;return m.table.core.count({trans:x,query:{index:T,range:A}}).then(function(R){return m.table.core.mutate({trans:x,type:"deleteRange",range:A}).then(function(D){var L=D.failures;if(D.lastResult,D.results,D=D.numFailures,D)throw new rt("Could not delete some values",Object.keys(L).map(function(z){return L[z]}),R-D);return R-D})})}):this.modify(ps)},Nt);function Nt(){}var ps=function(m,v){return v.value=null};function Pc(m,v){return m<v?-1:m===v?0:1}function Ql(m,v){return v<m?-1:m===v?0:1}function or(m,v,x){return m=m instanceof Ko?new m.Collection(m):m,m._ctx.error=new(x||TypeError)(v),m}function Ii(m){return new m.Collection(m,function(){return gs("")}).limit(0)}function zo(m,v,x,T){var A,R,D,L,z,Y,j,V=x.length;if(!x.every(function(W){return typeof W=="string"}))return or(m,Oc);function re(W){A=W==="next"?function(Z){return Z.toUpperCase()}:function(Z){return Z.toLowerCase()},R=W==="next"?function(Z){return Z.toLowerCase()}:function(Z){return Z.toUpperCase()},D=W==="next"?Pc:Ql;var oe=x.map(function(Z){return{lower:R(Z),upper:A(Z)}}).sort(function(Z,le){return D(Z.lower,le.lower)});L=oe.map(function(Z){return Z.upper}),z=oe.map(function(Z){return Z.lower}),j=(Y=W)==="next"?"":T}re("next"),m=new m.Collection(m,function(){return Lr(L[0],z[V-1]+T)}),m._ondirectionchange=function(W){re(W)};var G=0;return m._addAlgorithm(function(W,oe,Z){var le=W.key;if(typeof le!="string")return!1;var he=R(le);if(v(he,z,G))return!0;for(var pe=null,xe=G;xe<V;++xe){var De=function(Le,Ne,Oe,Ue,Ie,Ke){for(var je=Math.min(Le.length,Ue.length),ot=-1,pt=0;pt<je;++pt){var qn=Ne[pt];if(qn!==Ue[pt])return Ie(Le[pt],Oe[pt])<0?Le.substr(0,pt)+Oe[pt]+Oe.substr(pt+1):Ie(Le[pt],Ue[pt])<0?Le.substr(0,pt)+Ue[pt]+Oe.substr(pt+1):0<=ot?Le.substr(0,ot)+Ne[ot]+Oe.substr(ot+1):null;Ie(Le[pt],qn)<0&&(ot=pt)}return je<Ue.length&&Ke==="next"?Le+Oe.substr(Le.length):je<Le.length&&Ke==="prev"?Le.substr(0,Oe.length):ot<0?null:Le.substr(0,ot)+Ue[ot]+Oe.substr(ot+1)}(le,he,L[xe],z[xe],D,Y);De===null&&pe===null?G=xe+1:(pe===null||0<D(pe,De))&&(pe=De)}return oe(pe!==null?function(){W.continue(pe+j)}:Z),!1}),m}function Lr(m,v,x,T){return{type:2,lower:m,upper:v,lowerOpen:x,upperOpen:T}}function gs(m){return{type:1,lower:m,upper:m}}var Ko=(Object.defineProperty(Wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Wt.prototype.between=function(m,v,x,T){x=x!==!1,T=T===!0;try{return 0<this._cmp(m,v)||this._cmp(m,v)===0&&(x||T)&&(!x||!T)?Ii(this):new this.Collection(this,function(){return Lr(m,v,!x,!T)})}catch{return or(this,Pr)}},Wt.prototype.equals=function(m){return m==null?or(this,Pr):new this.Collection(this,function(){return gs(m)})},Wt.prototype.above=function(m){return m==null?or(this,Pr):new this.Collection(this,function(){return Lr(m,void 0,!0)})},Wt.prototype.aboveOrEqual=function(m){return m==null?or(this,Pr):new this.Collection(this,function(){return Lr(m,void 0,!1)})},Wt.prototype.below=function(m){return m==null?or(this,Pr):new this.Collection(this,function(){return Lr(void 0,m,!1,!0)})},Wt.prototype.belowOrEqual=function(m){return m==null?or(this,Pr):new this.Collection(this,function(){return Lr(void 0,m)})},Wt.prototype.startsWith=function(m){return typeof m!="string"?or(this,Oc):this.between(m,m+ho,!0,!0)},Wt.prototype.startsWithIgnoreCase=function(m){return m===""?this.startsWith(m):zo(this,function(v,x){return v.indexOf(x[0])===0},[m],ho)},Wt.prototype.equalsIgnoreCase=function(m){return zo(this,function(v,x){return v===x[0]},[m],"")},Wt.prototype.anyOfIgnoreCase=function(){var m=I.apply(ve,arguments);return m.length===0?Ii(this):zo(this,function(v,x){return x.indexOf(v)!==-1},m,"")},Wt.prototype.startsWithAnyOfIgnoreCase=function(){var m=I.apply(ve,arguments);return m.length===0?Ii(this):zo(this,function(v,x){return x.some(function(T){return v.indexOf(T)===0})},m,ho)},Wt.prototype.anyOf=function(){var m=this,v=I.apply(ve,arguments),x=this._cmp;try{v.sort(x)}catch{return or(this,Pr)}if(v.length===0)return Ii(this);var T=new this.Collection(this,function(){return Lr(v[0],v[v.length-1])});T._ondirectionchange=function(R){x=R==="next"?m._ascending:m._descending,v.sort(x)};var A=0;return T._addAlgorithm(function(R,D,L){for(var z=R.key;0<x(z,v[A]);)if(++A===v.length)return D(L),!1;return x(z,v[A])===0||(D(function(){R.continue(v[A])}),!1)}),T},Wt.prototype.notEqual=function(m){return this.inAnyRange([[-1/0,m],[m,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Wt.prototype.noneOf=function(){var m=I.apply(ve,arguments);if(m.length===0)return new this.Collection(this);try{m.sort(this._ascending)}catch{return or(this,Pr)}var v=m.reduce(function(x,T){return x?x.concat([[x[x.length-1][1],T]]):[[-1/0,T]]},null);return v.push([m[m.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},Wt.prototype.inAnyRange=function(le,v){var x=this,T=this._cmp,A=this._ascending,R=this._descending,D=this._min,L=this._max;if(le.length===0)return Ii(this);if(!le.every(function(he){return he[0]!==void 0&&he[1]!==void 0&&A(he[0],he[1])<=0}))return or(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",_e.InvalidArgument);var z=!v||v.includeLowers!==!1,Y=v&&v.includeUppers===!0,j,V=A;function re(he,pe){return V(he[0],pe[0])}try{(j=le.reduce(function(he,pe){for(var xe=0,De=he.length;xe<De;++xe){var Le=he[xe];if(T(pe[0],Le[1])<0&&0<T(pe[1],Le[0])){Le[0]=D(Le[0],pe[0]),Le[1]=L(Le[1],pe[1]);break}}return xe===De&&he.push(pe),he},[])).sort(re)}catch{return or(this,Pr)}var G=0,W=Y?function(he){return 0<A(he,j[G][1])}:function(he){return 0<=A(he,j[G][1])},oe=z?function(he){return 0<R(he,j[G][0])}:function(he){return 0<=R(he,j[G][0])},Z=W,le=new this.Collection(this,function(){return Lr(j[0][0],j[j.length-1][1],!z,!Y)});return le._ondirectionchange=function(he){V=he==="next"?(Z=W,A):(Z=oe,R),j.sort(re)},le._addAlgorithm(function(he,pe,xe){for(var De,Le=he.key;Z(Le);)if(++G===j.length)return pe(xe),!1;return!W(De=Le)&&!oe(De)||(x._cmp(Le,j[G][1])===0||x._cmp(Le,j[G][0])===0||pe(function(){V===A?he.continue(j[G][0]):he.continue(j[G][1])}),!1)}),le},Wt.prototype.startsWithAnyOf=function(){var m=I.apply(ve,arguments);return m.every(function(v){return typeof v=="string"})?m.length===0?Ii(this):this.inAnyRange(m.map(function(v){return[v,v+ho]})):or(this,"startsWithAnyOf() only works with strings")},Wt);function Wt(){}function xr(m){return xt(function(v){return $o(v),m(v.target.error),!1})}function $o(m){m.stopPropagation&&m.stopPropagation(),m.preventDefault&&m.preventDefault()}var Di="storagemutated",Ho="x-storagemutated-1",kn=po(null,Di),Wl=(Xn.prototype._lock=function(){return J(!Xe.global),++this._reculock,this._reculock!==1||Xe.global||(Xe.lockOwnerFor=this),this},Xn.prototype._unlock=function(){if(J(!Xe.global),--this._reculock==0)for(Xe.global||(Xe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var m=this._blockedFuncs.shift();try{uo(m[1],m[0])}catch{}}return this},Xn.prototype._locked=function(){return this._reculock&&Xe.lockOwnerFor!==this},Xn.prototype.create=function(m){var v=this;if(!this.mode)return this;var x=this.db.idbdb,T=this.db._state.dbOpenError;if(J(!this.idbtrans),!m&&!x)switch(T&&T.name){case"DatabaseClosedError":throw new _e.DatabaseClosed(T);case"MissingAPIError":throw new _e.MissingAPI(T.message,T);default:throw new _e.OpenFailed(T)}if(!this.active)throw new _e.TransactionInactive;return J(this._completion._state===null),(m=this.idbtrans=m||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=xt(function(A){$o(A),v._reject(m.error)}),m.onabort=xt(function(A){$o(A),v.active&&v._reject(new _e.Abort(m.error)),v.active=!1,v.on("abort").fire(A)}),m.oncomplete=xt(function(){v.active=!1,v._resolve(),"mutatedParts"in m&&kn.storagemutated.fire(m.mutatedParts)}),this},Xn.prototype._promise=function(m,v,x){var T=this;if(m==="readwrite"&&this.mode!=="readwrite")return on(new _e.ReadOnly("Transaction is readonly"));if(!this.active)return on(new _e.TransactionInactive);if(this._locked())return new Ve(function(R,D){T._blockedFuncs.push([function(){T._promise(m,v,x).then(R,D)},Xe])});if(x)return Or(function(){var R=new Ve(function(D,L){T._lock();var z=v(D,L,T);z&&z.then&&z.then(D,L)});return R.finally(function(){return T._unlock()}),R._lib=!0,R});var A=new Ve(function(R,D){var L=v(R,D,T);L&&L.then&&L.then(R,D)});return A._lib=!0,A},Xn.prototype._root=function(){return this.parent?this.parent._root():this},Xn.prototype.waitFor=function(m){var v,x=this._root(),T=Ve.resolve(m);x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return T}):(x._waitingFor=T,x._waitingQueue=[],v=x.idbtrans.objectStore(x.storeNames[0]),function R(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(v.get(-1/0).onsuccess=R)}());var A=x._waitingFor;return new Ve(function(R,D){T.then(function(L){return x._waitingQueue.push(xt(R.bind(null,L)))},function(L){return x._waitingQueue.push(xt(D.bind(null,L)))}).finally(function(){x._waitingFor===A&&(x._waitingFor=null)})})},Xn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new _e.Abort))},Xn.prototype.table=function(m){var v=this._memoizedTables||(this._memoizedTables={});if(w(v,m))return v[m];var x=this.schema[m];if(!x)throw new _e.NotFound("Table "+m+" not part of transaction");return x=new this.db.Table(m,x,this),x.core=this.db.core.table(m),v[m]=x},Xn);function Xn(){}function Ur(m,v,x,T,A,R,D){return{name:m,keyPath:v,unique:x,multi:T,auto:A,compound:R,src:(x&&!D?"&":"")+(T?"*":"")+(A?"++":"")+ys(v)}}function ys(m){return typeof m=="string"?m:m?"["+[].join.call(m,"+")+"]":""}function Oi(m,v,x){return{name:m,primKey:v,indexes:x,mappedClass:null,idxByName:(T=function(A){return[A.name,A]},x.reduce(function(A,R,D){return D=T(R,D),D&&(A[D[0]]=D[1]),A},{}))};var T}var Pi=function(m){try{return m.only([[]]),Pi=function(){return[[]]},[[]]}catch{return Pi=function(){return ho},ho}};function Li(m){return m==null?function(){}:typeof m=="string"?(v=m).split(".").length===1?function(x){return x[v]}:function(x){return ge(x,v)}:function(x){return ge(x,m)};var v}function Ma(m){return[].slice.call(m)}var Lc=0;function yn(m){return m==null?":id":typeof m=="string"?m:"[".concat(m.join("+"),"]")}function Yo(m,v,z){function T(Z){if(Z.type===3)return null;if(Z.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var G=Z.lower,W=Z.upper,oe=Z.lowerOpen,Z=Z.upperOpen;return G===void 0?W===void 0?null:v.upperBound(W,!!Z):W===void 0?v.lowerBound(G,!!oe):v.bound(G,W,!!oe,!!Z)}function A(re){var G,W=re.name;return{name:W,schema:re,mutate:function(oe){var Z=oe.trans,le=oe.type,he=oe.keys,pe=oe.values,xe=oe.range;return new Promise(function(De,Le){De=xt(De);var Ne=Z.objectStore(W),Oe=Ne.keyPath==null,Ue=le==="put"||le==="add";if(!Ue&&le!=="delete"&&le!=="deleteRange")throw new Error("Invalid operation type: "+le);var Ie,Ke=(he||pe||{length:1}).length;if(he&&pe&&he.length!==pe.length)throw new Error("Given keys array must have same length as given values array.");if(Ke===0)return De({numFailures:0,failures:{},results:[],lastResult:void 0});function je(In){++qn,$o(In)}var ot=[],pt=[],qn=0;if(le==="deleteRange"){if(xe.type===4)return De({numFailures:qn,failures:pt,results:[],lastResult:void 0});xe.type===3?ot.push(Ie=Ne.clear()):ot.push(Ie=Ne.delete(T(xe)))}else{var Oe=Ue?Oe?[pe,he]:[pe,null]:[he,null],lt=Oe[0],hn=Oe[1];if(Ue)for(var vn=0;vn<Ke;++vn)ot.push(Ie=hn&&hn[vn]!==void 0?Ne[le](lt[vn],hn[vn]):Ne[le](lt[vn])),Ie.onerror=je;else for(vn=0;vn<Ke;++vn)ot.push(Ie=Ne[le](lt[vn])),Ie.onerror=je}function no(In){In=In.target.result,ot.forEach(function(Vr,bo){return Vr.error!=null&&(pt[bo]=Vr.error)}),De({numFailures:qn,failures:pt,results:le==="delete"?he:ot.map(function(Vr){return Vr.result}),lastResult:In})}Ie.onerror=function(In){je(In),no(In)},Ie.onsuccess=no})},getMany:function(oe){var Z=oe.trans,le=oe.keys;return new Promise(function(he,pe){he=xt(he);for(var xe,De=Z.objectStore(W),Le=le.length,Ne=new Array(Le),Oe=0,Ue=0,Ie=function(ot){ot=ot.target,Ne[ot._pos]=ot.result,++Ue===Oe&&he(Ne)},Ke=xr(pe),je=0;je<Le;++je)le[je]!=null&&((xe=De.get(le[je]))._pos=je,xe.onsuccess=Ie,xe.onerror=Ke,++Oe);Oe===0&&he(Ne)})},get:function(oe){var Z=oe.trans,le=oe.key;return new Promise(function(he,pe){he=xt(he);var xe=Z.objectStore(W).get(le);xe.onsuccess=function(De){return he(De.target.result)},xe.onerror=xr(pe)})},query:(G=Y,function(oe){return new Promise(function(Z,le){Z=xt(Z);var he,pe,xe,Oe=oe.trans,De=oe.values,Le=oe.limit,Ie=oe.query,Ne=Le===1/0?void 0:Le,Ue=Ie.index,Ie=Ie.range,Oe=Oe.objectStore(W),Ue=Ue.isPrimaryKey?Oe:Oe.index(Ue.name),Ie=T(Ie);if(Le===0)return Z({result:[]});G?((Ne=De?Ue.getAll(Ie,Ne):Ue.getAllKeys(Ie,Ne)).onsuccess=function(Ke){return Z({result:Ke.target.result})},Ne.onerror=xr(le)):(he=0,pe=!De&&"openKeyCursor"in Ue?Ue.openKeyCursor(Ie):Ue.openCursor(Ie),xe=[],pe.onsuccess=function(Ke){var je=pe.result;return je?(xe.push(De?je.value:je.primaryKey),++he===Le?Z({result:xe}):void je.continue()):Z({result:xe})},pe.onerror=xr(le))})}),openCursor:function(oe){var Z=oe.trans,le=oe.values,he=oe.query,pe=oe.reverse,xe=oe.unique;return new Promise(function(De,Le){De=xt(De);var Ue=he.index,Ne=he.range,Oe=Z.objectStore(W),Oe=Ue.isPrimaryKey?Oe:Oe.index(Ue.name),Ue=pe?xe?"prevunique":"prev":xe?"nextunique":"next",Ie=!le&&"openKeyCursor"in Oe?Oe.openKeyCursor(T(Ne),Ue):Oe.openCursor(T(Ne),Ue);Ie.onerror=xr(Le),Ie.onsuccess=xt(function(Ke){var je,ot,pt,qn,lt=Ie.result;lt?(lt.___id=++Lc,lt.done=!1,je=lt.continue.bind(lt),ot=(ot=lt.continuePrimaryKey)&&ot.bind(lt),pt=lt.advance.bind(lt),qn=function(){throw new Error("Cursor not stopped")},lt.trans=Z,lt.stop=lt.continue=lt.continuePrimaryKey=lt.advance=function(){throw new Error("Cursor not started")},lt.fail=xt(Le),lt.next=function(){var hn=this,vn=1;return this.start(function(){return vn--?hn.continue():hn.stop()}).then(function(){return hn})},lt.start=function(hn){function vn(){if(Ie.result)try{hn()}catch(In){lt.fail(In)}else lt.done=!0,lt.start=function(){throw new Error("Cursor behind last entry")},lt.stop()}var no=new Promise(function(In,Vr){In=xt(In),Ie.onerror=xr(Vr),lt.fail=Vr,lt.stop=function(bo){lt.stop=lt.continue=lt.continuePrimaryKey=lt.advance=qn,In(bo)}});return Ie.onsuccess=xt(function(In){Ie.onsuccess=vn,vn()}),lt.continue=je,lt.continuePrimaryKey=ot,lt.advance=pt,vn(),no},De(lt)):De(null)},Le)})},count:function(oe){var Z=oe.query,le=oe.trans,he=Z.index,pe=Z.range;return new Promise(function(xe,De){var Le=le.objectStore(W),Ne=he.isPrimaryKey?Le:Le.index(he.name),Le=T(pe),Ne=Le?Ne.count(Le):Ne.count();Ne.onsuccess=xt(function(Oe){return xe(Oe.target.result)}),Ne.onerror=xr(De)})}}}var R,D,L,j=(D=z,L=Ma((R=m).objectStoreNames),{schema:{name:R.name,tables:L.map(function(re){return D.objectStore(re)}).map(function(re){var G=re.keyPath,Z=re.autoIncrement,W=h(G),oe={},Z={name:re.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:G==null,compound:W,keyPath:G,autoIncrement:Z,unique:!0,extractKey:Li(G)},indexes:Ma(re.indexNames).map(function(le){return re.index(le)}).map(function(xe){var he=xe.name,pe=xe.unique,De=xe.multiEntry,xe=xe.keyPath,De={name:he,compound:h(xe),keyPath:xe,unique:pe,multiEntry:De,extractKey:Li(xe)};return oe[yn(xe)]=De}),getIndexByKeyPath:function(le){return oe[yn(le)]}};return oe[":id"]=Z.primaryKey,G!=null&&(oe[yn(G)]=Z.primaryKey),Z})},hasGetAll:0<L.length&&"getAll"in D.objectStore(L[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),z=j.schema,Y=j.hasGetAll,j=z.tables.map(A),V={};return j.forEach(function(re){return V[re.name]=re}),{stack:"dbcore",transaction:m.transaction.bind(m),table:function(re){if(!V[re])throw new Error("Table '".concat(re,"' not found"));return V[re]},MIN_KEY:-1/0,MAX_KEY:Pi(v),schema:z}}function vs(m,v,x,T){var A=x.IDBKeyRange;return x.indexedDB,{dbcore:(T=Yo(v,A,T),m.dbcore.reduce(function(R,D){return D=D.create,r(r({},R),D(R))},T))}}function go(m,T){var x=T.db,T=vs(m._middlewares,x,m._deps,T);m.core=T.dbcore,m.tables.forEach(function(A){var R=A.name;m.core.schema.tables.some(function(D){return D.name===R})&&(A.core=m.core.table(R),m[R]instanceof m.Table&&(m[R].core=A.core))})}function bs(m,v,x,T){x.forEach(function(A){var R=T[A];v.forEach(function(D){var L=function z(Y,j){return O(Y,j)||(Y=p(Y))&&z(Y,j)}(D,A);(!L||"value"in L&&L.value===void 0)&&(D===m.Transaction.prototype||D instanceof m.Transaction?k(D,A,{get:function(){return this.table(A)},set:function(z){E(this,A,{value:z,writable:!0,configurable:!0,enumerable:!0})}}):D[A]=new m.Table(A,R))})})}function ka(m,v){v.forEach(function(x){for(var T in x)x[T]instanceof m.Table&&delete x[T]})}function jl(m,v){return m._cfg.version-v._cfg.version}function Na(m,v,x,T){var A=m._dbSchema;x.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=Oi("$meta",Bc("")[0],[]),m._storeNames.push("$meta"));var R=m._createTransaction("readwrite",m._storeNames,A);R.create(x),R._completion.catch(T);var D=R._reject.bind(R),L=Xe.transless||Xe;Or(function(){return Xe.trans=R,Xe.transless=L,v!==0?(go(m,x),Y=v,((z=R).storeNames.includes("$meta")?z.table("$meta").get("version").then(function(j){return j??Y}):Ve.resolve(Y)).then(function(j){return re=j,G=R,W=x,oe=[],j=(V=m)._versions,Z=V._dbSchema=Ui(0,V.idbdb,W),(j=j.filter(function(le){return le._cfg.version>=re})).length!==0?(j.forEach(function(le){oe.push(function(){var he=Z,pe=le._cfg.dbschema;Ts(V,he,W),Ts(V,pe,W),Z=V._dbSchema=pe;var xe=xs(he,pe);xe.add.forEach(function(Ue){eu(W,Ue[0],Ue[1].primKey,Ue[1].indexes)}),xe.change.forEach(function(Ue){if(Ue.recreate)throw new _e.Upgrade("Not yet support for changing primary key");var Ie=W.objectStore(Ue.name);Ue.add.forEach(function(Ke){return ws(Ie,Ke)}),Ue.change.forEach(function(Ke){Ie.deleteIndex(Ke.name),ws(Ie,Ke)}),Ue.del.forEach(function(Ke){return Ie.deleteIndex(Ke)})});var De=le._cfg.contentUpgrade;if(De&&le._cfg.version>re){go(V,W),G._memoizedTables={};var Le=be(pe);xe.del.forEach(function(Ue){Le[Ue]=he[Ue]}),ka(V,[V.Transaction.prototype]),bs(V,[V.Transaction.prototype],c(Le),Le),G.schema=Le;var Ne,Oe=Q(De);return Oe&&br(),xe=Ve.follow(function(){var Ue;(Ne=De(G))&&Oe&&(Ue=nr.bind(null,null),Ne.then(Ue,Ue))}),Ne&&typeof Ne.then=="function"?Ve.resolve(Ne):xe.then(function(){return Ne})}}),oe.push(function(he){var pe,xe,De=le._cfg.dbschema;pe=De,xe=he,[].slice.call(xe.db.objectStoreNames).forEach(function(Le){return pe[Le]==null&&xe.db.deleteObjectStore(Le)}),ka(V,[V.Transaction.prototype]),bs(V,[V.Transaction.prototype],V._storeNames,V._dbSchema),G.schema=V._dbSchema}),oe.push(function(he){V.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(V.idbdb.version/10)===le._cfg.version?(V.idbdb.deleteObjectStore("$meta"),delete V._dbSchema.$meta,V._storeNames=V._storeNames.filter(function(pe){return pe!=="$meta"})):he.objectStore("$meta").put(le._cfg.version,"version"))})}),function le(){return oe.length?Ve.resolve(oe.shift()(G.idbtrans)).then(le):Ve.resolve()}().then(function(){Uc(Z,W)})):Ve.resolve();var V,re,G,W,oe,Z}).catch(D)):(c(A).forEach(function(j){eu(x,j,A[j].primKey,A[j].indexes)}),go(m,x),void Ve.follow(function(){return m.on.populate.fire(R)}).catch(D));var z,Y})}function _s(m,v){Uc(m._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var x=Ui(0,m.idbdb,v);Ts(m,m._dbSchema,v);for(var T=0,A=xs(x,m._dbSchema).change;T<A.length;T++){var R=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var L=v.objectStore(D.name);D.add.forEach(function(z){rn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(z.src)),ws(L,z)})}(A[T]);if(typeof R=="object")return R.value}}function xs(m,v){var x,T={del:[],add:[],change:[]};for(x in m)v[x]||T.del.push(x);for(x in v){var A=m[x],R=v[x];if(A){var D={name:x,def:R,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(R.primKey.keyPath||"")||A.primKey.auto!==R.primKey.auto)D.recreate=!0,T.change.push(D);else{var L=A.idxByName,z=R.idxByName,Y=void 0;for(Y in L)z[Y]||D.del.push(Y);for(Y in z){var j=L[Y],V=z[Y];j?j.src!==V.src&&D.change.push(V):D.add.push(V)}(0<D.del.length||0<D.add.length||0<D.change.length)&&T.change.push(D)}}else T.add.push([x,R])}return T}function eu(m,v,x,T){var A=m.db.createObjectStore(v,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});return T.forEach(function(R){return ws(A,R)}),A}function Uc(m,v){c(m).forEach(function(x){v.db.objectStoreNames.contains(x)||(rn&&console.debug("Dexie: Creating missing table",x),eu(v,x,m[x].primKey,m[x].indexes))})}function ws(m,v){m.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function Ui(m,v,x){var T={};return P(v.objectStoreNames,0).forEach(function(A){for(var R=x.objectStore(A),D=Ur(ys(Y=R.keyPath),Y||"",!0,!1,!!R.autoIncrement,Y&&typeof Y!="string",!0),L=[],z=0;z<R.indexNames.length;++z){var j=R.index(R.indexNames[z]),Y=j.keyPath,j=Ur(j.name,Y,!!j.unique,!!j.multiEntry,!1,Y&&typeof Y!="string",!1);L.push(j)}T[A]=Oi(A,D,L)}),T}function Ts(m,v,x){for(var T=x.db.objectStoreNames,A=0;A<T.length;++A){var R=T[A],D=x.objectStore(R);m._hasGetAll="getAll"in D;for(var L=0;L<D.indexNames.length;++L){var z=D.indexNames[L],Y=D.index(z).keyPath,j=typeof Y=="string"?Y:"["+P(Y).join("+")+"]";!v[R]||(Y=v[R].idxByName[j])&&(Y.name=z,delete v[R].idxByName[j],v[R].idxByName[z]=Y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&l.WorkerGlobalScope&&l instanceof l.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(m._hasGetAll=!1)}function Bc(m){return m.split(",").map(function(v,x){var T=(v=v.trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(T)?T.match(/^\[(.*)\]$/)[1].split("+"):T;return Ur(T,A||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),h(A),x===0)})}var Ah=(Cs.prototype._parseStoresSpec=function(m,v){c(m).forEach(function(x){if(m[x]!==null){var T=Bc(m[x]),A=T.shift();if(A.unique=!0,A.multi)throw new _e.Schema("Primary key cannot be multi-valued");T.forEach(function(R){if(R.auto)throw new _e.Schema("Only primary key can be marked as autoIncrement (++)");if(!R.keyPath)throw new _e.Schema("Index must have a name and cannot be an empty string")}),v[x]=Oi(x,A,T)}})},Cs.prototype.stores=function(x){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?y(this._cfg.storesSource,x):x;var x=v._versions,T={},A={};return x.forEach(function(R){y(T,R._cfg.storesSource),A=R._cfg.dbschema={},R._parseStoresSpec(T,A)}),v._dbSchema=A,ka(v,[v._allTables,v,v.Transaction.prototype]),bs(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],c(A),A),v._storeNames=c(A),this},Cs.prototype.upgrade=function(m){return this._cfg.contentUpgrade=yr(this._cfg.contentUpgrade||qe,m),this},Cs);function Cs(){}function tu(m,v){var x=m._dbNamesDB;return x||(x=m._dbNamesDB=new Br(Fo,{addons:[],indexedDB:m,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function Ss(m){return m&&typeof m.databases=="function"}function nu(m){return Or(function(){return Xe.letThrough=!0,m()})}function ru(m){return!("from"in m)}var Nn=function(m,v){if(!this){var x=new Nn;return m&&"d"in m&&y(x,m),x}y(this,arguments.length?{d:1,from:m,to:1<arguments.length?v:m}:{d:0})};function Ia(m,v,x){var T=Ct(v,x);if(!isNaN(T)){if(0<T)throw RangeError();if(ru(m))return y(m,{from:v,to:x,d:1});var A=m.l,T=m.r;if(Ct(x,m.from)<0)return A?Ia(A,v,x):m.l={from:v,to:x,d:1,l:null,r:null},Fc(m);if(0<Ct(v,m.to))return T?Ia(T,v,x):m.r={from:v,to:x,d:1,l:null,r:null},Fc(m);Ct(v,m.from)<0&&(m.from=v,m.l=null,m.d=T?T.d+1:1),0<Ct(x,m.to)&&(m.to=x,m.r=null,m.d=m.l?m.l.d+1:1),x=!m.r,A&&!m.l&&Jo(m,A),T&&x&&Jo(m,T)}}function Jo(m,v){ru(v)||function x(T,z){var R=z.from,D=z.to,L=z.l,z=z.r;Ia(T,R,D),L&&x(T,L),z&&x(T,z)}(m,v)}function Vc(m,v){var x=Es(v),T=x.next();if(T.done)return!1;for(var A=T.value,R=Es(m),D=R.next(A.from),L=D.value;!T.done&&!D.done;){if(Ct(L.from,A.to)<=0&&0<=Ct(L.to,A.from))return!0;Ct(A.from,L.from)<0?A=(T=x.next(L.from)).value:L=(D=R.next(A.from)).value}return!1}function Es(m){var v=ru(m)?null:{s:0,n:m};return{next:function(x){for(var T=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,T)for(;v.n.l&&Ct(x,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!T||Ct(x,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function Fc(m){var v,x,T=(((v=m.r)===null||v===void 0?void 0:v.d)||0)-(((x=m.l)===null||x===void 0?void 0:x.d)||0),A=1<T?"r":T<-1?"l":"";A&&(v=A=="r"?"l":"r",x=r({},m),T=m[A],m.from=T.from,m.to=T.to,m[A]=T[A],x[A]=T[v],(m[v]=x).d=ou(x)),m.d=ou(m)}function ou(x){var v=x.r,x=x.l;return(v?x?Math.max(v.d,x.d):v.d:x?x.d:0)+1}function As(m,v){return c(v).forEach(function(x){m[x]?Jo(m[x],v[x]):m[x]=function T(A){var R,D,L={};for(R in A)w(A,R)&&(D=A[R],L[R]=!D||typeof D!="object"||Ce.has(D.constructor)?D:T(D));return L}(v[x])}),m}function iu(m,v){return m.all||v.all||Object.keys(m).some(function(x){return v[x]&&Vc(v[x],m[x])})}C(Nn.prototype,((ir={add:function(m){return Jo(this,m),this},addKey:function(m){return Ia(this,m,m),this},addKeys:function(m){var v=this;return m.forEach(function(x){return Ia(v,x,x)}),this},hasKey:function(m){var v=Es(this).next(m).value;return v&&Ct(v.from,m)<=0&&0<=Ct(v.to,m)}})[X]=function(){return Es(this)},ir));var Xo={},au={},su=!1;function Rs(m){As(au,m),su||(su=!0,setTimeout(function(){su=!1,lu(au,!(au={}))},0))}function lu(m,v){v===void 0&&(v=!1);var x=new Set;if(m.all)for(var T=0,A=Object.values(Xo);T<A.length;T++)qc(D=A[T],m,x,v);else for(var R in m){var D,L=/^idb\:\/\/(.*)\/(.*)\//.exec(R);L&&(R=L[1],L=L[2],(D=Xo["idb://".concat(R,"/").concat(L)])&&qc(D,m,x,v))}x.forEach(function(z){return z()})}function qc(m,v,x,T){for(var A=[],R=0,D=Object.entries(m.queries.query);R<D.length;R++){for(var L=D[R],z=L[0],Y=[],j=0,V=L[1];j<V.length;j++){var re=V[j];iu(v,re.obsSet)?re.subscribers.forEach(function(Z){return x.add(Z)}):T&&Y.push(re)}T&&A.push([z,Y])}if(T)for(var G=0,W=A;G<W.length;G++){var oe=W[G],z=oe[0],Y=oe[1];m.queries.query[z]=Y}}function Rh(m){var v=m._state,x=m._deps.indexedDB;if(v.isBeingOpened||m.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?on(v.dbOpenError):m});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var T=v.openCanceller,A=Math.round(10*m.verno),R=!1;function D(){if(v.openCanceller!==T)throw new _e.DatabaseClosed("db.open() was cancelled")}function L(){return new Ve(function(re,G){if(D(),!x)throw new _e.MissingAPI;var W=m.name,oe=v.autoSchema||!A?x.open(W):x.open(W,A);if(!oe)throw new _e.MissingAPI;oe.onerror=xr(G),oe.onblocked=xt(m._fireOnBlocked),oe.onupgradeneeded=xt(function(Z){var le;j=oe.transaction,v.autoSchema&&!m._options.allowEmptyDB?(oe.onerror=$o,j.abort(),oe.result.close(),(le=x.deleteDatabase(W)).onsuccess=le.onerror=xt(function(){G(new _e.NoSuchDatabase("Database ".concat(W," doesnt exist")))})):(j.onerror=xr(G),Z=Z.oldVersion>Math.pow(2,62)?0:Z.oldVersion,V=Z<1,m.idbdb=oe.result,R&&_s(m,j),Na(m,Z/10,j,G))},G),oe.onsuccess=xt(function(){j=null;var Z,le,he,pe,xe,De=m.idbdb=oe.result,Le=P(De.objectStoreNames);if(0<Le.length)try{var Ne=De.transaction((pe=Le).length===1?pe[0]:pe,"readonly");if(v.autoSchema)le=De,he=Ne,(Z=m).verno=le.version/10,he=Z._dbSchema=Ui(0,le,he),Z._storeNames=P(le.objectStoreNames,0),bs(Z,[Z._allTables],c(he),he);else if(Ts(m,m._dbSchema,Ne),((xe=xs(Ui(0,(xe=m).idbdb,Ne),xe._dbSchema)).add.length||xe.change.some(function(Oe){return Oe.add.length||Oe.change.length}))&&!R)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),De.close(),A=De.version+1,R=!0,re(L());go(m,Ne)}catch{}eo.push(m),De.onversionchange=xt(function(Oe){v.vcFired=!0,m.on("versionchange").fire(Oe)}),De.onclose=xt(function(Oe){m.on("close").fire(Oe)}),V&&(xe=m._deps,Ne=W,De=xe.indexedDB,xe=xe.IDBKeyRange,Ss(De)||Ne===Fo||tu(De,xe).put({name:Ne}).catch(qe)),re()},G)}).catch(function(re){switch(re==null?void 0:re.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),L();break;case"VersionError":if(0<A)return A=0,L()}return Ve.reject(re)})}var z,Y=v.dbReadyResolve,j=null,V=!1;return Ve.race([T,(typeof navigator>"u"?Ve.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(re){function G(){return indexedDB.databases().finally(re)}z=setInterval(G,100),G()}).finally(function(){return clearInterval(z)}):Promise.resolve()).then(L)]).then(function(){return D(),v.onReadyBeingFired=[],Ve.resolve(nu(function(){return m.on.ready.fire(m.vip)})).then(function re(){if(0<v.onReadyBeingFired.length){var G=v.onReadyBeingFired.reduce(yr,qe);return v.onReadyBeingFired=[],Ve.resolve(nu(function(){return G(m.vip)})).then(re)}})}).finally(function(){v.openCanceller===T&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(re){v.dbOpenError=re;try{j&&j.abort()}catch{}return T===v.openCanceller&&m._close(),on(re)}).finally(function(){v.openComplete=!0,Y()}).then(function(){var re;return V&&(re={},m.tables.forEach(function(G){G.schema.indexes.forEach(function(W){W.name&&(re["idb://".concat(m.name,"/").concat(G.name,"/").concat(W.name)]=new Nn(-1/0,[[[]]]))}),re["idb://".concat(m.name,"/").concat(G.name,"/")]=re["idb://".concat(m.name,"/").concat(G.name,"/:dels")]=new Nn(-1/0,[[[]]])}),kn(Di).fire(re),lu(re,!0)),m})}function Da(m){function v(R){return m.next(R)}var x=A(v),T=A(function(R){return m.throw(R)});function A(R){return function(z){var L=R(z),z=L.value;return L.done?z:z&&typeof z.then=="function"?z.then(x,T):h(z)?Promise.all(z).then(x,T):x(z)}}return A(v)()}function yo(m,v,x){for(var T=h(m)?m.slice():[m],A=0;A<x;++A)T.push(v);return T}var Mh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(m){return r(r({},m),{table:function(v){var x=m.table(v),T=x.schema,A={},R=[];function D(V,re,G){var W=yn(V),oe=A[W]=A[W]||[],Z=V==null?0:typeof V=="string"?1:V.length,le=0<re,le=r(r({},G),{name:le?"".concat(W,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:le,keyTail:re,keyLength:Z,extractKey:Li(V),unique:!le&&G.unique});return oe.push(le),le.isPrimaryKey||R.push(le),1<Z&&D(Z===2?V[0]:V.slice(0,Z-1),re+1,G),oe.sort(function(he,pe){return he.keyTail-pe.keyTail}),le}v=D(T.primaryKey.keyPath,0,T.primaryKey),A[":id"]=[v];for(var L=0,z=T.indexes;L<z.length;L++){var Y=z[L];D(Y.keyPath,0,Y)}function j(V){var re,G=V.query.index;return G.isVirtual?r(r({},V),{query:{index:G.lowLevelIndex,range:(re=V.query.range,G=G.keyTail,{type:re.type===1?2:re.type,lower:yo(re.lower,re.lowerOpen?m.MAX_KEY:m.MIN_KEY,G),lowerOpen:!0,upper:yo(re.upper,re.upperOpen?m.MIN_KEY:m.MAX_KEY,G),upperOpen:!0})}}):V}return r(r({},x),{schema:r(r({},T),{primaryKey:v,indexes:R,getIndexByKeyPath:function(V){return(V=A[yn(V)])&&V[0]}}),count:function(V){return x.count(j(V))},query:function(V){return x.query(j(V))},openCursor:function(V){var re=V.query.index,G=re.keyTail,W=re.isVirtual,oe=re.keyLength;return W?x.openCursor(j(V)).then(function(le){return le&&Z(le)}):x.openCursor(V);function Z(le){return Object.create(le,{continue:{value:function(he){he!=null?le.continue(yo(he,V.reverse?m.MAX_KEY:m.MIN_KEY,G)):V.unique?le.continue(le.key.slice(0,oe).concat(V.reverse?m.MIN_KEY:m.MAX_KEY,G)):le.continue()}},continuePrimaryKey:{value:function(he,pe){le.continuePrimaryKey(yo(he,m.MAX_KEY,G),pe)}},primaryKey:{get:function(){return le.primaryKey}},key:{get:function(){var he=le.key;return oe===1?he[0]:he.slice(0,oe)}},value:{get:function(){return le.value}}})}}})}})}};function Ms(m,v,x,T){return x=x||{},T=T||"",c(m).forEach(function(A){var R,D,L;w(v,A)?(R=m[A],D=v[A],typeof R=="object"&&typeof D=="object"&&R&&D?(L=Me(R))!==Me(D)?x[T+A]=v[A]:L==="Object"?Ms(R,D,x,T+A+"."):R!==D&&(x[T+A]=v[A]):R!==D&&(x[T+A]=v[A])):x[T+A]=void 0}),c(v).forEach(function(A){w(m,A)||(x[T+A]=v[A])}),x}function ks(m,v){return v.type==="delete"?v.keys:v.keys||v.values.map(m.extractKey)}var Gc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(m){return r(r({},m),{table:function(v){var x=m.table(v),T=x.schema.primaryKey;return r(r({},x),{mutate:function(A){var R=Xe.trans,D=R.table(v).hook,L=D.deleting,z=D.creating,Y=D.updating;switch(A.type){case"add":if(z.fire===qe)break;return R._promise("readwrite",function(){return j(A)},!0);case"put":if(z.fire===qe&&Y.fire===qe)break;return R._promise("readwrite",function(){return j(A)},!0);case"delete":if(L.fire===qe)break;return R._promise("readwrite",function(){return j(A)},!0);case"deleteRange":if(L.fire===qe)break;return R._promise("readwrite",function(){return function V(re,G,W){return x.query({trans:re,values:!1,query:{index:T,range:G},limit:W}).then(function(oe){var Z=oe.result;return j({type:"delete",keys:Z,trans:re}).then(function(le){return 0<le.numFailures?Promise.reject(le.failures[0]):Z.length<W?{failures:[],numFailures:0,lastResult:void 0}:V(re,r(r({},G),{lower:Z[Z.length-1],lowerOpen:!0}),W)})})}(A.trans,A.range,1e4)},!0)}return x.mutate(A);function j(V){var re,G,W,oe=Xe.trans,Z=V.keys||ks(T,V);if(!Z)throw new Error("Keys missing");return(V=V.type==="add"||V.type==="put"?r(r({},V),{keys:Z}):r({},V)).type!=="delete"&&(V.values=a([],V.values)),V.keys&&(V.keys=a([],V.keys)),re=x,W=Z,((G=V).type==="add"?Promise.resolve([]):re.getMany({trans:G.trans,keys:W,cache:"immutable"})).then(function(le){var he=Z.map(function(pe,xe){var De,Le,Ne,Oe=le[xe],Ue={onerror:null,onsuccess:null};return V.type==="delete"?L.fire.call(Ue,pe,Oe,oe):V.type==="add"||Oe===void 0?(De=z.fire.call(Ue,pe,V.values[xe],oe),pe==null&&De!=null&&(V.keys[xe]=pe=De,T.outbound||H(V.values[xe],T.keyPath,pe))):(De=Ms(Oe,V.values[xe]),(Le=Y.fire.call(Ue,De,pe,Oe,oe))&&(Ne=V.values[xe],Object.keys(Le).forEach(function(Ie){w(Ne,Ie)?Ne[Ie]=Le[Ie]:H(Ne,Ie,Le[Ie])}))),Ue});return x.mutate(V).then(function(pe){for(var xe=pe.failures,De=pe.results,Le=pe.numFailures,pe=pe.lastResult,Ne=0;Ne<Z.length;++Ne){var Oe=(De||Z)[Ne],Ue=he[Ne];Oe==null?Ue.onerror&&Ue.onerror(xe[Ne]):Ue.onsuccess&&Ue.onsuccess(V.type==="put"&&le[Ne]?V.values[Ne]:Oe)}return{failures:xe,results:De,numFailures:Le,lastResult:pe}}).catch(function(pe){return he.forEach(function(xe){return xe.onerror&&xe.onerror(pe)}),Promise.reject(pe)})})}}})}})}};function uu(m,v,x){try{if(!v||v.keys.length<m.length)return null;for(var T=[],A=0,R=0;A<v.keys.length&&R<m.length;++A)Ct(v.keys[A],m[R])===0&&(T.push(x?Ee(v.values[A]):v.values[A]),++R);return T.length===m.length?T:null}catch{return null}}var zc={stack:"dbcore",level:-1,create:function(m){return{table:function(v){var x=m.table(v);return r(r({},x),{getMany:function(T){if(!T.cache)return x.getMany(T);var A=uu(T.keys,T.trans._cache,T.cache==="clone");return A?Ve.resolve(A):x.getMany(T).then(function(R){return T.trans._cache={keys:T.keys,values:T.cache==="clone"?Ee(R):R},R})},mutate:function(T){return T.type!=="add"&&(T.trans._cache=null),x.mutate(T)}})}}}};function Zo(m,v){return m.trans.mode==="readonly"&&!!m.subscr&&!m.trans.explicit&&m.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function Kc(m,v){switch(m){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var kh={stack:"dbcore",level:0,name:"Observability",create:function(m){var v=m.schema.name,x=new Nn(m.MIN_KEY,m.MAX_KEY);return r(r({},m),{transaction:function(T,A,R){if(Xe.subscr&&A!=="readonly")throw new _e.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Xe.querier));return m.transaction(T,A,R)},table:function(T){var A=m.table(T),R=A.schema,D=R.primaryKey,V=R.indexes,L=D.extractKey,z=D.outbound,Y=D.autoIncrement&&V.filter(function(G){return G.compound&&G.keyPath.includes(D.keyPath)}),j=r(r({},A),{mutate:function(G){function W(Ie){return Ie="idb://".concat(v,"/").concat(T,"/").concat(Ie),pe[Ie]||(pe[Ie]=new Nn)}var oe,Z,le,he=G.trans,pe=G.mutatedParts||(G.mutatedParts={}),xe=W(""),De=W(":dels"),Le=G.type,Ue=G.type==="deleteRange"?[G.range]:G.type==="delete"?[G.keys]:G.values.length<50?[ks(D,G).filter(function(Ie){return Ie}),G.values]:[],Ne=Ue[0],Oe=Ue[1],Ue=G.trans._cache;return h(Ne)?(xe.addKeys(Ne),(Ue=Le==="delete"||Ne.length===Oe.length?uu(Ne,Ue):null)||De.addKeys(Ne),(Ue||Oe)&&(oe=W,Z=Ue,le=Oe,R.indexes.forEach(function(Ie){var Ke=oe(Ie.name||"");function je(pt){return pt!=null?Ie.extractKey(pt):null}function ot(pt){return Ie.multiEntry&&h(pt)?pt.forEach(function(qn){return Ke.addKey(qn)}):Ke.addKey(pt)}(Z||le).forEach(function(pt,hn){var lt=Z&&je(Z[hn]),hn=le&&je(le[hn]);Ct(lt,hn)!==0&&(lt!=null&&ot(lt),hn!=null&&ot(hn))})}))):Ne?(Oe={from:(Oe=Ne.lower)!==null&&Oe!==void 0?Oe:m.MIN_KEY,to:(Oe=Ne.upper)!==null&&Oe!==void 0?Oe:m.MAX_KEY},De.add(Oe),xe.add(Oe)):(xe.add(x),De.add(x),R.indexes.forEach(function(Ie){return W(Ie.name).add(x)})),A.mutate(G).then(function(Ie){return!Ne||G.type!=="add"&&G.type!=="put"||(xe.addKeys(Ie.results),Y&&Y.forEach(function(Ke){for(var je=G.values.map(function(lt){return Ke.extractKey(lt)}),ot=Ke.keyPath.findIndex(function(lt){return lt===D.keyPath}),pt=0,qn=Ie.results.length;pt<qn;++pt)je[pt][ot]=Ie.results[pt];W(Ke.name).addKeys(je)})),he.mutatedParts=As(he.mutatedParts||{},pe),Ie})}}),V=function(W){var oe=W.query,W=oe.index,oe=oe.range;return[W,new Nn((W=oe.lower)!==null&&W!==void 0?W:m.MIN_KEY,(oe=oe.upper)!==null&&oe!==void 0?oe:m.MAX_KEY)]},re={get:function(G){return[D,new Nn(G.key)]},getMany:function(G){return[D,new Nn().addKeys(G.keys)]},count:V,query:V,openCursor:V};return c(re).forEach(function(G){j[G]=function(W){var oe=Xe.subscr,Z=!!oe,le=Zo(Xe,A)&&Kc(G,W)?W.obsSet={}:oe;if(Z){var he=function(Oe){return Oe="idb://".concat(v,"/").concat(T,"/").concat(Oe),le[Oe]||(le[Oe]=new Nn)},pe=he(""),xe=he(":dels"),oe=re[G](W),Z=oe[0],oe=oe[1];if((G==="query"&&Z.isPrimaryKey&&!W.values?xe:he(Z.name||"")).add(oe),!Z.isPrimaryKey){if(G!=="count"){var De=G==="query"&&z&&W.values&&A.query(r(r({},W),{values:!1}));return A[G].apply(this,arguments).then(function(Oe){if(G==="query"){if(z&&W.values)return De.then(function(je){return je=je.result,pe.addKeys(je),Oe});var Ue=W.values?Oe.result.map(L):Oe.result;(W.values?pe:xe).addKeys(Ue)}else if(G==="openCursor"){var Ie=Oe,Ke=W.values;return Ie&&Object.create(Ie,{key:{get:function(){return xe.addKey(Ie.primaryKey),Ie.key}},primaryKey:{get:function(){var je=Ie.primaryKey;return xe.addKey(je),je}},value:{get:function(){return Ke&&pe.addKey(Ie.primaryKey),Ie.value}}})}return Oe})}xe.add(x)}}return A[G].apply(this,arguments)}}),j}})}};function $c(m,v,x){if(x.numFailures===0)return v;if(v.type==="deleteRange")return null;var T=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return x.numFailures===T?null:(v=r({},v),h(v.keys)&&(v.keys=v.keys.filter(function(A,R){return!(R in x.failures)})),"values"in v&&h(v.values)&&(v.values=v.values.filter(function(A,R){return!(R in x.failures)})),v)}function Ns(m,v){return x=m,((T=v).lower===void 0||(T.lowerOpen?0<Ct(x,T.lower):0<=Ct(x,T.lower)))&&(m=m,(v=v).upper===void 0||(v.upperOpen?Ct(m,v.upper)<0:Ct(m,v.upper)<=0));var x,T}function cu(m,v,re,T,A,R){if(!re||re.length===0)return m;var D=v.query.index,L=D.multiEntry,z=v.query.range,Y=T.schema.primaryKey.extractKey,j=D.extractKey,V=(D.lowLevelIndex||D).extractKey,re=re.reduce(function(G,W){var oe=G,Z=[];if(W.type==="add"||W.type==="put")for(var le=new Nn,he=W.values.length-1;0<=he;--he){var pe,xe=W.values[he],De=Y(xe);le.hasKey(De)||(pe=j(xe),(L&&h(pe)?pe.some(function(Ie){return Ns(Ie,z)}):Ns(pe,z))&&(le.addKey(De),Z.push(xe)))}switch(W.type){case"add":var Le=new Nn().addKeys(v.values?G.map(function(Ke){return Y(Ke)}):G),oe=G.concat(v.values?Z.filter(function(Ke){return Ke=Y(Ke),!Le.hasKey(Ke)&&(Le.addKey(Ke),!0)}):Z.map(function(Ke){return Y(Ke)}).filter(function(Ke){return!Le.hasKey(Ke)&&(Le.addKey(Ke),!0)}));break;case"put":var Ne=new Nn().addKeys(W.values.map(function(Ke){return Y(Ke)}));oe=G.filter(function(Ke){return!Ne.hasKey(v.values?Y(Ke):Ke)}).concat(v.values?Z:Z.map(function(Ke){return Y(Ke)}));break;case"delete":var Oe=new Nn().addKeys(W.keys);oe=G.filter(function(Ke){return!Oe.hasKey(v.values?Y(Ke):Ke)});break;case"deleteRange":var Ue=W.range;oe=G.filter(function(Ke){return!Ns(Y(Ke),Ue)})}return oe},m);return re===m?m:(re.sort(function(G,W){return Ct(V(G),V(W))||Ct(Y(G),Y(W))}),v.limit&&v.limit<1/0&&(re.length>v.limit?re.length=v.limit:m.length===v.limit&&re.length<v.limit&&(A.dirty=!0)),R?Object.freeze(re):re)}function Bi(m,v){return Ct(m.lower,v.lower)===0&&Ct(m.upper,v.upper)===0&&!!m.lowerOpen==!!v.lowerOpen&&!!m.upperOpen==!!v.upperOpen}function Oa(m,v){return function(x,T,A,R){if(x===void 0)return T!==void 0?-1:0;if(T===void 0)return 1;if((T=Ct(x,T))===0){if(A&&R)return 0;if(A)return 1;if(R)return-1}return T}(m.lower,v.lower,m.lowerOpen,v.lowerOpen)<=0&&0<=function(x,T,A,R){if(x===void 0)return T!==void 0?1:0;if(T===void 0)return-1;if((T=Ct(x,T))===0){if(A&&R)return 0;if(A)return-1;if(R)return 1}return T}(m.upper,v.upper,m.upperOpen,v.upperOpen)}function Nh(m,v,x,T){m.subscribers.add(x),T.addEventListener("abort",function(){var A,R;m.subscribers.delete(x),m.subscribers.size===0&&(A=m,R=v,setTimeout(function(){A.subscribers.size===0&&ae(R,A)},3e3))})}var Is={stack:"dbcore",level:0,name:"Cache",create:function(m){var v=m.schema.name;return r(r({},m),{transaction:function(x,T,A){var R,D,L=m.transaction(x,T,A);return T==="readwrite"&&(D=(R=new AbortController).signal,A=function(z){return function(){if(R.abort(),T==="readwrite"){for(var Y=new Set,j=0,V=x;j<V.length;j++){var re=V[j],G=Xo["idb://".concat(v,"/").concat(re)];if(G){var W=m.table(re),oe=G.optimisticOps.filter(function(Ke){return Ke.trans===L});if(L._explicit&&z&&L.mutatedParts)for(var Z=0,le=Object.values(G.queries.query);Z<le.length;Z++)for(var he=0,pe=(Le=le[Z]).slice();he<pe.length;he++)iu((Ne=pe[he]).obsSet,L.mutatedParts)&&(ae(Le,Ne),Ne.subscribers.forEach(function(Ke){return Y.add(Ke)}));else if(0<oe.length){G.optimisticOps=G.optimisticOps.filter(function(Ke){return Ke.trans!==L});for(var xe=0,De=Object.values(G.queries.query);xe<De.length;xe++)for(var Le,Ne,Oe,Ue=0,Ie=(Le=De[xe]).slice();Ue<Ie.length;Ue++)(Ne=Ie[Ue]).res!=null&&L.mutatedParts&&(z&&!Ne.dirty?(Oe=Object.isFrozen(Ne.res),Oe=cu(Ne.res,Ne.req,oe,W,Ne,Oe),Ne.dirty?(ae(Le,Ne),Ne.subscribers.forEach(function(Ke){return Y.add(Ke)})):Oe!==Ne.res&&(Ne.res=Oe,Ne.promise=Ve.resolve({result:Oe}))):(Ne.dirty&&ae(Le,Ne),Ne.subscribers.forEach(function(Ke){return Y.add(Ke)})))}}}Y.forEach(function(Ke){return Ke()})}}},L.addEventListener("abort",A(!1),{signal:D}),L.addEventListener("error",A(!1),{signal:D}),L.addEventListener("complete",A(!0),{signal:D})),L},table:function(x){var T=m.table(x),A=T.schema.primaryKey;return r(r({},T),{mutate:function(R){var D=Xe.trans;if(A.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return T.mutate(R);var L=Xo["idb://".concat(v,"/").concat(x)];return L?(D=T.mutate(R),R.type!=="add"&&R.type!=="put"||!(50<=R.values.length||ks(A,R).some(function(z){return z==null}))?(L.optimisticOps.push(R),R.mutatedParts&&Rs(R.mutatedParts),D.then(function(z){0<z.numFailures&&(ae(L.optimisticOps,R),(z=$c(0,R,z))&&L.optimisticOps.push(z),R.mutatedParts&&Rs(R.mutatedParts))}),D.catch(function(){ae(L.optimisticOps,R),R.mutatedParts&&Rs(R.mutatedParts)})):D.then(function(z){var Y=$c(0,r(r({},R),{values:R.values.map(function(j,V){var re;return z.failures[V]?j:(j=(re=A.keyPath)!==null&&re!==void 0&&re.includes(".")?Ee(j):r({},j),H(j,A.keyPath,z.results[V]),j)})}),z);L.optimisticOps.push(Y),queueMicrotask(function(){return R.mutatedParts&&Rs(R.mutatedParts)})}),D):T.mutate(R)},query:function(R){if(!Zo(Xe,T)||!Kc("query",R))return T.query(R);var D=((Y=Xe.trans)===null||Y===void 0?void 0:Y.db._options.cache)==="immutable",V=Xe,L=V.requery,z=V.signal,Y=function(W,oe,Z,le){var he=Xo["idb://".concat(W,"/").concat(oe)];if(!he)return[];if(!(oe=he.queries[Z]))return[null,!1,he,null];var pe=oe[(le.query?le.query.index.name:null)||""];if(!pe)return[null,!1,he,null];switch(Z){case"query":var xe=pe.find(function(De){return De.req.limit===le.limit&&De.req.values===le.values&&Bi(De.req.query.range,le.query.range)});return xe?[xe,!0,he,pe]:[pe.find(function(De){return("limit"in De.req?De.req.limit:1/0)>=le.limit&&(!le.values||De.req.values)&&Oa(De.req.query.range,le.query.range)}),!1,he,pe];case"count":return xe=pe.find(function(De){return Bi(De.req.query.range,le.query.range)}),[xe,!!xe,he,pe]}}(v,x,"query",R),j=Y[0],V=Y[1],re=Y[2],G=Y[3];return j&&V?j.obsSet=R.obsSet:(V=T.query(R).then(function(W){var oe=W.result;if(j&&(j.res=oe),D){for(var Z=0,le=oe.length;Z<le;++Z)Object.freeze(oe[Z]);Object.freeze(oe)}else W.result=Ee(oe);return W}).catch(function(W){return G&&j&&ae(G,j),Promise.reject(W)}),j={obsSet:R.obsSet,promise:V,subscribers:new Set,type:"query",req:R,dirty:!1},G?G.push(j):(G=[j],(re=re||(Xo["idb://".concat(v,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[R.query.index.name||""]=G)),Nh(j,G,L,z),j.promise.then(function(W){return{result:cu(W.result,R,re==null?void 0:re.optimisticOps,T,j,D)}})}})}})}};function Pa(m,v){return new Proxy(m,{get:function(x,T,A){return T==="db"?v:Reflect.get(x,T,A)}})}var Br=(jt.prototype.version=function(m){if(isNaN(m)||m<.1)throw new _e.Type("Given version is not a positive number");if(m=Math.round(10*m)/10,this.idbdb||this._state.isBeingOpened)throw new _e.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,m);var v=this._versions,x=v.filter(function(T){return T._cfg.version===m})[0];return x||(x=new this.Version(m),v.push(x),v.sort(jl),x.stores({}),this._state.autoSchema=!1,x)},jt.prototype._whenReady=function(m){var v=this;return this.idbdb&&(this._state.openComplete||Xe.letThrough||this._vip)?m():new Ve(function(x,T){if(v._state.openComplete)return T(new _e.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void T(new _e.DatabaseClosed);v.open().catch(qe)}v._state.dbReadyPromise.then(x,T)}).then(m)},jt.prototype.use=function(m){var v=m.stack,x=m.create,T=m.level,A=m.name;return A&&this.unuse({stack:v,name:A}),m=this._middlewares[v]||(this._middlewares[v]=[]),m.push({stack:v,create:x,level:T??10,name:A}),m.sort(function(R,D){return R.level-D.level}),this},jt.prototype.unuse=function(m){var v=m.stack,x=m.name,T=m.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(A){return T?A.create!==T:!!x&&A.name!==x})),this},jt.prototype.open=function(){var m=this;return uo(Yn,function(){return Rh(m)})},jt.prototype._close=function(){var m=this._state,v=eo.indexOf(this);if(0<=v&&eo.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}m.isBeingOpened||(m.dbReadyPromise=new Ve(function(x){m.dbReadyResolve=x}),m.openCanceller=new Ve(function(x,T){m.cancelOpen=T}))},jt.prototype.close=function(x){var v=(x===void 0?{disableAutoOpen:!0}:x).disableAutoOpen,x=this._state;v?(x.isBeingOpened&&x.cancelOpen(new _e.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new _e.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},jt.prototype.delete=function(m){var v=this;m===void 0&&(m={disableAutoOpen:!0});var x=0<arguments.length&&typeof arguments[0]!="object",T=this._state;return new Ve(function(A,R){function D(){v.close(m);var L=v._deps.indexedDB.deleteDatabase(v.name);L.onsuccess=xt(function(){var z,Y,j;z=v._deps,Y=v.name,j=z.indexedDB,z=z.IDBKeyRange,Ss(j)||Y===Fo||tu(j,z).delete(Y).catch(qe),A()}),L.onerror=xr(R),L.onblocked=v._fireOnBlocked}if(x)throw new _e.InvalidArgument("Invalid closeOptions argument to db.delete()");T.isBeingOpened?T.dbReadyPromise.then(D):D()})},jt.prototype.backendDB=function(){return this.idbdb},jt.prototype.isOpen=function(){return this.idbdb!==null},jt.prototype.hasBeenClosed=function(){var m=this._state.dbOpenError;return m&&m.name==="DatabaseClosed"},jt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},jt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(jt.prototype,"tables",{get:function(){var m=this;return c(this._allTables).map(function(v){return m._allTables[v]})},enumerable:!1,configurable:!0}),jt.prototype.transaction=function(){var m=(function(v,x,T){var A=arguments.length;if(A<2)throw new _e.InvalidArgument("Too few arguments");for(var R=new Array(A-1);--A;)R[A-1]=arguments[A];return T=R.pop(),[v,ye(R),T]}).apply(this,arguments);return this._transaction.apply(this,m)},jt.prototype._transaction=function(m,v,x){var T=this,A=Xe.trans;A&&A.db===this&&m.indexOf("!")===-1||(A=null);var R,D,L=m.indexOf("?")!==-1;m=m.replace("!","").replace("?","");try{if(D=v.map(function(Y){if(Y=Y instanceof T.Table?Y.name:Y,typeof Y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Y}),m=="r"||m===_r)R=_r;else{if(m!="rw"&&m!=Ra)throw new _e.InvalidArgument("Invalid transaction mode: "+m);R=Ra}if(A){if(A.mode===_r&&R===Ra){if(!L)throw new _e.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&D.forEach(function(Y){if(A&&A.storeNames.indexOf(Y)===-1){if(!L)throw new _e.SubTransaction("Table "+Y+" not included in parent transaction.");A=null}}),L&&A&&!A.active&&(A=null)}}catch(Y){return A?A._promise(null,function(j,V){V(Y)}):on(Y)}var z=(function Y(j,V,re,G,W){return Ve.resolve().then(function(){var oe=Xe.transless||Xe,Z=j._createTransaction(V,re,j._dbSchema,G);if(Z.explicit=!0,oe={trans:Z,transless:oe},G)Z.idbtrans=G.idbtrans;else try{Z.create(),Z.idbtrans._explicit=!0,j._state.PR1398_maxLoop=3}catch(pe){return pe.name===yt.InvalidState&&j.isOpen()&&0<--j._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),j.close({disableAutoOpen:!1}),j.open().then(function(){return Y(j,V,re,null,W)})):on(pe)}var le,he=Q(W);return he&&br(),oe=Ve.follow(function(){var pe;(le=W.call(Z,Z))&&(he?(pe=nr.bind(null,null),le.then(pe,pe)):typeof le.next=="function"&&typeof le.throw=="function"&&(le=Da(le)))},oe),(le&&typeof le.then=="function"?Ve.resolve(le).then(function(pe){return Z.active?pe:on(new _e.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):oe.then(function(){return le})).then(function(pe){return G&&Z._resolve(),Z._completion.then(function(){return pe})}).catch(function(pe){return Z._reject(pe),on(pe)})})}).bind(null,this,R,D,A,x);return A?A._promise(R,z,"lock"):Xe.trans?uo(Xe.transless,function(){return T._whenReady(z)}):this._whenReady(z)},jt.prototype.table=function(m){if(!w(this._allTables,m))throw new _e.InvalidTable("Table ".concat(m," does not exist"));return this._allTables[m]},jt);function jt(m,v){var x=this;this._middlewares={},this.verno=0;var T=jt.dependencies;this._options=v=r({addons:jt.addons,autoOpen:!0,indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},T=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,R,D,L,z,Y={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:qe,dbReadyPromise:null,cancelOpen:qe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};Y.dbReadyPromise=new Ve(function(V){Y.dbReadyResolve=V}),Y.openCanceller=new Ve(function(V,re){Y.cancelOpen=re}),this._state=Y,this.name=m,this.on=po(this,"populate","blocked","versionchange","close",{ready:[yr,qe]}),this.on.ready.subscribe=q(this.on.ready.subscribe,function(V){return function(re,G){jt.vip(function(){var W,oe=x._state;oe.openComplete?(oe.dbOpenError||Ve.resolve().then(re),G&&V(re)):oe.onReadyBeingFired?(oe.onReadyBeingFired.push(re),G&&V(re)):(V(re),W=x,G||V(function Z(){W.on.ready.unsubscribe(re),W.on.ready.unsubscribe(Z)}))})}}),this.Collection=(A=this,Ai(Ni.prototype,function(le,Z){this.db=A;var G=qo,W=null;if(Z)try{G=Z()}catch(he){W=he}var oe=le._ctx,Z=oe.table,le=Z.hook.reading.fire;this._ctx={table:Z,index:oe.index,isPrimKey:!oe.index||Z.schema.primKey.keyPath&&oe.index===Z.schema.primKey.name,range:G,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:W,or:oe.or,valueMapper:le!==Dt?le:null}})),this.Table=(R=this,Ai(Yl.prototype,function(V,re,G){this.db=R,this._tx=G,this.name=V,this.schema=re,this.hook=R._allTables[V]?R._allTables[V].hook:po(null,{creating:[tr,qe],reading:[ln,Dt],updating:[Wr,qe],deleting:[Ft,qe]})})),this.Transaction=(D=this,Ai(Wl.prototype,function(V,re,G,W,oe){var Z=this;this.db=D,this.mode=V,this.storeNames=re,this.schema=G,this.chromeTransactionDurability=W,this.idbtrans=null,this.on=po(this,"complete","error","abort"),this.parent=oe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ve(function(le,he){Z._resolve=le,Z._reject=he}),this._completion.then(function(){Z.active=!1,Z.on.complete.fire()},function(le){var he=Z.active;return Z.active=!1,Z.on.error.fire(le),Z.parent?Z.parent._reject(le):he&&Z.idbtrans&&Z.idbtrans.abort(),on(le)})})),this.Version=(L=this,Ai(Ah.prototype,function(V){this.db=L,this._cfg={version:V,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(z=this,Ai(Ko.prototype,function(V,re,G){if(this.db=z,this._ctx={table:V,index:re===":id"?null:re,or:G},this._cmp=this._ascending=Ct,this._descending=function(W,oe){return Ct(oe,W)},this._max=function(W,oe){return 0<Ct(W,oe)?W:oe},this._min=function(W,oe){return Ct(W,oe)<0?W:oe},this._IDBKeyRange=z._deps.IDBKeyRange,!this._IDBKeyRange)throw new _e.MissingAPI})),this.on("versionchange",function(V){0<V.newVersion?console.warn("Another connection wants to upgrade database '".concat(x.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(x.name,"'. Closing db now to resume the delete request.")),x.close({disableAutoOpen:!1})}),this.on("blocked",function(V){!V.newVersion||V.newVersion<V.oldVersion?console.warn("Dexie.delete('".concat(x.name,"') was blocked")):console.warn("Upgrade '".concat(x.name,"' blocked by other connection holding version ").concat(V.oldVersion/10))}),this._maxKey=Pi(v.IDBKeyRange),this._createTransaction=function(V,re,G,W){return new x.Transaction(V,re,G,x._options.chromeTransactionDurability,W)},this._fireOnBlocked=function(V){x.on("blocked").fire(V),eo.filter(function(re){return re.name===x.name&&re!==x&&!re._state.vcFired}).map(function(re){return re.on("versionchange").fire(V)})},this.use(zc),this.use(Is),this.use(kh),this.use(Mh),this.use(Gc);var j=new Proxy(this,{get:function(V,re,G){if(re==="_vip")return!0;if(re==="table")return function(oe){return Pa(x.table(oe),j)};var W=Reflect.get(V,re,G);return W instanceof Yl?Pa(W,j):re==="tables"?W.map(function(oe){return Pa(oe,j)}):re==="_createTransaction"?function(){return Pa(W.apply(this,arguments),j)}:W}});this.vip=j,T.forEach(function(V){return V(x)})}var Vi,ir=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Hc=(Ds.prototype.subscribe=function(m,v,x){return this._subscribe(m&&typeof m!="function"?m:{next:m,error:v,complete:x})},Ds.prototype[ir]=function(){return this},Ds);function Ds(m){this._subscribe=m}try{Vi={indexedDB:l.indexedDB||l.mozIndexedDB||l.webkitIndexedDB||l.msIndexedDB,IDBKeyRange:l.IDBKeyRange||l.webkitIDBKeyRange}}catch{Vi={indexedDB:null,IDBKeyRange:null}}function Yc(m){var v,x=!1,T=new Hc(function(A){var R=Q(m),D,L=!1,z={},Y={},j={get closed(){return L},unsubscribe:function(){L||(L=!0,D&&D.abort(),V&&kn.storagemutated.unsubscribe(G))}};A.start&&A.start(j);var V=!1,re=function(){return fo(W)},G=function(oe){As(z,oe),iu(Y,z)&&re()},W=function(){var oe,Z,le;!L&&Vi.indexedDB&&(z={},oe={},D&&D.abort(),D=new AbortController,le=function(he){var pe=Vo();try{R&&br();var xe=Or(m,he);return xe=R?xe.finally(nr):xe}finally{pe&&Ci()}}(Z={subscr:oe,signal:D.signal,requery:re,querier:m,trans:null}),Promise.resolve(le).then(function(he){x=!0,v=he,L||Z.signal.aborted||(z={},function(pe){for(var xe in pe)if(w(pe,xe))return;return 1}(Y=oe)||V||(kn(Di,G),V=!0),fo(function(){return!L&&A.next&&A.next(he)}))},function(he){x=!1,["DatabaseClosedError","AbortError"].includes(he==null?void 0:he.name)||L||fo(function(){L||A.error&&A.error(he)})}))};return setTimeout(re,0),j});return T.hasValue=function(){return x},T.getValue=function(){return v},T}var Qo=Br;function fu(m){var v=vo;try{vo=!0,kn.storagemutated.fire(m),lu(m,!0)}finally{vo=v}}C(Qo,r(r({},et),{delete:function(m){return new Qo(m,{addons:[]}).delete()},exists:function(m){return new Qo(m,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(m){try{return v=Qo.dependencies,x=v.indexedDB,v=v.IDBKeyRange,(Ss(x)?Promise.resolve(x.databases()).then(function(T){return T.map(function(A){return A.name}).filter(function(A){return A!==Fo})}):tu(x,v).toCollection().primaryKeys()).then(m)}catch{return on(new _e.MissingAPI)}var v,x},defineClass:function(){return function(m){y(this,m)}},ignoreTransaction:function(m){return Xe.trans?uo(Xe.transless,m):m()},vip:nu,async:function(m){return function(){try{var v=Da(m.apply(this,arguments));return v&&typeof v.then=="function"?v:Ve.resolve(v)}catch(x){return on(x)}}},spawn:function(m,v,x){try{var T=Da(m.apply(x,v||[]));return T&&typeof T.then=="function"?T:Ve.resolve(T)}catch(A){return on(A)}},currentTransaction:{get:function(){return Xe.trans||null}},waitFor:function(m,v){return v=Ve.resolve(typeof m=="function"?Qo.ignoreTransaction(m):m).timeout(v||6e4),Xe.trans?Xe.trans.waitFor(v):v},Promise:Ve,debug:{get:function(){return rn},set:function(m){wa(m)}},derive:N,extend:y,props:C,override:q,Events:po,on:kn,liveQuery:Yc,extendObservabilitySet:As,getByKeyPath:ge,setByKeyPath:H,delByKeyPath:function(m,v){typeof v=="string"?H(m,v,void 0):"length"in v&&[].map.call(v,function(x){H(m,x,void 0)})},shallowClone:be,deepClone:Ee,getObjectDiff:Ms,cmp:Ct,asap:ee,minKey:-1/0,addons:[],connections:eo,errnames:yt,dependencies:Vi,cache:Xo,semVer:"4.0.11",version:"4.0.11".split(".").map(function(m){return parseInt(m)}).reduce(function(m,v,x){return m+v/Math.pow(10,2*x)})})),Qo.maxKey=Pi(Qo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kn(Di,function(m){vo||(m=new CustomEvent(Ho,{detail:m}),vo=!0,dispatchEvent(m),vo=!1)}),addEventListener(Ho,function(m){m=m.detail,vo||fu(m)}));var Fi,vo=!1,Zn=function(){};return typeof BroadcastChannel<"u"&&((Zn=function(){(Fi=new BroadcastChannel(Ho)).onmessage=function(m){return m.data&&fu(m.data)}})(),typeof Fi.unref=="function"&&Fi.unref(),kn(Di,function(m){vo||Fi.postMessage(m)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(m){if(!Br.disableBfCache&&m.persisted){rn&&console.debug("Dexie: handling persisted pagehide"),Fi!=null&&Fi.close();for(var v=0,x=eo;v<x.length;v++)x[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(m){!Br.disableBfCache&&m.persisted&&(rn&&console.debug("Dexie: handling persisted pageshow"),Zn(),fu({all:new Nn(-1/0,[[]])}))})),Ve.rejectionMapper=function(m,v){return!m||m instanceof ke||m instanceof TypeError||m instanceof SyntaxError||!m.name||!st[m.name]?m:(v=new st[m.name](v||m.message,m),"stack"in m&&k(v,"stack",{get:function(){return this.inner.stack}}),v)},wa(rn),r(Br,Object.freeze({__proto__:null,Dexie:Br,liveQuery:Yc,Entity:ms,cmp:Ct,PropModification:ki,replacePrefix:function(m,v){return new ki({replacePrefix:[m,v]})},add:function(m){return new ki({add:m})},remove:function(m){return new ki({remove:m})},default:Br,RangeSet:Nn,mergeRanges:Jo,rangesOverlap:Vc}),{default:Br}),Br})}(cd)),cd.exports}var Lk=Pk();const sg=Ew(Lk),C_=Symbol.for("Dexie"),Ld=globalThis[C_]||(globalThis[C_]=sg);if(sg.semVer!==Ld.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${sg.semVer} and ${Ld.semVer}`);const{liveQuery:YB,mergeRanges:JB,rangesOverlap:XB,RangeSet:ZB,cmp:QB,Entity:WB,PropModification:jB,replacePrefix:eV,add:tV,remove:nV}=Ld,Bn="openai",Vn="google-ai",Nr="ollama-ai",Rn="openrouter",S_="ttinteractive_chats";class Uk extends Ld{constructor(){super("TTInteractiveDB");Xu(this,"chats");Xu(this,"messages");Xu(this,"characters");Xu(this,"apiKeys");this.version(1).stores({chats:"id, title, characterName, *messages",messages:"id, chatId, sender, *text, [id+chatId]",characters:"id, name, isOriginal",apiKeys:"id, provider, isActive"})}}const tt=new Uk;class Kt{static async getAllChats(){try{const e=await tt.chats.toArray();return await Promise.all(e.map(async r=>{const a=await tt.messages.where("chatId").equals(r.id).toArray();return{...r,messages:a.map(l=>{const{chatId:c,...h}=l;return h})}}))}catch(e){return console.error("Error loading chats from IndexedDB:",e),[]}}static async getChatById(e){try{const n=await tt.chats.get(e);if(!n)return null;const r=await tt.messages.where("chatId").equals(e).toArray();return{...n,messages:r.map(a=>{const{chatId:l,...c}=a;return c})}}catch(n){return console.error("Error loading chat from IndexedDB:",n),null}}static async saveChat(e){try{await tt.transaction("rw",tt.chats,tt.messages,async()=>{const{messages:n,...r}=e;if(await tt.chats.put(r),n&&n.length>0){const a=n.map(l=>({...l,chatId:e.id}));await tt.messages.bulkPut(a)}})}catch(n){throw console.error("Error saving chat to IndexedDB:",n),n}}static async saveChats(e){try{await tt.transaction("rw",tt.chats,tt.messages,async()=>{await tt.chats.clear(),await tt.messages.clear();for(const n of e)await this.saveChat(n)})}catch(n){throw console.error("Error saving chats to IndexedDB:",n),n}}static async deleteChat(e){try{await tt.transaction("rw",tt.chats,tt.messages,async()=>{await tt.chats.delete(e),await tt.messages.where("chatId").equals(e).delete()})}catch(n){throw console.error("Error deleting chat from IndexedDB:",n),n}}static async updateChat(e,n){try{await tt.chats.update(e,n)}catch(r){throw console.error("Error updating chat in IndexedDB:",r),r}}static async addMessage(e,n){try{await tt.messages.put({...n,chatId:e})}catch(r){throw console.error("Error adding message to IndexedDB:",r),r}}static async updateMessage(e,n,r){try{const a=await tt.messages.where("[id+chatId]").equals([n,e]).first();a&&await tt.messages.update(a.id,r)}catch(a){throw console.error("Error updating message in IndexedDB:",a),a}}static async deleteMessage(e,n){try{await tt.messages.where("[id+chatId]").equals([n,e]).delete()}catch(r){throw console.error("Error deleting message from IndexedDB:",r),r}}static async clearMessages(e){try{await tt.messages.where("chatId").equals(e).delete()}catch(n){throw console.error("Error clearing messages from IndexedDB:",n),n}}static async saveApiKey(e,n){try{await tt.transaction("rw",tt.apiKeys,async()=>{await tt.apiKeys.where("provider").equals(e).modify({isActive:!1});const r={id:`${e}_${Date.now()}`,provider:e,key:n,isActive:!0,createdAt:new Date().toISOString()};await tt.apiKeys.put(r)})}catch(r){throw console.error("Error saving API key to IndexedDB:",r),r}}static async getActiveApiKey(e){try{const n=await tt.apiKeys.where("provider").equals(e).and(r=>r.isActive).first();return n?(await tt.apiKeys.update(n.id,{lastUsed:new Date().toISOString()}),n.key):null}catch(n){return console.error("Error getting active API key from IndexedDB:",n),null}}static async getAllApiKeys(e){try{return e?await tt.apiKeys.where("provider").equals(e).toArray():await tt.apiKeys.toArray()}catch(n){return console.error("Error loading API keys from IndexedDB:",n),[]}}static async deleteApiKey(e){try{await tt.apiKeys.delete(e)}catch(n){throw console.error("Error deleting API key from IndexedDB:",n),n}}static async setActiveApiKey(e){try{const n=await tt.apiKeys.get(e);if(!n)throw new Error("API key not found");await tt.transaction("rw",tt.apiKeys,async()=>{await tt.apiKeys.where("provider").equals(n.provider).modify({isActive:!1}),await tt.apiKeys.update(e,{isActive:!0})})}catch(n){throw console.error("Error setting active API key:",n),n}}static async hasApiKey(e){try{return e===Nr?!0:await tt.apiKeys.where("provider").equals(e).and(r=>r.isActive).count()>0}catch(n){return console.error("Error checking for API key:",n),!1}}static async getAllCharacters(){try{return await tt.characters.toArray()}catch(e){return console.error("Error loading characters from IndexedDB:",e),[]}}static async saveCharacter(e){try{await tt.characters.put(e)}catch(n){throw console.error("Error saving character to IndexedDB:",n),n}}static async deleteCharacter(e){try{await tt.characters.delete(e)}catch(n){throw console.error("Error deleting character from IndexedDB:",n),n}}static async migrateFromLocalStorage(e,n){try{if(await tt.chats.count()>0)return await this.getAllChats();const a=localStorage.getItem(e);let l=n;if(a)try{l=JSON.parse(a)}catch(c){console.warn("Error parsing localStorage data, using default:",c)}return await this.saveChats(l),l}catch(r){return console.error("Error during migration:",r),n}}static async searchChats(e){try{const n=e.toLowerCase();return(await this.getAllChats()).filter(a=>{var y,p;const l=a.title.toLowerCase().includes(n),c=(y=a.characterName)==null?void 0:y.toLowerCase().includes(n),h=(p=a.messages)==null?void 0:p.some(_=>_.text.some(w=>w.toLowerCase().includes(n)));return l||c||h})}catch(n){return console.error("Error searching chats:",n),[]}}static async getRecentChats(e=10){try{const r=[...await this.getAllChats()];return r.sort((a,l)=>{var y,p;const c=(y=a.messages)==null?void 0:y[a.messages.length-1],h=(p=l.messages)==null?void 0:p[l.messages.length-1];return c&&h?parseInt(h.id)-parseInt(c.id):parseInt(l.id)-parseInt(a.id)}),r.slice(0,e)}catch(n){return console.error("Error getting recent chats:",n),[]}}static async clearAllData(){try{await tt.transaction("rw",tt.chats,tt.messages,tt.characters,tt.apiKeys,async()=>{await tt.chats.clear(),await tt.messages.clear(),await tt.characters.clear(),await tt.apiKeys.clear()})}catch(e){throw console.error("Error clearing all data:",e),e}}}const Cl=(t,e)=>{try{const n=JSON.stringify(e);return localStorage.setItem(t,n),!0}catch(n){return console.error(`Error saving to localStorage (key: ${t}):`,n),!1}},Sc=(t,e)=>{try{const n=localStorage.getItem(t);return n===null?e:JSON.parse(n)}catch(n){return console.error(`Error loading from localStorage (key: ${t}):`,n),e}},Bk=()=>{try{return localStorage.clear(),!0}catch(t){return console.error("Error clearing localStorage:",t),!1}},sn={SELECTED_MODEL:"ttinteractive_selected_model",AVAILABLE_MODELS:"ttinteractive_available_models",MODELS_LAST_FETCHED:"ttinteractive_models_last_fetched",USER_PREFERENCES:"ttinteractive_user_preferences",API_KEY_VALID:"ttinteractive_api_key_valid",UI_STATE:"ttinteractive_ui_state",SIDEBAR_STATE:"ttinteractive_sidebar_state",THEME_PREFERENCE:"ttinteractive_theme",SELECTED_PROVIDER:"ttinteractive_selected_provider",OPENAI_SELECTED_MODEL:"ttinteractive_openai_selected_model",OPENAI_AVAILABLE_MODELS:"ttinteractive_openai_available_models",GOOGLE_AI_SELECTED_MODEL:"ttinteractive_google_ai_selected_model",GOOGLE_AI_AVAILABLE_MODELS:"ttinteractive_google_ai_available_models",OLLAMA_SELECTED_MODEL:"ttinteractive_ollama_selected_model",OLLAMA_AVAILABLE_MODELS:"ttinteractive_ollama_available_models",OPENROUTER_SELECTED_MODEL:"ttinteractive_openrouter_selected_model",OPENROUTER_AVAILABLE_MODELS:"ttinteractive_openrouter_available_models",MIGRATION_COMPLETED:"ttinteractive_migration_completed",CHAT_HISTORY:"ttinteractive_chat_history"},rV=(t,e=24)=>{if(!t)return!0;const n=e*60*60*1e3;return Date.now()-t>n},oV=t=>Cl(sn.SELECTED_PROVIDER,t),iV=(t=Nr)=>Sc(sn.SELECTED_PROVIDER,t),aV=(t,e)=>{let n;return e===Bn?n=sn.OPENAI_SELECTED_MODEL:e===Vn?n=sn.GOOGLE_AI_SELECTED_MODEL:e===Rn?n=sn.OPENROUTER_SELECTED_MODEL:n=sn.OLLAMA_SELECTED_MODEL,Cl(n,t)},sV=(t,e)=>{let n,r;return t===Bn?(n=sn.OPENAI_SELECTED_MODEL,r=""):t===Vn?(n=sn.GOOGLE_AI_SELECTED_MODEL,r=""):t===Rn?(n=sn.OPENROUTER_SELECTED_MODEL,r=""):(n=sn.OLLAMA_SELECTED_MODEL,r=""),Sc(n,r)},lV=(t,e)=>{let n;e===Bn?n=sn.OPENAI_AVAILABLE_MODELS:e===Vn?n=sn.GOOGLE_AI_AVAILABLE_MODELS:e===Rn?n=sn.OPENROUTER_AVAILABLE_MODELS:n=sn.OLLAMA_AVAILABLE_MODELS;const r={models:t,timestamp:Date.now()};return Cl(n,r)},uV=(t,e,n=!0)=>{let r,a;return t===Bn?(r=sn.OPENAI_AVAILABLE_MODELS,a=[]):t===Vn?(r=sn.GOOGLE_AI_AVAILABLE_MODELS,a=[]):t===Rn?(r=sn.OPENROUTER_AVAILABLE_MODELS,a=[]):(r=sn.OLLAMA_AVAILABLE_MODELS,a=[]),Sc(r,{models:n?a:[],timestamp:null})},lg=t=>{const n={...pc(),...t};return Cl(sn.USER_PREFERENCES,n)},pc=()=>{const t={selectedModel:"",maxTokens:1e3,temperature:.7,enableStreaming:!0,theme:"auto"};return Sc(sn.USER_PREFERENCES,t)},kp=()=>{try{let t=0;for(let r=0;r<localStorage.length;r++){const a=localStorage.key(r);if(a){const l=localStorage.getItem(a);t+=a.length+((l==null?void 0:l.length)??0)}}const e=5*1024*1024,n=t/e*100;return{used:t,available:e-t,percentage:Math.min(n,100)}}catch{return{used:0,available:0,percentage:0}}},Vk=()=>{const t={};return Object.values(sn).forEach(e=>{try{const n=localStorage.getItem(e);n!==null&&(t[e]=JSON.parse(n))}catch(n){console.warn(`Failed to export data for key ${e}:`,n)}}),t},Fk={chats:[],currentChatId:null,streamingResponses:{}};function qk(t,e){switch(e.type){case"SET_CHATS":return{...t,chats:e.payload};case"ADD_CHAT":return{...t,chats:[...t.chats,e.payload]};case"UPDATE_CHAT":return{...t,chats:t.chats.map(n=>n.id===e.payload.id?{...n,...e.payload.updates}:n)};case"DELETE_CHAT":return{...t,chats:t.chats.filter(n=>n.id!==e.payload),currentChatId:t.currentChatId===e.payload?null:t.currentChatId};case"SET_CURRENT_CHAT":return{...t,currentChatId:e.payload};case"ADD_MESSAGE":return{...t,chats:t.chats.map(n=>n.id===e.payload.chatId?{...n,messages:[...n.messages||[],e.payload.message]}:n)};case"UPDATE_MESSAGE":return{...t,chats:t.chats.map(n=>n.id===e.payload.chatId?{...n,messages:(n.messages||[]).map(r=>r.id===e.payload.messageId?{...r,...e.payload.updates}:r)}:n)};case"DELETE_MESSAGE":return{...t,chats:t.chats.map(n=>n.id===e.payload.chatId?{...n,messages:(n.messages||[]).filter(r=>r.id!==e.payload.messageId)}:n)};case"CLEAR_MESSAGES":return{...t,chats:t.chats.map(n=>n.id===e.payload?{...n,messages:[]}:n)};case"SET_STREAMING_RESPONSE":return{...t,streamingResponses:{...t.streamingResponses,[e.payload.chatId]:e.payload.content}};case"CLEAR_STREAMING_RESPONSE":{const{[e.payload]:n,...r}=t.streamingResponses;return{...t,streamingResponses:r}}default:return t}}const $T=$.createContext(null),Gk=({children:t})=>{const[e,n]=$.useReducer(qk,Fk);$.useEffect(()=>{(async()=>{try{const be=Sc(sn.MIGRATION_COMPLETED,!1);let ne;be?ne=await Kt.getAllChats():(ne=await Kt.migrateFromLocalStorage(S_,[]),Cl(sn.MIGRATION_COMPLETED,!0)),n({type:"SET_CHATS",payload:ne})}catch(be){console.error("Error loading chats:",be),n({type:"SET_CHATS",payload:[]})}})()},[]),$.useEffect(()=>{const be=setTimeout(async()=>{if(e.chats.length>0)try{await Kt.saveChats(e.chats)}catch(ne){console.error("Error saving chats to IndexedDB:",ne),Cl(`${S_}_backup`,e.chats)}},500);return()=>clearTimeout(be)},[e.chats]);const r=()=>`${Date.now()}`,a=e.currentChatId&&e.chats.find(H=>H.id===e.currentChatId)||null,l=e.currentChatId&&e.streamingResponses[e.currentChatId]||"",c=$.useCallback(async(H,be,ne)=>{const ye=r(),Ce={id:ye,title:be??`Chat with ${H.name}`,characterName:H.name,characterImage:H.avatarUrl,characterConversationBase:H.roleInstruction,characterInitialMessage:(H==null?void 0:H.characterInitialMessage)??[],characterColor:"#3b82f6",temperature:ne??.7,messages:[],userName:H.userCharacterName||"Username",backgroundImage:H.sceneBackgroundUrl};n({type:"ADD_CHAT",payload:Ce});try{await Kt.saveChat(Ce)}catch(Se){console.error("Error saving new chat to IndexedDB:",Se)}return ye},[]),h=$.useCallback(async(H,be)=>{n({type:"UPDATE_CHAT",payload:{id:H,updates:be}});try{await Kt.updateChat(H,be)}catch(ne){console.error("Error updating chat in IndexedDB:",ne)}},[]),y=$.useCallback(async H=>{n({type:"DELETE_CHAT",payload:H});try{await Kt.deleteChat(H)}catch(be){console.error("Error deleting chat from IndexedDB:",be)}},[]),p=$.useCallback(async H=>{const be=e.chats.find(Ce=>Ce.id===H);if(!be)throw new Error("Chat not found");const ne=r(),ye={...be,id:ne,title:`${be.title} (Copy)`,messages:[...be.messages||[]].map(Ce=>({...Ce,id:r()}))};n({type:"ADD_CHAT",payload:ye});try{await Kt.saveChat(ye)}catch(Ce){console.error("Error duplicating chat in IndexedDB:",Ce)}return ne},[e.chats]),_=$.useCallback(H=>{n({type:"SET_CURRENT_CHAT",payload:H})},[]),w=$.useCallback(H=>e.chats.find(be=>be.id===H)||null,[e.chats]),C=$.useCallback(async(H,be)=>{const ne=r(),ye={...be,id:ne};n({type:"ADD_MESSAGE",payload:{chatId:H,message:ye}});try{await Kt.addMessage(H,ye)}catch(Ce){console.error("Error adding message to IndexedDB:",Ce)}return ne},[]),E=$.useCallback(async(H,be,ne)=>{n({type:"UPDATE_MESSAGE",payload:{chatId:H,messageId:be,updates:ne}});try{await Kt.updateMessage(H,be,ne)}catch(ye){console.error("Error updating message in IndexedDB:",ye)}},[]),k=$.useCallback(async(H,be)=>{n({type:"DELETE_MESSAGE",payload:{chatId:H,messageId:be}});try{await Kt.deleteMessage(H,be)}catch(ne){console.error("Error deleting message from IndexedDB:",ne)}},[]),N=$.useCallback(async H=>{n({type:"CLEAR_MESSAGES",payload:H});try{await Kt.clearMessages(H)}catch(be){console.error("Error clearing messages from IndexedDB:",be)}},[]),O=$.useCallback((H,be)=>{n({type:"SET_STREAMING_RESPONSE",payload:{chatId:H,content:be}})},[]),B=$.useCallback(H=>{n({type:"CLEAR_STREAMING_RESPONSE",payload:H})},[]),P=$.useCallback(H=>{const be=e.chats.find(ne=>ne.id===H);return be?{...be}:null},[e.chats]),q=$.useCallback(async H=>{const be=r(),ne={...H,id:be,title:`${H.title} (Imported)`};n({type:"ADD_CHAT",payload:ne});try{await Kt.saveChat(ne)}catch(ye){console.error("Error importing chat to IndexedDB:",ye)}return be},[]),J=$.useCallback(async H=>{try{return await Kt.searchChats(H)}catch(be){console.error("Error searching chats:",be);const ne=H.toLowerCase(),ye=Se=>Se.text.some(Ee=>Ee.toLowerCase().includes(ne)),Ce=Se=>Se.some(ye);return e.chats.filter(Se=>{var X;const Ee=Se.title.toLowerCase().includes(ne),me=(X=Se.characterName)==null?void 0:X.toLowerCase().includes(ne),Me=Se.messages?Ce(Se.messages):!1;return Ee||me||Me})}},[e.chats]),ee=$.useCallback(async(H=10)=>{try{return await Kt.getRecentChats(H)}catch(be){console.error("Error getting recent chats:",be);const ne=[...e.chats];return ne.sort((ye,Ce)=>{var me,Me;const Se=(me=ye.messages)==null?void 0:me[ye.messages.length-1],Ee=(Me=Ce.messages)==null?void 0:Me[Ce.messages.length-1];return Se&&Ee?parseInt(Ee.id)-parseInt(Se.id):parseInt(Ce.id)-parseInt(ye.id)}),ne.slice(0,H)}},[e.chats]),ge=$.useMemo(()=>({chats:e.chats,currentChat:a,currentChatId:e.currentChatId,streamingResponse:l,createChat:c,updateChat:h,deleteChat:y,duplicateChat:p,setCurrentChat:_,getChatById:w,addMessage:C,updateMessage:E,deleteMessage:k,clearMessages:N,setStreamingResponse:O,clearStreamingResponse:B,exportChat:P,importChat:q,searchChats:J,getRecentChats:ee}),[e.chats,a,e.currentChatId,l,c,h,y,p,_,w,C,E,k,N,O,B,P,q,J,ee]);return F.jsx($T.Provider,{value:ge,children:t})},zk=()=>{const t=$.useContext($T);if(!t)throw new Error("useChat must be used within a ChatProvider");return t},Kk={save:"Save",saving:"Saving...",saved:"Saved",discard:"Discard",remove:"Remove",edit:"Edit",cancel:"Cancel",confirm:"Confirm",close:"Close",refresh:"Refresh",test:"Test",configure:"Configure",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Info"},$k={title:"Chat Title",temperature:"Temperature",temperatureDescription:"Controls randomness: 0 (focused) to 1 (creative)",temperatureLabels:{focused:"Focused",balanced:"Balanced",creative:"Creative"},userName:"Your Name",userNamePlaceholder:"Enter your name",titlePlaceholder:"Enter a title for your chat",testConnection:"Test API Connection",connectionSuccess:"API connection successful!",connectionError:"Failed to connect to API"},Hk={title:"API Key Configuration",openai:{title:"OpenAI API Key",placeholder:"sk-...",description:"Get your key from",link:"OpenAI Platform",validation:"Invalid OpenAI API key format. Keys should start with 'sk-' and be at least 40 characters long."},google:{title:"Google AI API Key",placeholder:"AI...",description:"Get your key from",link:"Google AI Studio",validation:"Invalid Google AI API key format. Keys should start with 'AI' and be at least 35 characters long."},openrouter:{title:"OpenRouter API Key",placeholder:"sk-or-...",description:"Get your key from",link:"OpenRouter",additionalInfo:"Access hundreds of AI models through one API.",validation:"Invalid OpenRouter API key format. Keys should start with 'sk-or-' and be at least 40 characters long."},ollama:{title:"Ollama Server URL",placeholder:"http://localhost:11434",description:"Local Ollama server URL. Install Ollama from",link:"ollama.ai",validation:"Invalid Ollama URL format. Please enter a valid URL (e.g., http://localhost:11434)."},configured:"✓ Configured",saveError:"Error saving API key. Please try again.",removeError:"Error removing API key."},Yk={title:"AI Provider",current:"Current",ollama:"Ollama (Local Models)",openrouter:"OpenRouter (Multiple Providers)",openai:"OpenAI (GPT Models)",google:"Google AI (Gemini Models)"},Jk={title:"Model",noModels:"No models available - Configure API key first",refreshList:"Refresh list",refreshing:"Refreshing...",loadingModels:"Models are loading...",configureApiKey:"Configure an API key above to load models",cachedModels:"Cached models",cachedTooltip:"Models list loaded from cache, might be outdated",refreshTooltip:"Refresh available models",tiers:{free:"🆓 Free",pro:"Pro",premium:"⚡ Premium"},tierTooltips:{free:"Free tier model",pro:"Professional tier model",premium:"Premium models may be more expensive"}},Xk={title:"Settings",language:"Language",theme:"Theme",themes:{light:"Light",dark:"Dark",auto:"Auto"},general:"General Settings",appearance:"Appearance",advanced:"Advanced",dataManagement:"Data Management",storageUsage:"Storage Usage",exportData:"Export App Data",exportDescription:"Download a backup of your settings and data",clearData:"Clear All Data",clearDataDescription:"Remove all chats, messages, characters and settings",clearDataConfirmation:"Are you sure you want to clear all data? This action cannot be undone.",storageDescription:"KB used",maxTokens:"Max Tokens",maxTokensDescription:"Maximum number of tokens for AI responses",themeDescription:"Choose your preferred theme. Auto will follow your system preference.",apiKeysNote:"can be found in Global Settings.",apiKeysInstructions:"Click the Settings button in the sidebar to configure your API keys."},Zk={newChat:"New Chat",settings:"Settings",noChats:"No chats available",deleteChat:"Delete chat",deleteConfirmation:"Are you sure you want to delete chat",chatListLabel:"Chat list"},Qk={noChatSelected:"No chat selected",chatNotFound:"Chat not found",apiKeyRequired:"API Key Required",noApiKeyFound:"No API key found for",configureApiKey:"Please configure your API key in the Configuration tab to use this service.",loading:"Loading...",selectCharacter:"Select a Character to Start a New Chat",loadingCharacters:"Loading character selection...",connectionValid:"connection is valid!",connectionFailed:"connection failed! Please check your API key and try again.",noApiKeyFoundForTest:"No API key found! Please configure your API key in the Configuration tab before testing the connection.",errorCheckingApiKey:"Error checking API key configuration."},Wk={select:"Select",createCustom:"Create Custom",createCustomDescription:"Design your own character with custom prompts and personality",create:"Create"},jk={messages:"Messages",character:"Character",configuration:"Configuration",loadingMessages:"Loading messages...",loadingCharacter:"Loading character settings...",loadingConfiguration:"Loading configuration...",chatTabsLabel:"Chat Tabs"},eN={noMessages:"No messages yet",streaming:"Streaming... (Character)",generating:"Generating...",newResponse:"New Response",defaultUser:"User",defaultCharacter:"Character"},tN={defaultUser:"User",placeholder:"Your message (Enter for new lines; Ctrl+Enter to send and generate reply)",sendButtonTitle:"Send message and generate reply (Ctrl+Enter)"},nN={generic:"An error occurred. Please try again.",networkError:"Network error. Please check your connection.",validationError:"Please check your input and try again.",apiKeyRequired:"API key is required for this provider.",modelLoadFailed:"Failed to load models. Please try again.",saveFailed:"Failed to save changes. Please try again."},rN={createTitle:"Create Custom Character",editTitle:"Edit Chat",name:"Character Name",namePlaceholder:"Enter character name",description:"Description",descriptionPlaceholder:"Brief description of the character",avatarUrl:"Avatar URL",avatarUrlPlaceholder:"https://example.com/avatar.jpg",backgroundUrl:"Background Image URL",backgroundUrlPlaceholder:"https://example.com/background.jpg",roleInstruction:"Role Instruction / System Prompt",roleInstructionPlaceholder:"Define the character's role, personality, and behavior...",reminderMessage:"Reminder Message",reminderMessagePlaceholder:"Brief reminder to keep the character in role",initialMessage:"Initial Message",initialMessagePlaceholder:"The first message the character will send",avatarPreview:"Avatar Preview",backgroundPreview:"Preview with background and avatar",chatTitle:"Chat Title",chatTitlePlaceholder:"Enter a title for your chat",chatTitleDescription:"This will be the name of your chat conversation"},oN={title:"Character Settings",characterName:"Character Name",characterNamePlaceholder:"Enter character name",characterImage:"Character Avatar URL",characterImagePlaceholder:"https://example.com/avatar.jpg",backgroundImage:"Background Image URL",backgroundImagePlaceholder:"https://example.com/background.jpg",initialPrompt:"System Prompt / Role Instruction",initialPromptPlaceholder:"Define the character's role and behavior...",initialMessage:"Initial Message",initialMessagePlaceholder:"The first message the character sends",characterPreview:"Character Preview",backgroundPreview:"Background Preview"},iN={common:Kk,chat:$k,apiKeys:Hk,providers:Yk,models:Jk,settings:Xk,sidebar:Zk,mainContent:Qk,characters:Wk,tabs:jk,messageList:eN,messageInput:tN,errors:nN,characterEditor:rN,characterManager:oN},aN={save:"Salvar",saving:"Salvando...",saved:"Salvo",discard:"Descartar",remove:"Remover",edit:"Editar",cancel:"Cancelar",confirm:"Confirmar",close:"Fechar",refresh:"Atualizar",test:"Testar",configure:"Configurar",loading:"Carregando...",error:"Erro",success:"Sucesso",warning:"Aviso",info:"Informação"},sN={title:"Título do Chat",temperature:"Temperatura",temperatureDescription:"Controla aleatoriedade: 0 (focado) a 1 (criativo)",temperatureLabels:{focused:"Focado",balanced:"Equilibrado",creative:"Criativo"},userName:"Seu Nome",userNamePlaceholder:"Digite seu nome",titlePlaceholder:"Digite um título para seu chat",testConnection:"Testar Conexão API",connectionSuccess:"Conexão API bem-sucedida!",connectionError:"Falha ao conectar com a API"},lN={title:"Configuração de Chaves API",openai:{title:"Chave API OpenAI",placeholder:"sk-...",description:"Obtenha sua chave em",link:"Plataforma OpenAI",validation:"Formato de chave API OpenAI inválido. Chaves devem começar com 'sk-' e ter pelo menos 40 caracteres."},google:{title:"Chave API Google AI",placeholder:"AI...",description:"Obtenha sua chave em",link:"Google AI Studio",validation:"Formato de chave API Google AI inválido. Chaves devem começar com 'AI' e ter pelo menos 35 caracteres."},openrouter:{title:"Chave API OpenRouter",placeholder:"sk-or-...",description:"Obtenha sua chave em",link:"OpenRouter",additionalInfo:"Acesse centenas de modelos de IA através de uma API.",validation:"Formato de chave API OpenRouter inválido. Chaves devem começar com 'sk-or-' e ter pelo menos 40 caracteres."},ollama:{title:"URL do Servidor Ollama",placeholder:"http://localhost:11434",description:"URL do servidor Ollama local. Instale o Ollama em",link:"ollama.ai",validation:"Formato de URL Ollama inválido. Digite uma URL válida (ex: http://localhost:11434)."},configured:"✓ Configurado",saveError:"Erro ao salvar chave API. Tente novamente.",removeError:"Erro ao remover chave API."},uN={title:"Provedor de IA",current:"Atual",ollama:"Ollama (Modelos Locais)",openrouter:"OpenRouter (Múltiplos Provedores)",openai:"OpenAI (Modelos GPT)",google:"Google AI (Modelos Gemini)"},cN={title:"Modelo",noModels:"Nenhum modelo disponível - Configure uma chave API primeiro",refreshList:"Atualizar lista",refreshing:"Atualizando...",loadingModels:"Modelos carregando...",configureApiKey:"Configure uma chave API acima para carregar modelos",cachedModels:"Modelos em cache",cachedTooltip:"Lista de modelos carregada do cache, pode estar desatualizada",refreshTooltip:"Atualizar modelos disponíveis",tiers:{free:"🆓 Gratuito",pro:"Pro",premium:"⚡ Premium"},tierTooltips:{free:"Modelo de nível gratuito",pro:"Modelo de nível profissional",premium:"Modelos premium podem ser mais caros"}},fN={title:"Configurações",language:"Idioma",theme:"Tema",themes:{light:"Claro",dark:"Escuro",auto:"Automático"},general:"Configurações Gerais",appearance:"Aparência",advanced:"Avançado",dataManagement:"Gerenciamento de Dados",storageUsage:"Uso de Armazenamento",exportData:"Exportar Dados do App",exportDescription:"Baixar um backup das suas configurações e dados",clearData:"Limpar Todos os Dados",clearDataDescription:"Remove todos os chats, mensagens, personagens e configurações",clearDataConfirmation:"Tem certeza de que deseja limpar todos os dados? Esta ação não pode ser desfeita.",storageDescription:"KB utilizados",maxTokens:"Máximo de Tokens",maxTokensDescription:"Número máximo de tokens para respostas da IA",themeDescription:"Escolha seu tema preferido. Automático seguirá a preferência do seu sistema.",apiKeysNote:"estão localizadas nas Configurações Globais.",apiKeysInstructions:"Clique no botão Configurações na barra lateral para configurar suas chaves API."},dN={newChat:"Novo Chat",settings:"Configurações",noChats:"Nenhum chat disponível",deleteChat:"Excluir chat",deleteConfirmation:"Tem certeza que deseja excluir o chat",chatListLabel:"Lista de chats"},hN={noChatSelected:"Nenhum chat selecionado",chatNotFound:"Chat não encontrado",apiKeyRequired:"Chave API Necessária",noApiKeyFound:"Nenhuma chave API encontrada para",configureApiKey:"Por favor, configure sua chave API na aba de Configuração para usar este serviço.",loading:"Carregando...",selectCharacter:"Selecione um Personagem para Iniciar um Novo Chat",loadingCharacters:"Carregando seleção de personagens...",connectionValid:"conexão é válida!",connectionFailed:"conexão falhou! Verifique sua chave API e tente novamente.",noApiKeyFoundForTest:"Nenhuma chave API encontrada! Configure sua chave API na aba de Configuração antes de testar a conexão.",errorCheckingApiKey:"Erro ao verificar configuração da chave API."},mN={select:"Selecionar",createCustom:"Criar Personalizado",createCustomDescription:"Projete seu próprio personagem com prompts e personalidade customizados",create:"Criar"},pN={messages:"Mensagens",character:"Personagem",configuration:"Configuração",loadingMessages:"Carregando mensagens...",loadingCharacter:"Carregando configurações do personagem...",loadingConfiguration:"Carregando configuração...",chatTabsLabel:"Abas do Chat"},gN={noMessages:"Ainda não há mensagens",streaming:"Transmitindo... (Personagem)",generating:"Gerando...",newResponse:"Nova Resposta",defaultUser:"Usuário",defaultCharacter:"Personagem"},yN={defaultUser:"Usuário",placeholder:"Sua mensagem (Enter para nova linha; Ctrl+Enter para enviar e gerar resposta)",sendButtonTitle:"Enviar mensagem e gerar resposta (Ctrl+Enter)"},vN={generic:"Ocorreu um erro. Tente novamente.",networkError:"Erro de rede. Verifique sua conexão.",validationError:"Verifique sua entrada e tente novamente.",apiKeyRequired:"Chave API é obrigatória para este provedor.",modelLoadFailed:"Falha ao carregar modelos. Tente novamente.",saveFailed:"Falha ao salvar alterações. Tente novamente."},bN={createTitle:"Criar Personagem Personalizado",editTitle:"Editar Chat",name:"Nome do Personagem",namePlaceholder:"Digite o nome do personagem",description:"Descrição",descriptionPlaceholder:"Breve descrição do personagem",avatarUrl:"URL do Avatar",avatarUrlPlaceholder:"https://exemplo.com/avatar.jpg",backgroundUrl:"URL da Imagem de Fundo",backgroundUrlPlaceholder:"https://exemplo.com/fundo.jpg",roleInstruction:"Instrução de Papel / Prompt do Sistema",roleInstructionPlaceholder:"Defina o papel, personalidade e comportamento do personagem...",reminderMessage:"Mensagem de Lembrete",reminderMessagePlaceholder:"Breve lembrete para manter o personagem no papel",initialMessage:"Mensagem Inicial",initialMessagePlaceholder:"A primeira mensagem que o personagem enviará",avatarPreview:"Visualização do Avatar",backgroundPreview:"Visualização com fundo e avatar",chatTitle:"Título do Chat",chatTitlePlaceholder:"Digite um título para seu chat",chatTitleDescription:"Este será o nome da sua conversa de chat"},_N={title:"Configurações do Personagem",characterName:"Nome do Personagem",characterNamePlaceholder:"Digite o nome do personagem",characterImage:"URL do Avatar do Personagem",characterImagePlaceholder:"https://exemplo.com/avatar.jpg",backgroundImage:"URL da Imagem de Fundo",backgroundImagePlaceholder:"https://exemplo.com/fundo.jpg",initialPrompt:"Prompt do Sistema / Instrução de Papel",initialPromptPlaceholder:"Defina o papel e comportamento do personagem...",initialMessage:"Mensagem Inicial",initialMessagePlaceholder:"A primeira mensagem que o personagem envia",characterPreview:"Visualização do Personagem",backgroundPreview:"Visualização do Fundo"},xN={common:aN,chat:sN,apiKeys:lN,providers:uN,models:cN,settings:fN,sidebar:dN,mainContent:hN,characters:mN,tabs:pN,messageList:gN,messageInput:yN,errors:vN,characterEditor:bN,characterManager:_N},Np={en:iN,pt:xN},wN={en:"English",pt:"Português"},ul="en",ug=()=>{const t=localStorage.getItem("locale");return t&&(t==="en"||t==="pt")?t:navigator.language.toLowerCase().startsWith("pt")?"pt":ul},TN=t=>{localStorage.setItem("locale",t)},Ip=(t,e)=>e.split(".").reduce((n,r)=>n&&n[r]!==void 0?n[r]:e,t),CN=(t,e)=>{const n=e??ug(),r=Np[n];if(!r)return console.warn(`Locale '${n}' not found, falling back to '${ul}'`),Ip(Np[ul],t);const a=Ip(r,t);return a===t&&n!==ul?(console.warn(`Translation for '${t}' not found in '${n}', falling back to '${ul}'`),Ip(Np[ul],t)):a},ch=()=>{const[t,e]=$.useState(ug()),n=a=>{TN(a),e(a),window.dispatchEvent(new Event("localechange"))};return $.useEffect(()=>{const a=()=>{e(ug())};return window.addEventListener("localechange",a),()=>window.removeEventListener("localechange",a)},[]),{locale:t,changeLocale:n,t:a=>CN(a,t),localeNames:wN}};function HT({show:t,onClose:e,onConfirm:n,title:r,children:a,confirmText:l="Confirm",cancelText:c="Cancel",confirmColor:h="primary",loading:y=!1}){const p=!!e||!!n,_=!n;return F.jsxs(NT,{show:t,onClose:e,children:[r&&F.jsx(PT,{children:r}),F.jsx(IT,{children:a}),p&&F.jsx(DT,{children:F.jsxs("div",{className:`w-full flex gap-12 ${_?"justify-center":"justify-end"}`,children:[!!n&&F.jsx(Tl,{color:h,onClick:n,disabled:y,children:l}),!!e&&F.jsx(Tl,{variant:"gray",onClick:e,disabled:y,children:c})]})})]})}function YT({show:t,onClose:e,onConfirm:n,children:r,confirmText:a="Confirm",cancelText:l="Cancel",title:c,confirmColor:h="primary",loading:y=!1}){return F.jsx(HT,{show:t,onClose:e,onConfirm:n,confirmText:a,cancelText:l,title:c,confirmColor:h,loading:y,children:F.jsx("div",{className:"flex flex-col items-center justify-center",children:F.jsx("div",{className:"flex-1 text-gray-800 dark:text-white mb-4",children:r})})})}const JT=$.createContext(void 0),SN=()=>{const t=$.useContext(JT);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function EN({className:t=""}){const{locale:e,changeLocale:n,localeNames:r,t:a}=ch(),l=c=>{n(c.target.value)};return F.jsxs("div",{className:`flex flex-col gap-1 ${t}`,children:[F.jsx(io,{htmlFor:"language-select",className:"mb-1 block text-sm",children:a("settings.language")}),F.jsx("select",{id:"language-select",value:e,onChange:l,className:"w-full max-w-xs p-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",children:Object.entries(r).map(([c,h])=>F.jsx("option",{value:c,children:h},c))})]})}var Pt;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},t.getValidEnumValues=a=>{const l=t.objectKeys(a).filter(h=>typeof a[a[h]]!="number"),c={};for(const h of l)c[h]=a[h];return t.objectValues(c)},t.objectValues=a=>t.objectKeys(a).map(function(l){return a[l]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},t.find=(a,l)=>{for(const c of a)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,l=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=r,t.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(Pt||(Pt={}));var E_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(E_||(E_={}));const Je=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ha=t=>{switch(typeof t){case"undefined":return Je.undefined;case"string":return Je.string;case"number":return Number.isNaN(t)?Je.nan:Je.number;case"boolean":return Je.boolean;case"function":return Je.function;case"bigint":return Je.bigint;case"symbol":return Je.symbol;case"object":return Array.isArray(t)?Je.array:t===null?Je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Je.promise:typeof Map<"u"&&t instanceof Map?Je.map:typeof Set<"u"&&t instanceof Set?Je.set:typeof Date<"u"&&t instanceof Date?Je.date:Je.object;default:return Je.unknown}},Pe=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(l){return l.message},r={_errors:[]},a=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let h=r,y=0;for(;y<c.path.length;){const p=c.path[y];y===c.path.length-1?(h[p]=h[p]||{_errors:[]},h[p]._errors.push(n(c))):h[p]=h[p]||{_errors:[]},h=h[p],y++}}};return a(this),r}static assert(e){if(!(e instanceof bi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bi.create=t=>new bi(t);const cg=(t,e)=>{let n;switch(t.code){case Pe.invalid_type:t.received===Je.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pt.jsonStringifyReplacer)}`;break;case Pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pt.joinValues(t.keys,", ")}`;break;case Pe.invalid_union:n="Invalid input";break;case Pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pt.joinValues(t.options)}`;break;case Pe.invalid_enum_value:n=`Invalid enum value. Expected ${Pt.joinValues(t.options)}, received '${t.received}'`;break;case Pe.invalid_arguments:n="Invalid function arguments";break;case Pe.invalid_return_type:n="Invalid function return type";break;case Pe.invalid_date:n="Invalid date";break;case Pe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Pe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Pe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Pe.custom:n="Invalid input";break;case Pe.invalid_intersection_types:n="Intersection results could not be merged";break;case Pe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Pe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pt.assertNever(t)}return{message:n}};let AN=cg;function RN(){return AN}const MN=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,l=[...n,...a.path||[]],c={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let h="";const y=r.filter(p=>!!p).slice().reverse();for(const p of y)h=p(c,{data:e,defaultError:h}).message;return{...a,path:l,message:h}};function Ge(t,e){const n=RN(),r=MN({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===cg?void 0:cg].filter(a=>!!a)});t.common.issues.push(r)}class fr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return gt;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const l=await a.key,c=await a.value;r.push({key:l,value:c})}return fr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:l,value:c}=a;if(l.status==="aborted"||c.status==="aborted")return gt;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(r[l.value]=c.value)}return{status:e.value,value:r}}}const gt=Object.freeze({status:"aborted"}),oc=t=>({status:"dirty",value:t}),Qr=t=>({status:"valid",value:t}),A_=t=>t.status==="aborted",R_=t=>t.status==="dirty",Sl=t=>t.status==="valid",Ud=t=>typeof Promise<"u"&&t instanceof Promise;var Qe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Qe||(Qe={}));class Do{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const M_=(t,e)=>{if(Sl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bi(t.common.issues);return this._error=n,this._error}}};function _t(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(c,h)=>{const{message:y}=t;return c.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??r??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:y??n??h.defaultError}},description:a}}class Mt{get description(){return this._def.description}_getType(e){return ha(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ha(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fr,ctx:{common:e.parent.common,data:e.data,parsedType:ha(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ud(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ha(e)},a=this._parseSync({data:e,path:r.path,parent:r});return M_(r,a)}"~validate"(e){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ha(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:n});return Sl(l)?{value:l.value}:{issues:n.common.issues}}catch(l){(a=(r=l==null?void 0:l.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(l=>Sl(l)?{value:l.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ha(e)},a=this._parse({data:e,path:r.path,parent:r}),l=await(Ud(a)?a:Promise.resolve(a));return M_(r,l)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,l)=>{const c=e(a),h=()=>l.addIssue({code:Pe.custom,...r(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(y=>y?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new Rl({schema:this,typeName:ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ya.create(this,this._def)}nullable(){return Ml.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Io.create(this)}promise(){return Gd.create(this,this._def)}or(e){return Vd.create([this,e],this._def)}and(e){return Fd.create(this,e,this._def)}transform(e){return new Rl({..._t(this._def),schema:this,typeName:ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new mg({..._t(this._def),innerType:this,defaultValue:n,typeName:ht.ZodDefault})}brand(){return new WN({typeName:ht.ZodBranded,type:this,..._t(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new pg({..._t(this._def),innerType:this,catchValue:n,typeName:ht.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return iy.create(this,e)}readonly(){return gg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kN=/^c[^\s-]{8,}$/i,NN=/^[0-9a-z]+$/,IN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ON=/^[a-z0-9_-]{21}$/i,PN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,LN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,UN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dp;const VN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,GN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,XT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$N=new RegExp(`^${XT}$`);function ZT(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function HN(t){return new RegExp(`^${ZT(t)}$`)}function YN(t){let e=`${XT}T${ZT(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function JN(t,e){return!!((e==="v4"||!e)&&VN.test(t)||(e==="v6"||!e)&&qN.test(t))}function XN(t,e){if(!PN.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function ZN(t,e){return!!((e==="v4"||!e)&&FN.test(t)||(e==="v6"||!e)&&GN.test(t))}class Ao extends Mt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Je.string){const l=this._getOrReturnCtx(e);return Ge(l,{code:Pe.invalid_type,expected:Je.string,received:l.parsedType}),gt}const r=new fr;let a;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="max")e.data.length>l.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),r.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,h=e.data.length<l.value;(c||h)&&(a=this._getOrReturnCtx(e,a),c?Ge(a,{code:Pe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):h&&Ge(a,{code:Pe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),r.dirty())}else if(l.kind==="email")UN.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"email",code:Pe.invalid_string,message:l.message}),r.dirty());else if(l.kind==="emoji")Dp||(Dp=new RegExp(BN,"u")),Dp.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"emoji",code:Pe.invalid_string,message:l.message}),r.dirty());else if(l.kind==="uuid")DN.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"uuid",code:Pe.invalid_string,message:l.message}),r.dirty());else if(l.kind==="nanoid")ON.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"nanoid",code:Pe.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid")kN.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"cuid",code:Pe.invalid_string,message:l.message}),r.dirty());else if(l.kind==="cuid2")NN.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"cuid2",code:Pe.invalid_string,message:l.message}),r.dirty());else if(l.kind==="ulid")IN.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"ulid",code:Pe.invalid_string,message:l.message}),r.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ge(a,{validation:"url",code:Pe.invalid_string,message:l.message}),r.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"regex",code:Pe.invalid_string,message:l.message}),r.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),r.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.invalid_string,validation:{startsWith:l.value},message:l.message}),r.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.invalid_string,validation:{endsWith:l.value},message:l.message}),r.dirty()):l.kind==="datetime"?YN(l).test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.invalid_string,validation:"datetime",message:l.message}),r.dirty()):l.kind==="date"?$N.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.invalid_string,validation:"date",message:l.message}),r.dirty()):l.kind==="time"?HN(l).test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.invalid_string,validation:"time",message:l.message}),r.dirty()):l.kind==="duration"?LN.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"duration",code:Pe.invalid_string,message:l.message}),r.dirty()):l.kind==="ip"?JN(e.data,l.version)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"ip",code:Pe.invalid_string,message:l.message}),r.dirty()):l.kind==="jwt"?XN(e.data,l.alg)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"jwt",code:Pe.invalid_string,message:l.message}),r.dirty()):l.kind==="cidr"?ZN(e.data,l.version)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"cidr",code:Pe.invalid_string,message:l.message}),r.dirty()):l.kind==="base64"?zN.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"base64",code:Pe.invalid_string,message:l.message}),r.dirty()):l.kind==="base64url"?KN.test(e.data)||(a=this._getOrReturnCtx(e,a),Ge(a,{validation:"base64url",code:Pe.invalid_string,message:l.message}),r.dirty()):Pt.assertNever(l);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:Pe.invalid_string,...Qe.errToObj(r)})}_addCheck(e){return new Ao({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Qe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Qe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Qe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Qe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Qe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Qe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Qe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Qe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Qe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Qe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Qe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Qe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Qe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Qe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Qe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Qe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Qe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Qe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Qe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Qe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Qe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Qe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Qe.errToObj(n)})}nonempty(e){return this.min(1,Qe.errToObj(e))}trim(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ao({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ao.create=t=>new Ao({checks:[],typeName:ht.ZodString,coerce:(t==null?void 0:t.coerce)??!1,..._t(t)});function QN(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,l=Number.parseInt(t.toFixed(a).replace(".","")),c=Number.parseInt(e.toFixed(a).replace(".",""));return l%c/10**a}class as extends Mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Je.number){const l=this._getOrReturnCtx(e);return Ge(l,{code:Pe.invalid_type,expected:Je.number,received:l.parsedType}),gt}let r;const a=new fr;for(const l of this._def.checks)l.kind==="int"?Pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{code:Pe.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:Pe.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:Pe.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?QN(e.data,l.value)!==0&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:Pe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{code:Pe.not_finite,message:l.message}),a.dirty()):Pt.assertNever(l);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qe.toString(n))}setLimit(e,n,r,a){return new as({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qe.toString(a)}]})}_addCheck(e){return new as({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Qe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Qe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}as.create=t=>new as({checks:[],typeName:ht.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class ss extends Mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Je.bigint)return this._getInvalidInput(e);let r;const a=new fr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:Pe.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:Pe.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:Pe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):Pt.assertNever(l);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ge(n,{code:Pe.invalid_type,expected:Je.bigint,received:n.parsedType}),gt}gte(e,n){return this.setLimit("min",e,!0,Qe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Qe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Qe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Qe.toString(n))}setLimit(e,n,r,a){return new ss({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Qe.toString(a)}]})}_addCheck(e){return new ss({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Qe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ss.create=t=>new ss({checks:[],typeName:ht.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,..._t(t)});class Bd extends Mt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Je.boolean){const r=this._getOrReturnCtx(e);return Ge(r,{code:Pe.invalid_type,expected:Je.boolean,received:r.parsedType}),gt}return Qr(e.data)}}Bd.create=t=>new Bd({typeName:ht.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class El extends Mt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Je.date){const l=this._getOrReturnCtx(e);return Ge(l,{code:Pe.invalid_type,expected:Je.date,received:l.parsedType}),gt}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return Ge(l,{code:Pe.invalid_date}),gt}const r=new fr;let a;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),r.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(a=this._getOrReturnCtx(e,a),Ge(a,{code:Pe.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),r.dirty()):Pt.assertNever(l);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new El({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Qe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Qe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}El.create=t=>new El({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ht.ZodDate,..._t(t)});class k_ extends Mt{_parse(e){if(this._getType(e)!==Je.symbol){const r=this._getOrReturnCtx(e);return Ge(r,{code:Pe.invalid_type,expected:Je.symbol,received:r.parsedType}),gt}return Qr(e.data)}}k_.create=t=>new k_({typeName:ht.ZodSymbol,..._t(t)});class N_ extends Mt{_parse(e){if(this._getType(e)!==Je.undefined){const r=this._getOrReturnCtx(e);return Ge(r,{code:Pe.invalid_type,expected:Je.undefined,received:r.parsedType}),gt}return Qr(e.data)}}N_.create=t=>new N_({typeName:ht.ZodUndefined,..._t(t)});class I_ extends Mt{_parse(e){if(this._getType(e)!==Je.null){const r=this._getOrReturnCtx(e);return Ge(r,{code:Pe.invalid_type,expected:Je.null,received:r.parsedType}),gt}return Qr(e.data)}}I_.create=t=>new I_({typeName:ht.ZodNull,..._t(t)});class D_ extends Mt{constructor(){super(...arguments),this._any=!0}_parse(e){return Qr(e.data)}}D_.create=t=>new D_({typeName:ht.ZodAny,..._t(t)});class fg extends Mt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Qr(e.data)}}fg.create=t=>new fg({typeName:ht.ZodUnknown,..._t(t)});class va extends Mt{_parse(e){const n=this._getOrReturnCtx(e);return Ge(n,{code:Pe.invalid_type,expected:Je.never,received:n.parsedType}),gt}}va.create=t=>new va({typeName:ht.ZodNever,..._t(t)});class O_ extends Mt{_parse(e){if(this._getType(e)!==Je.undefined){const r=this._getOrReturnCtx(e);return Ge(r,{code:Pe.invalid_type,expected:Je.void,received:r.parsedType}),gt}return Qr(e.data)}}O_.create=t=>new O_({typeName:ht.ZodVoid,..._t(t)});class Io extends Mt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==Je.array)return Ge(n,{code:Pe.invalid_type,expected:Je.array,received:n.parsedType}),gt;if(a.exactLength!==null){const c=n.data.length>a.exactLength.value,h=n.data.length<a.exactLength.value;(c||h)&&(Ge(n,{code:c?Pe.too_big:Pe.too_small,minimum:h?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Ge(n,{code:Pe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Ge(n,{code:Pe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,h)=>a.type._parseAsync(new Do(n,c,n.path,h)))).then(c=>fr.mergeArray(r,c));const l=[...n.data].map((c,h)=>a.type._parseSync(new Do(n,c,n.path,h)));return fr.mergeArray(r,l)}get element(){return this._def.type}min(e,n){return new Io({...this._def,minLength:{value:e,message:Qe.toString(n)}})}max(e,n){return new Io({...this._def,maxLength:{value:e,message:Qe.toString(n)}})}length(e,n){return new Io({...this._def,exactLength:{value:e,message:Qe.toString(n)}})}nonempty(e){return this.min(1,e)}}Io.create=(t,e)=>new Io({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ht.ZodArray,..._t(e)});function cl(t){if(t instanceof xn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ya.create(cl(r))}return new xn({...t._def,shape:()=>e})}else return t instanceof Io?new Io({...t._def,type:cl(t.element)}):t instanceof ya?ya.create(cl(t.unwrap())):t instanceof Ml?Ml.create(cl(t.unwrap())):t instanceof ls?ls.create(t.items.map(e=>cl(e))):t}class xn extends Mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Je.object){const p=this._getOrReturnCtx(e);return Ge(p,{code:Pe.invalid_type,expected:Je.object,received:p.parsedType}),gt}const{status:r,ctx:a}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof va&&this._def.unknownKeys==="strip"))for(const p in a.data)c.includes(p)||h.push(p);const y=[];for(const p of c){const _=l[p],w=a.data[p];y.push({key:{status:"valid",value:p},value:_._parse(new Do(a,w,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof va){const p=this._def.unknownKeys;if(p==="passthrough")for(const _ of h)y.push({key:{status:"valid",value:_},value:{status:"valid",value:a.data[_]}});else if(p==="strict")h.length>0&&(Ge(a,{code:Pe.unrecognized_keys,keys:h}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const _ of h){const w=a.data[_];y.push({key:{status:"valid",value:_},value:p._parse(new Do(a,w,a.path,_)),alwaysSet:_ in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const _ of y){const w=await _.key,C=await _.value;p.push({key:w,value:C,alwaysSet:_.alwaysSet})}return p}).then(p=>fr.mergeObjectSync(r,p)):fr.mergeObjectSync(r,y)}get shape(){return this._def.shape()}strict(e){return Qe.errToObj,new xn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var l,c;const a=((c=(l=this._def).errorMap)==null?void 0:c.call(l,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Qe.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(e){return new xn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ht.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xn({...this._def,catchall:e})}pick(e){const n={};for(const r of Pt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new xn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Pt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new xn({...this._def,shape:()=>n})}deepPartial(){return cl(this)}partial(e){const n={};for(const r of Pt.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}return new xn({...this._def,shape:()=>n})}required(e){const n={};for(const r of Pt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let l=this.shape[r];for(;l instanceof ya;)l=l._def.innerType;n[r]=l}return new xn({...this._def,shape:()=>n})}keyof(){return QT(Pt.objectKeys(this.shape))}}xn.create=(t,e)=>new xn({shape:()=>t,unknownKeys:"strip",catchall:va.create(),typeName:ht.ZodObject,..._t(e)});xn.strictCreate=(t,e)=>new xn({shape:()=>t,unknownKeys:"strict",catchall:va.create(),typeName:ht.ZodObject,..._t(e)});xn.lazycreate=(t,e)=>new xn({shape:t,unknownKeys:"strip",catchall:va.create(),typeName:ht.ZodObject,..._t(e)});class Vd extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(l){for(const h of l)if(h.result.status==="valid")return h.result;for(const h of l)if(h.result.status==="dirty")return n.common.issues.push(...h.ctx.common.issues),h.result;const c=l.map(h=>new bi(h.ctx.common.issues));return Ge(n,{code:Pe.invalid_union,unionErrors:c}),gt}if(n.common.async)return Promise.all(r.map(async l=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(a);{let l;const c=[];for(const y of r){const p={...n,common:{...n.common,issues:[]},parent:null},_=y._parseSync({data:n.data,path:n.path,parent:p});if(_.status==="valid")return _;_.status==="dirty"&&!l&&(l={result:_,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const h=c.map(y=>new bi(y));return Ge(n,{code:Pe.invalid_union,unionErrors:h}),gt}}get options(){return this._def.options}}Vd.create=(t,e)=>new Vd({options:t,typeName:ht.ZodUnion,..._t(e)});function dg(t,e){const n=ha(t),r=ha(e);if(t===e)return{valid:!0,data:t};if(n===Je.object&&r===Je.object){const a=Pt.objectKeys(e),l=Pt.objectKeys(t).filter(h=>a.indexOf(h)!==-1),c={...t,...e};for(const h of l){const y=dg(t[h],e[h]);if(!y.valid)return{valid:!1};c[h]=y.data}return{valid:!0,data:c}}else if(n===Je.array&&r===Je.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let l=0;l<t.length;l++){const c=t[l],h=e[l],y=dg(c,h);if(!y.valid)return{valid:!1};a.push(y.data)}return{valid:!0,data:a}}else return n===Je.date&&r===Je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Fd extends Mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(l,c)=>{if(A_(l)||A_(c))return gt;const h=dg(l.value,c.value);return h.valid?((R_(l)||R_(c))&&n.dirty(),{status:n.value,value:h.data}):(Ge(r,{code:Pe.invalid_intersection_types}),gt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([l,c])=>a(l,c)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Fd.create=(t,e,n)=>new Fd({left:t,right:e,typeName:ht.ZodIntersection,..._t(n)});class ls extends Mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.array)return Ge(r,{code:Pe.invalid_type,expected:Je.array,received:r.parsedType}),gt;if(r.data.length<this._def.items.length)return Ge(r,{code:Pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&r.data.length>this._def.items.length&&(Ge(r,{code:Pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...r.data].map((c,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new Do(r,c,r.path,h)):null}).filter(c=>!!c);return r.common.async?Promise.all(l).then(c=>fr.mergeArray(n,c)):fr.mergeArray(n,l)}get items(){return this._def.items}rest(e){return new ls({...this._def,rest:e})}}ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ls({items:t,typeName:ht.ZodTuple,rest:null,..._t(e)})};class qd extends Mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.object)return Ge(r,{code:Pe.invalid_type,expected:Je.object,received:r.parsedType}),gt;const a=[],l=this._def.keyType,c=this._def.valueType;for(const h in r.data)a.push({key:l._parse(new Do(r,h,r.path,h)),value:c._parse(new Do(r,r.data[h],r.path,h)),alwaysSet:h in r.data});return r.common.async?fr.mergeObjectAsync(n,a):fr.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Mt?new qd({keyType:e,valueType:n,typeName:ht.ZodRecord,..._t(r)}):new qd({keyType:Ao.create(),valueType:e,typeName:ht.ZodRecord,..._t(n)})}}class P_ extends Mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.map)return Ge(r,{code:Pe.invalid_type,expected:Je.map,received:r.parsedType}),gt;const a=this._def.keyType,l=this._def.valueType,c=[...r.data.entries()].map(([h,y],p)=>({key:a._parse(new Do(r,h,r.path,[p,"key"])),value:l._parse(new Do(r,y,r.path,[p,"value"]))}));if(r.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of c){const p=await y.key,_=await y.value;if(p.status==="aborted"||_.status==="aborted")return gt;(p.status==="dirty"||_.status==="dirty")&&n.dirty(),h.set(p.value,_.value)}return{status:n.value,value:h}})}else{const h=new Map;for(const y of c){const p=y.key,_=y.value;if(p.status==="aborted"||_.status==="aborted")return gt;(p.status==="dirty"||_.status==="dirty")&&n.dirty(),h.set(p.value,_.value)}return{status:n.value,value:h}}}}P_.create=(t,e,n)=>new P_({valueType:e,keyType:t,typeName:ht.ZodMap,..._t(n)});class xc extends Mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.set)return Ge(r,{code:Pe.invalid_type,expected:Je.set,received:r.parsedType}),gt;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Ge(r,{code:Pe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Ge(r,{code:Pe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const l=this._def.valueType;function c(y){const p=new Set;for(const _ of y){if(_.status==="aborted")return gt;_.status==="dirty"&&n.dirty(),p.add(_.value)}return{status:n.value,value:p}}const h=[...r.data.values()].map((y,p)=>l._parse(new Do(r,y,r.path,p)));return r.common.async?Promise.all(h).then(y=>c(y)):c(h)}min(e,n){return new xc({...this._def,minSize:{value:e,message:Qe.toString(n)}})}max(e,n){return new xc({...this._def,maxSize:{value:e,message:Qe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}xc.create=(t,e)=>new xc({valueType:t,minSize:null,maxSize:null,typeName:ht.ZodSet,..._t(e)});class hg extends Mt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}hg.create=(t,e)=>new hg({getter:t,typeName:ht.ZodLazy,..._t(e)});class L_ extends Mt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ge(n,{received:n.data,code:Pe.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}L_.create=(t,e)=>new L_({value:t,typeName:ht.ZodLiteral,..._t(e)});function QT(t,e){return new Al({values:t,typeName:ht.ZodEnum,..._t(e)})}class Al extends Mt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ge(n,{expected:Pt.joinValues(r),received:n.parsedType,code:Pe.invalid_type}),gt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ge(n,{received:n.data,code:Pe.invalid_enum_value,options:r}),gt}return Qr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Al.create(e,{...this._def,...n})}exclude(e,n=this._def){return Al.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Al.create=QT;class U_ extends Mt{_parse(e){const n=Pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Je.string&&r.parsedType!==Je.number){const a=Pt.objectValues(n);return Ge(r,{expected:Pt.joinValues(a),received:r.parsedType,code:Pe.invalid_type}),gt}if(this._cache||(this._cache=new Set(Pt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Pt.objectValues(n);return Ge(r,{received:r.data,code:Pe.invalid_enum_value,options:a}),gt}return Qr(e.data)}get enum(){return this._def.values}}U_.create=(t,e)=>new U_({values:t,typeName:ht.ZodNativeEnum,..._t(e)});class Gd extends Mt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.promise&&n.common.async===!1)return Ge(n,{code:Pe.invalid_type,expected:Je.promise,received:n.parsedType}),gt;const r=n.parsedType===Je.promise?n.data:Promise.resolve(n.data);return Qr(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Gd.create=(t,e)=>new Gd({type:t,typeName:ht.ZodPromise,..._t(e)});class Rl extends Mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,l={addIssue:c=>{Ge(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const c=a.transform(r.data,l);if(r.common.async)return Promise.resolve(c).then(async h=>{if(n.value==="aborted")return gt;const y=await this._def.schema._parseAsync({data:h,path:r.path,parent:r});return y.status==="aborted"?gt:y.status==="dirty"||n.value==="dirty"?oc(y.value):y});{if(n.value==="aborted")return gt;const h=this._def.schema._parseSync({data:c,path:r.path,parent:r});return h.status==="aborted"?gt:h.status==="dirty"||n.value==="dirty"?oc(h.value):h}}if(a.type==="refinement"){const c=h=>{const y=a.refinement(h,l);if(r.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(r.common.async===!1){const h=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return h.status==="aborted"?gt:(h.status==="dirty"&&n.dirty(),c(h.value),{status:n.value,value:h.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(h=>h.status==="aborted"?gt:(h.status==="dirty"&&n.dirty(),c(h.value).then(()=>({status:n.value,value:h.value}))))}if(a.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Sl(c))return gt;const h=a.transform(c.value,l);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:h}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>Sl(c)?Promise.resolve(a.transform(c.value,l)).then(h=>({status:n.value,value:h})):gt);Pt.assertNever(a)}}Rl.create=(t,e,n)=>new Rl({schema:t,typeName:ht.ZodEffects,effect:e,..._t(n)});Rl.createWithPreprocess=(t,e,n)=>new Rl({schema:e,effect:{type:"preprocess",transform:t},typeName:ht.ZodEffects,..._t(n)});class ya extends Mt{_parse(e){return this._getType(e)===Je.undefined?Qr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ya.create=(t,e)=>new ya({innerType:t,typeName:ht.ZodOptional,..._t(e)});class Ml extends Mt{_parse(e){return this._getType(e)===Je.null?Qr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ml.create=(t,e)=>new Ml({innerType:t,typeName:ht.ZodNullable,..._t(e)});class mg extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Je.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}mg.create=(t,e)=>new mg({innerType:t,typeName:ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._t(e)});class pg extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ud(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}pg.create=(t,e)=>new pg({innerType:t,typeName:ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._t(e)});class B_ extends Mt{_parse(e){if(this._getType(e)!==Je.nan){const r=this._getOrReturnCtx(e);return Ge(r,{code:Pe.invalid_type,expected:Je.nan,received:r.parsedType}),gt}return{status:"valid",value:e.data}}}B_.create=t=>new B_({typeName:ht.ZodNaN,..._t(t)});class WN extends Mt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class iy extends Mt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?gt:l.status==="dirty"?(n.dirty(),oc(l.value)):this._def.out._parseAsync({data:l.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?gt:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new iy({in:e,out:n,typeName:ht.ZodPipeline})}}class gg extends Mt{_parse(e){const n=this._def.innerType._parse(e),r=a=>(Sl(a)&&(a.value=Object.freeze(a.value)),a);return Ud(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}gg.create=(t,e)=>new gg({innerType:t,typeName:ht.ZodReadonly,..._t(e)});var ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ht||(ht={}));const Qa=Ao.create,V_=as.create;ss.create;const jN=Bd.create;El.create;const F_=fg.create;va.create;const ic=Io.create,eI=xn.create,tI=Vd.create;Fd.create;ls.create;const nI=qd.create,rI=hg.create,oI=Al.create;Gd.create;ya.create;Ml.create;const al={string:t=>Ao.create({...t,coerce:!0}),number:t=>as.create({...t,coerce:!0}),boolean:t=>Bd.create({...t,coerce:!0}),bigint:t=>ss.create({...t,coerce:!0}),date:t=>El.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iI,aI;function sI(){return{geminiUrl:iI,vertexUrl:aI}}function lI(t,e,n){var r,a,l;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const c=sI();return t.vertexai?(a=c.vertexUrl)!==null&&a!==void 0?a:e:(l=c.geminiUrl)!==null&&l!==void 0?l:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pl{}function ct(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const y=t[h];if(Array.isArray(n))for(let p=0;p<y.length;p++){const _=y[p];d(_,e.slice(l+1),n[p])}else for(const p of y)d(p,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const y=t[h];d(y[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function f(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in t){const l=t[a];return Array.isArray(l)?l.map(c=>f(c,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var q_;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(q_||(q_={}));var G_;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(G_||(G_={}));var Ro;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ro||(Ro={}));var z_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(z_||(z_={}));var K_;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(K_||(K_={}));var $_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})($_||($_={}));var H_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(H_||(H_={}));var Y_;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Y_||(Y_={}));var J_;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(J_||(J_={}));var X_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(X_||(X_={}));var Z_;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Z_||(Z_={}));var Q_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Q_||(Q_={}));var W_;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(W_||(W_={}));var zd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(zd||(zd={}));var j_;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(j_||(j_={}));var yg;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yg||(yg={}));var ex;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ex||(ex={}));var tx;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(tx||(tx={}));var nx;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(nx||(nx={}));var rx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(rx||(rx={}));var ox;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ox||(ox={}));var ix;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(ix||(ix={}));var ax;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ax||(ax={}));var sx;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(sx||(sx={}));var lx;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(lx||(lx={}));var ux;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ux||(ux={}));var cx;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cx||(cx={}));var fx;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fx||(fx={}));var dx;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dx||(dx={}));var hx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(hx||(hx={}));var mx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(mx||(mx={}));var px;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(px||(px={}));var gx;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gx||(gx={}));var yx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yx||(yx={}));var vx;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vx||(vx={}));var bx;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(bx||(bx={}));var _x;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_x||(_x={}));var xx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xx||(xx={}));var hl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(hl||(hl={}));class vg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ec{get text(){var e,n,r,a,l,c,h,y;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",_=!1;const w=[];for(const C of(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,k]of Object.entries(C))E!=="text"&&E!=="thought"&&(k!==null||k!==void 0)&&w.push(E);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;_=!0,p+=C.text}}return w.length>0&&console.warn(`there are non-text parts ${w} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?p:void 0}get data(){var e,n,r,a,l,c,h,y;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const _=[];for(const w of(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,E]of Object.entries(w))C!=="inlineData"&&(E!==null||E!==void 0)&&_.push(C);w.inlineData&&typeof w.inlineData.data=="string"&&(p+=atob(w.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,r,a,l,c,h,y;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,r,a,l,c,h,y,p;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(w=>w.executableCode).map(w=>w.executableCode).filter(w=>w!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,r,a,l,c,h,y,p;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(w=>w.codeExecutionResult).map(w=>w.codeExecutionResult).filter(w=>w!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.output}}class wx{}class Tx{}class uI{}class cI{}class Cx{}class Sx{}class Ex{}class fI{}class Ax{}class Rx{}class Mx{}class dI{}class hI{}class mI{}class pI{get text(){var e,n,r;let a="",l=!1;const c=[];for(const h of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[y,p]of Object.entries(h))y!=="text"&&y!=="thought"&&p!==null&&c.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,a+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,n,r;let a="";const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,y]of Object.entries(c))h!=="inlineData"&&y!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class gI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function WT(t,e){const n=Zt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function jT(t){return Array.isArray(t)?t.map(e=>Kd(e)):[Kd(t)]}function Kd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function yI(t){const e=Kd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function vI(t){const e=Kd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kx(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function eC(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>kx(e)):[kx(t)]}function bg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Nx(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Ix(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function cr(t){if(t==null)throw new Error("ContentUnion is required");return bg(t)?t:{role:"user",parts:eC(t)}}function tC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=cr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=cr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>cr(n)):[cr(e)]}function so(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Nx(t)||Ix(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[cr(t)]}const e=[],n=[],r=bg(t[0]);for(const a of t){const l=bg(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(Nx(a)||Ix(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||e.push({role:"user",parts:eC(n)}),e}const bI=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Dx=oI(["string","number","integer","object","array","boolean","null"]),_I=tI([Dx,ic(Dx)]);function xI(t=!0){const e=rI(()=>{const n=eI({type:_I.optional(),format:Qa().optional(),title:Qa().optional(),description:Qa().optional(),default:F_().optional(),items:e.optional(),minItems:al.string().optional(),maxItems:al.string().optional(),enum:ic(F_()).optional(),properties:nI(Qa(),e).optional(),required:ic(Qa()).optional(),minProperties:al.string().optional(),maxProperties:al.string().optional(),propertyOrdering:ic(Qa()).optional(),minimum:V_().optional(),maximum:V_().optional(),minLength:al.string().optional(),maxLength:al.string().optional(),pattern:Qa().optional(),anyOf:ic(e).optional(),additionalProperties:jN().optional()});return t?n.strict():n});return e}function wI(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ro).includes(n[0].toUpperCase())?n[0].toUpperCase():Ro.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ro).includes(r.toUpperCase())?r.toUpperCase():Ro.TYPE_UNSPECIFIED})}}function bl(t){const e={},n=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&wI(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Ro).includes(h.toUpperCase())?h.toUpperCase():Ro.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=bl(h);else if(r.includes(c)){const y=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}y.push(bl(p))}e[c]=y}else if(a.includes(c)){const y={};for(const[p,_]of Object.entries(h))y[p]=bl(_);e[c]=y}else{if(c==="additionalProperties")continue;e[c]=h}return e}function $d(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=xI().parse(t);return bl(e)}else return bl(t)}function nC(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ay(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ec(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=$d(e.parameters)),e.response&&(e.response=$d(e.response));return t}function Ac(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function TI(t,e,n,r=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function xa(t,e){if(typeof e!="string")throw new Error("name must be a string");return TI(t,e,"cachedContents")}function rC(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _i(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function CI(t){return t!=null&&typeof t=="object"&&"name"in t}function SI(t){return t!=null&&typeof t=="object"&&"video"in t}function EI(t){return t!=null&&typeof t=="object"&&"uri"in t}function oC(t){var e;let n;if(CI(t)&&(n=t.name),!(EI(t)&&(n=t.uri,n===void 0))&&!(SI(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function iC(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function aC(t){for(const e of["models","tunedModels","publisherModels"])if(AI(t,e))return t[e];return[]}function AI(t,e){return t!==null&&typeof t=="object"&&e in t}function RI(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:bl(fh(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function MI(t,e={}){const n=[],r=new Set;for(const a of t){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=RI(a,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function kI(t){const e=[];for(const n of t)e.push(fh(n));return e}function NI(t){const e={};for(const[n,r]of Object.entries(t)){const a=r;e[n]=fh(a)}return e}function fh(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),a={};for(const[l,c]of Object.entries(t))if(e.has(l))a[l]=fh(c);else if(n.has(l))a[l]=kI(c);else if(r.has(l))a[l]=NI(c);else if(l==="type"){const h=c.toUpperCase();a[l]=Object.values(Ro).includes(h)?h:Ro.TYPE_UNSPECIFIED}else bI.has(l)&&(a[l]=c);return a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function II(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function DI(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&d(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function OI(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function PI(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],II(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],DI(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],OI(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function Ox(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>PI(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function LI(t){const e={},n=f(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=f(t,["description"]);r!=null&&d(e,["description"],r);const a=f(t,["name"]);a!=null&&d(e,["name"],a);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const c=f(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=f(t,["response"]);h!=null&&d(e,["response"],h);const y=f(t,["responseJsonSchema"]);return y!=null&&d(e,["responseJsonSchema"],y),e}function UI(t){const e={},n=f(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function BI(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],UI(n)),e}function VI(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function FI(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],VI(n)),e}function qI(){return{}}function GI(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>LI(y))),d(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],BI(r));const a=f(t,["googleSearchRetrieval"]);if(a!=null&&d(e,["googleSearchRetrieval"],FI(a)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&d(e,["urlContext"],qI());const c=f(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function zI(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function KI(t){const e={},n=f(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function $I(t){const e={},n=f(t,["latLng"]);n!=null&&d(e,["latLng"],KI(n));const r=f(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function HI(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],zI(n));const r=f(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],$I(r)),e}function YI(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=f(t,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const l=f(t,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let _=so(c);Array.isArray(_)&&(_=_.map(w=>Ox(w))),d(e,["contents"],_)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],Ox(cr(h)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(w=>GI(w))),d(e,["tools"],_)}const p=f(t,["toolConfig"]);if(e!==void 0&&p!=null&&d(e,["toolConfig"],HI(p)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function JI(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["model"],WT(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],YI(a,n)),n}function XI(t,e){const n={},r=f(e,["name"]);r!=null&&d(n,["_url","name"],xa(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],a),n}function ZI(t,e){const n={},r=f(e,["name"]);r!=null&&d(n,["_url","name"],xa(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],a),n}function QI(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=f(t,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),n}function WI(t,e){const n={},r=f(e,["name"]);r!=null&&d(n,["_url","name"],xa(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],QI(a,n)),n}function jI(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),n}function eD(t){const e={},n=f(t,["config"]);return n!=null&&d(e,["config"],jI(n,e)),e}function tD(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function nD(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["data"]);r!=null&&d(e,["data"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function rD(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function oD(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],tD(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],nD(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],rD(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function Px(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>oD(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function iD(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&d(e,["description"],n);const r=f(t,["name"]);r!=null&&d(e,["name"],r);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const l=f(t,["parametersJsonSchema"]);l!=null&&d(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function aD(t){const e={},n=f(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function sD(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],aD(n)),e}function lD(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function uD(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],lD(n)),e}function cD(){return{}}function fD(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function dD(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],fD(n));const r=f(t,["authType"]);r!=null&&d(e,["authType"],r);const a=f(t,["googleServiceAccountConfig"]);a!=null&&d(e,["googleServiceAccountConfig"],a);const l=f(t,["httpBasicAuthConfig"]);l!=null&&d(e,["httpBasicAuthConfig"],l);const c=f(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=f(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function hD(t){const e={},n=f(t,["authConfig"]);return n!=null&&d(e,["authConfig"],dD(n)),e}function mD(){return{}}function pD(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>iD(w))),d(e,["functionDeclarations"],_)}const r=f(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const a=f(t,["googleSearch"]);a!=null&&d(e,["googleSearch"],sD(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],uD(l)),f(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],cD());const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],hD(h)),f(t,["urlContext"])!=null&&d(e,["urlContext"],mD());const p=f(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function gD(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function yD(t){const e={},n=f(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function vD(t){const e={},n=f(t,["latLng"]);n!=null&&d(e,["latLng"],yD(n));const r=f(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function bD(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],gD(n));const r=f(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],vD(r)),e}function _D(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=f(t,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const l=f(t,["displayName"]);e!==void 0&&l!=null&&d(e,["displayName"],l);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let w=so(c);Array.isArray(w)&&(w=w.map(C=>Px(C))),d(e,["contents"],w)}const h=f(t,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],Px(cr(h)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>pD(C))),d(e,["tools"],w)}const p=f(t,["toolConfig"]);e!==void 0&&p!=null&&d(e,["toolConfig"],bD(p));const _=f(t,["kmsKeyName"]);return e!==void 0&&_!=null&&d(e,["encryption_spec","kmsKeyName"],_),n}function xD(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["model"],WT(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],_D(a,n)),n}function wD(t,e){const n={},r=f(e,["name"]);r!=null&&d(n,["_url","name"],xa(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],a),n}function TD(t,e){const n={},r=f(e,["name"]);r!=null&&d(n,["_url","name"],xa(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],a),n}function CD(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=f(t,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),n}function SD(t,e){const n={},r=f(e,["name"]);r!=null&&d(n,["_url","name"],xa(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],CD(a,n)),n}function ED(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),n}function AD(t){const e={},n=f(t,["config"]);return n!=null&&d(e,["config"],ED(n,e)),e}function fd(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["displayName"]);r!=null&&d(e,["displayName"],r);const a=f(t,["model"]);a!=null&&d(e,["model"],a);const l=f(t,["createTime"]);l!=null&&d(e,["createTime"],l);const c=f(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=f(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const y=f(t,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function RD(){return{}}function MD(t){const e={},n=f(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const r=f(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>fd(l))),d(e,["cachedContents"],a)}return e}function dd(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["displayName"]);r!=null&&d(e,["displayName"],r);const a=f(t,["model"]);a!=null&&d(e,["model"],a);const l=f(t,["createTime"]);l!=null&&d(e,["createTime"],l);const c=f(t,["updateTime"]);c!=null&&d(e,["updateTime"],c);const h=f(t,["expireTime"]);h!=null&&d(e,["expireTime"],h);const y=f(t,["usageMetadata"]);return y!=null&&d(e,["usageMetadata"],y),e}function kD(){return{}}function ND(t){const e={},n=f(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const r=f(t,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>dd(l))),d(e,["cachedContents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kl;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(kl||(kl={}));class dh{constructor(e,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,a)}init(e,n,r){var a,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};r?typeof r=="object"?c=Object.assign({},r):c=r:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ID extends Pl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new dh(kl.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=xD(this.apiClient,e);return h=ct("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>dd(_))}else{const p=JI(this.apiClient,e);return h=ct("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>fd(_))}}async get(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=wD(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>dd(_))}else{const p=XI(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>fd(_))}}async delete(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=TD(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(()=>{const _=kD(),w=new Rx;return Object.assign(w,_),w})}else{const p=ZI(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(()=>{const _=RD(),w=new Rx;return Object.assign(w,_),w})}}async update(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=SD(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>dd(_))}else{const p=WI(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>fd(_))}}async listInternal(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=AD(e);return h=ct("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const w=ND(_),C=new Mx;return Object.assign(C,w),C})}else{const p=eD(e);return h=ct("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const w=MD(_),C=new Mx;return Object.assign(C,w),C})}}}function Lx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tn(t){return this instanceof tn?(this.v=t,this):new tn(t)}function _l(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(k){return Promise.resolve(k).then(E,w)}}function h(E,k){r[E]&&(a[E]=function(N){return new Promise(function(O,B){l.push([E,N,O,B])>1||y(E,N)})},k&&(a[E]=k(a[E])))}function y(E,k){try{p(r[E](k))}catch(N){C(l[0][3],N)}}function p(E){E.value instanceof tn?Promise.resolve(E.value.v).then(_,w):C(l[0][2],E)}function _(E){y("next",E)}function w(E){y("throw",E)}function C(E,k){E(k),l.shift(),l.length&&y(l[0][0],l[0][1])}}function gc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Lx=="function"?Lx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=t[l]&&function(c){return new Promise(function(h,y){c=t[l](c),a(h,y,c.done,c.value)})}}function a(l,c,h,y){Promise.resolve(y).then(function(p){l({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DD(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sC(n)}function sC(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function OD(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ux(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let l=!0;for(;r<n&&t[r].role==="model";)a.push(t[r]),l&&!sC(t[r])&&(l=!1),r++;l?e.push(...a):e.pop()}return e}class PD{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new LD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}let LD=class{constructor(e,n,r,a={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),OD(l)}async sendMessage(e){var n;await this.sendPromise;const r=cr(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,h;const y=await a,p=(c=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,_=y.automaticFunctionCallingHistory,w=this.getHistory(!0).length;let C=[];_!=null&&(C=(h=_.slice(w))!==null&&h!==void 0?h:[]);const E=p?[p]:[];this.recordHistory(r,E,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const r=cr(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(e=!1){const n=e?Ux(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,a;return _l(this,arguments,function*(){var c,h,y,p;const _=[];try{for(var w=!0,C=gc(e),E;E=yield tn(C.next()),c=E.done,!c;w=!0){p=E.value,w=!1;const k=p;if(DD(k)){const N=(a=(r=k.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;N!==void 0&&_.push(N)}yield yield tn(k)}}catch(k){h={error:k}}finally{try{!w&&!c&&(y=C.return)&&(yield tn(y.call(C)))}finally{if(h)throw h.error}}this.recordHistory(n,_)})}recordHistory(e,n,r){let a=[];n.length>0&&n.every(l=>l.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Ux(r)):this.history.push(e),this.history.push(...a)}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,hh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UD(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),n}function BD(t){const e={},n=f(t,["config"]);return n!=null&&d(e,["config"],UD(n,e)),e}function VD(t){const e={},n=f(t,["details"]);n!=null&&d(e,["details"],n);const r=f(t,["message"]);r!=null&&d(e,["message"],r);const a=f(t,["code"]);return a!=null&&d(e,["code"],a),e}function FD(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["displayName"]);r!=null&&d(e,["displayName"],r);const a=f(t,["mimeType"]);a!=null&&d(e,["mimeType"],a);const l=f(t,["sizeBytes"]);l!=null&&d(e,["sizeBytes"],l);const c=f(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=f(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const y=f(t,["updateTime"]);y!=null&&d(e,["updateTime"],y);const p=f(t,["sha256Hash"]);p!=null&&d(e,["sha256Hash"],p);const _=f(t,["uri"]);_!=null&&d(e,["uri"],_);const w=f(t,["downloadUri"]);w!=null&&d(e,["downloadUri"],w);const C=f(t,["state"]);C!=null&&d(e,["state"],C);const E=f(t,["source"]);E!=null&&d(e,["source"],E);const k=f(t,["videoMetadata"]);k!=null&&d(e,["videoMetadata"],k);const N=f(t,["error"]);return N!=null&&d(e,["error"],VD(N)),e}function qD(t){const e={},n=f(t,["file"]);n!=null&&d(e,["file"],FD(n));const r=f(t,["config"]);return r!=null&&d(e,["config"],r),e}function GD(t){const e={},n=f(t,["name"]);n!=null&&d(e,["_url","file"],oC(n));const r=f(t,["config"]);return r!=null&&d(e,["config"],r),e}function zD(t){const e={},n=f(t,["name"]);n!=null&&d(e,["_url","file"],oC(n));const r=f(t,["config"]);return r!=null&&d(e,["config"],r),e}function KD(t){const e={},n=f(t,["details"]);n!=null&&d(e,["details"],n);const r=f(t,["message"]);r!=null&&d(e,["message"],r);const a=f(t,["code"]);return a!=null&&d(e,["code"],a),e}function _g(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["displayName"]);r!=null&&d(e,["displayName"],r);const a=f(t,["mimeType"]);a!=null&&d(e,["mimeType"],a);const l=f(t,["sizeBytes"]);l!=null&&d(e,["sizeBytes"],l);const c=f(t,["createTime"]);c!=null&&d(e,["createTime"],c);const h=f(t,["expirationTime"]);h!=null&&d(e,["expirationTime"],h);const y=f(t,["updateTime"]);y!=null&&d(e,["updateTime"],y);const p=f(t,["sha256Hash"]);p!=null&&d(e,["sha256Hash"],p);const _=f(t,["uri"]);_!=null&&d(e,["uri"],_);const w=f(t,["downloadUri"]);w!=null&&d(e,["downloadUri"],w);const C=f(t,["state"]);C!=null&&d(e,["state"],C);const E=f(t,["source"]);E!=null&&d(e,["source"],E);const k=f(t,["videoMetadata"]);k!=null&&d(e,["videoMetadata"],k);const N=f(t,["error"]);return N!=null&&d(e,["error"],KD(N)),e}function $D(t){const e={},n=f(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const r=f(t,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>_g(l))),d(e,["files"],a)}return e}function HD(){return{}}function YD(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let JD=class extends Pl{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new dh(kl.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>_g(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BD(e);return l=ct("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=$D(y),_=new dI;return Object.assign(_,p),_})}}async createInternal(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qD(e);return l=ct("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(()=>{const y=HD(),p=new hI;return Object.assign(p,y),p})}}async get(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GD(e);return l=ct("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>_g(y))}}async delete(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zD(e);return l=ct("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(()=>{const y=YD(),p=new mI;return Object.assign(p,y),p})}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XD(t){const e={},n=f(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function ZD(t){const e={},n=f(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function lC(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],XD(n)),e}function QD(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],ZD(n)),e}function WD(t){const e={},n=f(t,["speaker"]);n!=null&&d(e,["speaker"],n);const r=f(t,["voiceConfig"]);return r!=null&&d(e,["voiceConfig"],lC(r)),e}function jD(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>WD(a))),d(e,["speakerVoiceConfigs"],r)}return e}function eO(t){const e={},n=f(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],lC(n));const r=f(t,["multiSpeakerVoiceConfig"]);r!=null&&d(e,["multiSpeakerVoiceConfig"],jD(r));const a=f(t,["languageCode"]);return a!=null&&d(e,["languageCode"],a),e}function tO(t){const e={},n=f(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],QD(n)),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function nO(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function rO(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function oO(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&d(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function iO(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["data"]);r!=null&&d(e,["data"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function aO(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function sO(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function lO(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],nO(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],oO(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],aO(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function uO(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],rO(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],iO(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],sO(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function cO(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>lO(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function fO(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>uO(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function dO(t){const e={},n=f(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=f(t,["description"]);r!=null&&d(e,["description"],r);const a=f(t,["name"]);a!=null&&d(e,["name"],a);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const c=f(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=f(t,["response"]);h!=null&&d(e,["response"],h);const y=f(t,["responseJsonSchema"]);return y!=null&&d(e,["responseJsonSchema"],y),e}function hO(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&d(e,["description"],n);const r=f(t,["name"]);r!=null&&d(e,["name"],r);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const l=f(t,["parametersJsonSchema"]);l!=null&&d(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function mO(t){const e={},n=f(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function pO(t){const e={},n=f(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function gO(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],mO(n)),e}function yO(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],pO(n)),e}function vO(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function bO(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function _O(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],vO(n)),e}function xO(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],bO(n)),e}function wO(){return{}}function TO(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function CO(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],TO(n));const r=f(t,["authType"]);r!=null&&d(e,["authType"],r);const a=f(t,["googleServiceAccountConfig"]);a!=null&&d(e,["googleServiceAccountConfig"],a);const l=f(t,["httpBasicAuthConfig"]);l!=null&&d(e,["httpBasicAuthConfig"],l);const c=f(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=f(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function SO(t){const e={},n=f(t,["authConfig"]);return n!=null&&d(e,["authConfig"],CO(n)),e}function EO(){return{}}function AO(){return{}}function RO(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>dO(y))),d(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],gO(r));const a=f(t,["googleSearchRetrieval"]);if(a!=null&&d(e,["googleSearchRetrieval"],_O(a)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&d(e,["urlContext"],EO());const c=f(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function MO(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>hO(w))),d(e,["functionDeclarations"],_)}const r=f(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const a=f(t,["googleSearch"]);a!=null&&d(e,["googleSearch"],yO(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],xO(l)),f(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],wO());const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],SO(h)),f(t,["urlContext"])!=null&&d(e,["urlContext"],AO());const p=f(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function kO(t){const e={},n=f(t,["handle"]);if(n!=null&&d(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function NO(t){const e={},n=f(t,["handle"]);n!=null&&d(e,["handle"],n);const r=f(t,["transparent"]);return r!=null&&d(e,["transparent"],r),e}function Bx(){return{}}function Vx(){return{}}function IO(t){const e={},n=f(t,["disabled"]);n!=null&&d(e,["disabled"],n);const r=f(t,["startOfSpeechSensitivity"]);r!=null&&d(e,["startOfSpeechSensitivity"],r);const a=f(t,["endOfSpeechSensitivity"]);a!=null&&d(e,["endOfSpeechSensitivity"],a);const l=f(t,["prefixPaddingMs"]);l!=null&&d(e,["prefixPaddingMs"],l);const c=f(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function DO(t){const e={},n=f(t,["disabled"]);n!=null&&d(e,["disabled"],n);const r=f(t,["startOfSpeechSensitivity"]);r!=null&&d(e,["startOfSpeechSensitivity"],r);const a=f(t,["endOfSpeechSensitivity"]);a!=null&&d(e,["endOfSpeechSensitivity"],a);const l=f(t,["prefixPaddingMs"]);l!=null&&d(e,["prefixPaddingMs"],l);const c=f(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function OO(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],IO(n));const r=f(t,["activityHandling"]);r!=null&&d(e,["activityHandling"],r);const a=f(t,["turnCoverage"]);return a!=null&&d(e,["turnCoverage"],a),e}function PO(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],DO(n));const r=f(t,["activityHandling"]);r!=null&&d(e,["activityHandling"],r);const a=f(t,["turnCoverage"]);return a!=null&&d(e,["turnCoverage"],a),e}function LO(t){const e={},n=f(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function UO(t){const e={},n=f(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function BO(t){const e={},n=f(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const r=f(t,["slidingWindow"]);return r!=null&&d(e,["slidingWindow"],LO(r)),e}function VO(t){const e={},n=f(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const r=f(t,["slidingWindow"]);return r!=null&&d(e,["slidingWindow"],UO(r)),e}function FO(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function qO(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function GO(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const l=f(t,["temperature"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const _=f(t,["seed"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","seed"],_);const w=f(t,["speechConfig"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","speechConfig"],eO(ay(w)));const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const E=f(t,["systemInstruction"]);e!==void 0&&E!=null&&d(e,["setup","systemInstruction"],cO(cr(E)));const k=f(t,["tools"]);if(e!==void 0&&k!=null){let ee=Ac(k);Array.isArray(ee)&&(ee=ee.map(ge=>RO(Ec(ge)))),d(e,["setup","tools"],ee)}const N=f(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],kO(N));const O=f(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&d(e,["setup","inputAudioTranscription"],Bx());const B=f(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],Bx());const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],OO(P));const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&d(e,["setup","contextWindowCompression"],BO(q));const J=f(t,["proactivity"]);return e!==void 0&&J!=null&&d(e,["setup","proactivity"],FO(J)),n}function zO(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const l=f(t,["temperature"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const _=f(t,["seed"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","seed"],_);const w=f(t,["speechConfig"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","speechConfig"],tO(ay(w)));const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const E=f(t,["systemInstruction"]);e!==void 0&&E!=null&&d(e,["setup","systemInstruction"],fO(cr(E)));const k=f(t,["tools"]);if(e!==void 0&&k!=null){let ee=Ac(k);Array.isArray(ee)&&(ee=ee.map(ge=>MO(Ec(ge)))),d(e,["setup","tools"],ee)}const N=f(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],NO(N));const O=f(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&d(e,["setup","inputAudioTranscription"],Vx());const B=f(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],Vx());const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],PO(P));const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&d(e,["setup","contextWindowCompression"],VO(q));const J=f(t,["proactivity"]);return e!==void 0&&J!=null&&d(e,["setup","proactivity"],qO(J)),n}function KO(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["setup","model"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],GO(a,n)),n}function $O(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["setup","model"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],zO(a,n)),n}function HO(){return{}}function YO(){return{}}function JO(){return{}}function XO(){return{}}function ZO(t){const e={},n=f(t,["media"]);n!=null&&d(e,["mediaChunks"],jT(n));const r=f(t,["audio"]);r!=null&&d(e,["audio"],vI(r));const a=f(t,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const l=f(t,["video"]);l!=null&&d(e,["video"],yI(l));const c=f(t,["text"]);return c!=null&&d(e,["text"],c),f(t,["activityStart"])!=null&&d(e,["activityStart"],HO()),f(t,["activityEnd"])!=null&&d(e,["activityEnd"],JO()),e}function QO(t){const e={},n=f(t,["media"]);if(n!=null&&d(e,["mediaChunks"],jT(n)),f(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=f(t,["audioStreamEnd"]);if(r!=null&&d(e,["audioStreamEnd"],r),f(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(f(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return f(t,["activityStart"])!=null&&d(e,["activityStart"],YO()),f(t,["activityEnd"])!=null&&d(e,["activityEnd"],XO()),e}function uC(t){const e={},n=f(t,["text"]);n!=null&&d(e,["text"],n);const r=f(t,["weight"]);return r!=null&&d(e,["weight"],r),e}function WO(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>uC(a))),d(e,["weightedPrompts"],r)}return e}function cC(t){const e={},n=f(t,["temperature"]);n!=null&&d(e,["temperature"],n);const r=f(t,["topK"]);r!=null&&d(e,["topK"],r);const a=f(t,["seed"]);a!=null&&d(e,["seed"],a);const l=f(t,["guidance"]);l!=null&&d(e,["guidance"],l);const c=f(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=f(t,["density"]);h!=null&&d(e,["density"],h);const y=f(t,["brightness"]);y!=null&&d(e,["brightness"],y);const p=f(t,["scale"]);p!=null&&d(e,["scale"],p);const _=f(t,["muteBass"]);_!=null&&d(e,["muteBass"],_);const w=f(t,["muteDrums"]);w!=null&&d(e,["muteDrums"],w);const C=f(t,["onlyBassAndDrums"]);return C!=null&&d(e,["onlyBassAndDrums"],C),e}function jO(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],cC(n)),e}function fC(t){const e={},n=f(t,["model"]);return n!=null&&d(e,["model"],n),e}function dC(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>uC(a))),d(e,["weightedPrompts"],r)}return e}function xg(t){const e={},n=f(t,["setup"]);n!=null&&d(e,["setup"],fC(n));const r=f(t,["clientContent"]);r!=null&&d(e,["clientContent"],dC(r));const a=f(t,["musicGenerationConfig"]);a!=null&&d(e,["musicGenerationConfig"],cC(a));const l=f(t,["playbackControl"]);return l!=null&&d(e,["playbackControl"],l),e}function eP(){return{}}function tP(){return{}}function nP(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function rP(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function oP(t){const e={},n=f(t,["data"]);n!=null&&d(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function iP(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["data"]);r!=null&&d(e,["data"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function aP(t){const e={},n=f(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function sP(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function lP(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],nP(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],oP(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],aP(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function uP(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],rP(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],iP(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],sP(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function cP(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>lP(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function fP(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>uP(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function Fx(t){const e={},n=f(t,["text"]);n!=null&&d(e,["text"],n);const r=f(t,["finished"]);return r!=null&&d(e,["finished"],r),e}function qx(t){const e={},n=f(t,["text"]);n!=null&&d(e,["text"],n);const r=f(t,["finished"]);return r!=null&&d(e,["finished"],r),e}function dP(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const r=f(t,["urlRetrievalStatus"]);return r!=null&&d(e,["urlRetrievalStatus"],r),e}function hP(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>dP(a))),d(e,["urlMetadata"],r)}return e}function mP(t){const e={},n=f(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],cP(n));const r=f(t,["turnComplete"]);r!=null&&d(e,["turnComplete"],r);const a=f(t,["interrupted"]);a!=null&&d(e,["interrupted"],a);const l=f(t,["groundingMetadata"]);l!=null&&d(e,["groundingMetadata"],l);const c=f(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=f(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],Fx(h));const y=f(t,["outputTranscription"]);y!=null&&d(e,["outputTranscription"],Fx(y));const p=f(t,["urlContextMetadata"]);return p!=null&&d(e,["urlContextMetadata"],hP(p)),e}function pP(t){const e={},n=f(t,["modelTurn"]);n!=null&&d(e,["modelTurn"],fP(n));const r=f(t,["turnComplete"]);r!=null&&d(e,["turnComplete"],r);const a=f(t,["interrupted"]);a!=null&&d(e,["interrupted"],a);const l=f(t,["groundingMetadata"]);l!=null&&d(e,["groundingMetadata"],l);const c=f(t,["generationComplete"]);c!=null&&d(e,["generationComplete"],c);const h=f(t,["inputTranscription"]);h!=null&&d(e,["inputTranscription"],qx(h));const y=f(t,["outputTranscription"]);return y!=null&&d(e,["outputTranscription"],qx(y)),e}function gP(t){const e={},n=f(t,["id"]);n!=null&&d(e,["id"],n);const r=f(t,["args"]);r!=null&&d(e,["args"],r);const a=f(t,["name"]);return a!=null&&d(e,["name"],a),e}function yP(t){const e={},n=f(t,["args"]);n!=null&&d(e,["args"],n);const r=f(t,["name"]);return r!=null&&d(e,["name"],r),e}function vP(t){const e={},n=f(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>gP(a))),d(e,["functionCalls"],r)}return e}function bP(t){const e={},n=f(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>yP(a))),d(e,["functionCalls"],r)}return e}function _P(t){const e={},n=f(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function xP(t){const e={},n=f(t,["ids"]);return n!=null&&d(e,["ids"],n),e}function jf(t){const e={},n=f(t,["modality"]);n!=null&&d(e,["modality"],n);const r=f(t,["tokenCount"]);return r!=null&&d(e,["tokenCount"],r),e}function ed(t){const e={},n=f(t,["modality"]);n!=null&&d(e,["modality"],n);const r=f(t,["tokenCount"]);return r!=null&&d(e,["tokenCount"],r),e}function wP(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const a=f(t,["responseTokenCount"]);a!=null&&d(e,["responseTokenCount"],a);const l=f(t,["toolUsePromptTokenCount"]);l!=null&&d(e,["toolUsePromptTokenCount"],l);const c=f(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=f(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const y=f(t,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(E=>jf(E))),d(e,["promptTokensDetails"],C)}const p=f(t,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(E=>jf(E))),d(e,["cacheTokensDetails"],C)}const _=f(t,["responseTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(E=>jf(E))),d(e,["responseTokensDetails"],C)}const w=f(t,["toolUsePromptTokensDetails"]);if(w!=null){let C=w;Array.isArray(C)&&(C=C.map(E=>jf(E))),d(e,["toolUsePromptTokensDetails"],C)}return e}function TP(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const a=f(t,["candidatesTokenCount"]);a!=null&&d(e,["responseTokenCount"],a);const l=f(t,["toolUsePromptTokenCount"]);l!=null&&d(e,["toolUsePromptTokenCount"],l);const c=f(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const h=f(t,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const y=f(t,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(k=>ed(k))),d(e,["promptTokensDetails"],E)}const p=f(t,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(k=>ed(k))),d(e,["cacheTokensDetails"],E)}const _=f(t,["candidatesTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(k=>ed(k))),d(e,["responseTokensDetails"],E)}const w=f(t,["toolUsePromptTokensDetails"]);if(w!=null){let E=w;Array.isArray(E)&&(E=E.map(k=>ed(k))),d(e,["toolUsePromptTokensDetails"],E)}const C=f(t,["trafficType"]);return C!=null&&d(e,["trafficType"],C),e}function CP(t){const e={},n=f(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function SP(t){const e={},n=f(t,["timeLeft"]);return n!=null&&d(e,["timeLeft"],n),e}function EP(t){const e={},n=f(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const r=f(t,["resumable"]);r!=null&&d(e,["resumable"],r);const a=f(t,["lastConsumedClientMessageIndex"]);return a!=null&&d(e,["lastConsumedClientMessageIndex"],a),e}function AP(t){const e={},n=f(t,["newHandle"]);n!=null&&d(e,["newHandle"],n);const r=f(t,["resumable"]);r!=null&&d(e,["resumable"],r);const a=f(t,["lastConsumedClientMessageIndex"]);return a!=null&&d(e,["lastConsumedClientMessageIndex"],a),e}function RP(t){const e={};f(t,["setupComplete"])!=null&&d(e,["setupComplete"],eP());const r=f(t,["serverContent"]);r!=null&&d(e,["serverContent"],mP(r));const a=f(t,["toolCall"]);a!=null&&d(e,["toolCall"],vP(a));const l=f(t,["toolCallCancellation"]);l!=null&&d(e,["toolCallCancellation"],_P(l));const c=f(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],wP(c));const h=f(t,["goAway"]);h!=null&&d(e,["goAway"],CP(h));const y=f(t,["sessionResumptionUpdate"]);return y!=null&&d(e,["sessionResumptionUpdate"],EP(y)),e}function MP(t){const e={};f(t,["setupComplete"])!=null&&d(e,["setupComplete"],tP());const r=f(t,["serverContent"]);r!=null&&d(e,["serverContent"],pP(r));const a=f(t,["toolCall"]);a!=null&&d(e,["toolCall"],bP(a));const l=f(t,["toolCallCancellation"]);l!=null&&d(e,["toolCallCancellation"],xP(l));const c=f(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],TP(c));const h=f(t,["goAway"]);h!=null&&d(e,["goAway"],SP(h));const y=f(t,["sessionResumptionUpdate"]);return y!=null&&d(e,["sessionResumptionUpdate"],AP(y)),e}function kP(){return{}}function NP(t){const e={},n=f(t,["text"]);n!=null&&d(e,["text"],n);const r=f(t,["weight"]);return r!=null&&d(e,["weight"],r),e}function IP(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>NP(a))),d(e,["weightedPrompts"],r)}return e}function DP(t){const e={},n=f(t,["temperature"]);n!=null&&d(e,["temperature"],n);const r=f(t,["topK"]);r!=null&&d(e,["topK"],r);const a=f(t,["seed"]);a!=null&&d(e,["seed"],a);const l=f(t,["guidance"]);l!=null&&d(e,["guidance"],l);const c=f(t,["bpm"]);c!=null&&d(e,["bpm"],c);const h=f(t,["density"]);h!=null&&d(e,["density"],h);const y=f(t,["brightness"]);y!=null&&d(e,["brightness"],y);const p=f(t,["scale"]);p!=null&&d(e,["scale"],p);const _=f(t,["muteBass"]);_!=null&&d(e,["muteBass"],_);const w=f(t,["muteDrums"]);w!=null&&d(e,["muteDrums"],w);const C=f(t,["onlyBassAndDrums"]);return C!=null&&d(e,["onlyBassAndDrums"],C),e}function OP(t){const e={},n=f(t,["clientContent"]);n!=null&&d(e,["clientContent"],IP(n));const r=f(t,["musicGenerationConfig"]);return r!=null&&d(e,["musicGenerationConfig"],DP(r)),e}function PP(t){const e={},n=f(t,["data"]);n!=null&&d(e,["data"],n);const r=f(t,["mimeType"]);r!=null&&d(e,["mimeType"],r);const a=f(t,["sourceMetadata"]);return a!=null&&d(e,["sourceMetadata"],OP(a)),e}function LP(t){const e={},n=f(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>PP(a))),d(e,["audioChunks"],r)}return e}function UP(t){const e={},n=f(t,["text"]);n!=null&&d(e,["text"],n);const r=f(t,["filteredReason"]);return r!=null&&d(e,["filteredReason"],r),e}function BP(t){const e={};f(t,["setupComplete"])!=null&&d(e,["setupComplete"],kP());const r=f(t,["serverContent"]);r!=null&&d(e,["serverContent"],LP(r));const a=f(t,["filteredPrompt"]);return a!=null&&d(e,["filteredPrompt"],UP(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VP(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function FP(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&d(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function qP(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function GP(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],VP(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],FP(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],qP(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function mh(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>GP(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function zP(t){const e={},n=f(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const r=f(t,["default"]);r!=null&&d(e,["default"],r);const a=f(t,["description"]);a!=null&&d(e,["description"],a);const l=f(t,["enum"]);l!=null&&d(e,["enum"],l);const c=f(t,["example"]);c!=null&&d(e,["example"],c);const h=f(t,["format"]);h!=null&&d(e,["format"],h);const y=f(t,["items"]);y!=null&&d(e,["items"],y);const p=f(t,["maxItems"]);p!=null&&d(e,["maxItems"],p);const _=f(t,["maxLength"]);_!=null&&d(e,["maxLength"],_);const w=f(t,["maxProperties"]);w!=null&&d(e,["maxProperties"],w);const C=f(t,["maximum"]);C!=null&&d(e,["maximum"],C);const E=f(t,["minItems"]);E!=null&&d(e,["minItems"],E);const k=f(t,["minLength"]);k!=null&&d(e,["minLength"],k);const N=f(t,["minProperties"]);N!=null&&d(e,["minProperties"],N);const O=f(t,["minimum"]);O!=null&&d(e,["minimum"],O);const B=f(t,["nullable"]);B!=null&&d(e,["nullable"],B);const P=f(t,["pattern"]);P!=null&&d(e,["pattern"],P);const q=f(t,["properties"]);q!=null&&d(e,["properties"],q);const J=f(t,["propertyOrdering"]);J!=null&&d(e,["propertyOrdering"],J);const ee=f(t,["required"]);ee!=null&&d(e,["required"],ee);const ge=f(t,["title"]);ge!=null&&d(e,["title"],ge);const H=f(t,["type"]);return H!=null&&d(e,["type"],H),e}function KP(t){const e={};if(f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(t,["category"]);n!=null&&d(e,["category"],n);const r=f(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function $P(t){const e={},n=f(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=f(t,["description"]);r!=null&&d(e,["description"],r);const a=f(t,["name"]);a!=null&&d(e,["name"],a);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const c=f(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=f(t,["response"]);h!=null&&d(e,["response"],h);const y=f(t,["responseJsonSchema"]);return y!=null&&d(e,["responseJsonSchema"],y),e}function HP(t){const e={},n=f(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function YP(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],HP(n)),e}function JP(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function XP(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],JP(n)),e}function ZP(){return{}}function QP(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>$P(y))),d(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],YP(r));const a=f(t,["googleSearchRetrieval"]);if(a!=null&&d(e,["googleSearchRetrieval"],XP(a)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&d(e,["urlContext"],ZP());const c=f(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function WP(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function jP(t){const e={},n=f(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function e2(t){const e={},n=f(t,["latLng"]);n!=null&&d(e,["latLng"],jP(n));const r=f(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function t2(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],WP(n));const r=f(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],e2(r)),e}function n2(t){const e={},n=f(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function hC(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],n2(n)),e}function r2(t){const e={},n=f(t,["speaker"]);n!=null&&d(e,["speaker"],n);const r=f(t,["voiceConfig"]);return r!=null&&d(e,["voiceConfig"],hC(r)),e}function o2(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>r2(a))),d(e,["speakerVoiceConfigs"],r)}return e}function i2(t){const e={},n=f(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],hC(n));const r=f(t,["multiSpeakerVoiceConfig"]);r!=null&&d(e,["multiSpeakerVoiceConfig"],o2(r));const a=f(t,["languageCode"]);return a!=null&&d(e,["languageCode"],a),e}function a2(t){const e={},n=f(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const r=f(t,["thinkingBudget"]);return r!=null&&d(e,["thinkingBudget"],r),e}function s2(t,e,n){const r={},a=f(e,["systemInstruction"]);n!==void 0&&a!=null&&d(n,["systemInstruction"],mh(cr(a)));const l=f(e,["temperature"]);l!=null&&d(r,["temperature"],l);const c=f(e,["topP"]);c!=null&&d(r,["topP"],c);const h=f(e,["topK"]);h!=null&&d(r,["topK"],h);const y=f(e,["candidateCount"]);y!=null&&d(r,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&d(r,["maxOutputTokens"],p);const _=f(e,["stopSequences"]);_!=null&&d(r,["stopSequences"],_);const w=f(e,["responseLogprobs"]);w!=null&&d(r,["responseLogprobs"],w);const C=f(e,["logprobs"]);C!=null&&d(r,["logprobs"],C);const E=f(e,["presencePenalty"]);E!=null&&d(r,["presencePenalty"],E);const k=f(e,["frequencyPenalty"]);k!=null&&d(r,["frequencyPenalty"],k);const N=f(e,["seed"]);N!=null&&d(r,["seed"],N);const O=f(e,["responseMimeType"]);O!=null&&d(r,["responseMimeType"],O);const B=f(e,["responseSchema"]);if(B!=null&&d(r,["responseSchema"],zP($d(B))),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=f(e,["safetySettings"]);if(n!==void 0&&P!=null){let ye=P;Array.isArray(ye)&&(ye=ye.map(Ce=>KP(Ce))),d(n,["safetySettings"],ye)}const q=f(e,["tools"]);if(n!==void 0&&q!=null){let ye=Ac(q);Array.isArray(ye)&&(ye=ye.map(Ce=>QP(Ec(Ce)))),d(n,["tools"],ye)}const J=f(e,["toolConfig"]);if(n!==void 0&&J!=null&&d(n,["toolConfig"],t2(J)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=f(e,["cachedContent"]);n!==void 0&&ee!=null&&d(n,["cachedContent"],xa(t,ee));const ge=f(e,["responseModalities"]);ge!=null&&d(r,["responseModalities"],ge);const H=f(e,["mediaResolution"]);H!=null&&d(r,["mediaResolution"],H);const be=f(e,["speechConfig"]);if(be!=null&&d(r,["speechConfig"],i2(nC(be))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=f(e,["thinkingConfig"]);return ne!=null&&d(r,["thinkingConfig"],a2(ne)),r}function Gx(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["contents"]);if(a!=null){let c=so(a);Array.isArray(c)&&(c=c.map(h=>mh(h))),d(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&d(n,["generationConfig"],s2(t,l,n)),n}function l2(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const a=f(t,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&d(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function u2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["contents"]);a!=null&&d(n,["requests[]","content"],tC(t,a));const l=f(e,["config"]);l!=null&&d(n,["config"],l2(l,n));const c=f(e,["model"]);return c!==void 0&&d(n,["requests[]","model"],Zt(t,c)),n}function c2(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a);const l=f(t,["guidanceScale"]);if(e!==void 0&&l!=null&&d(e,["parameters","guidanceScale"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const h=f(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const y=f(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&d(e,["parameters","includeSafetyAttributes"],y);const p=f(t,["includeRaiReason"]);e!==void 0&&p!=null&&d(e,["parameters","includeRaiReason"],p);const _=f(t,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const w=f(t,["outputMimeType"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","mimeType"],w);const C=f(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&d(e,["parameters","outputOptions","compressionQuality"],C),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function f2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["prompt"]);a!=null&&d(n,["instances[0]","prompt"],a);const l=f(e,["config"]);return l!=null&&d(n,["config"],c2(l,n)),n}function d2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","name"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],a),n}function h2(t,e,n){const r={},a=f(e,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const l=f(e,["pageToken"]);n!==void 0&&l!=null&&d(n,["_query","pageToken"],l);const c=f(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=f(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],iC(t,h)),r}function m2(t,e){const n={},r=f(e,["config"]);return r!=null&&d(n,["config"],h2(t,r,n)),n}function p2(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const a=f(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&d(e,["defaultCheckpointId"],l),n}function g2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","name"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],p2(a,n)),n}function y2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","name"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],a),n}function v2(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function b2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["contents"]);if(a!=null){let c=so(a);Array.isArray(c)&&(c=c.map(h=>mh(h))),d(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&d(n,["config"],v2(l)),n}function _2(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],_i(n));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function x2(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(t,["durationSeconds"]);if(e!==void 0&&a!=null&&d(e,["parameters","durationSeconds"],a),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=f(t,["aspectRatio"]);if(e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l),f(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=f(t,["personGeneration"]);if(e!==void 0&&c!=null&&d(e,["parameters","personGeneration"],c),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&d(e,["parameters","negativePrompt"],h);const y=f(t,["enhancePrompt"]);if(e!==void 0&&y!=null&&d(e,["parameters","enhancePrompt"],y),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(f(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return n}function w2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["prompt"]);a!=null&&d(n,["instances[0]","prompt"],a);const l=f(e,["image"]);if(l!=null&&d(n,["instances[0]","image"],_2(l)),f(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const c=f(e,["config"]);return c!=null&&d(n,["config"],x2(c,n)),n}function T2(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function C2(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["data"]);r!=null&&d(e,["data"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function S2(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function E2(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],T2(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],C2(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],S2(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function Ll(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>E2(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function A2(t){const e={},n=f(t,["anyOf"]);n!=null&&d(e,["anyOf"],n);const r=f(t,["default"]);r!=null&&d(e,["default"],r);const a=f(t,["description"]);a!=null&&d(e,["description"],a);const l=f(t,["enum"]);l!=null&&d(e,["enum"],l);const c=f(t,["example"]);c!=null&&d(e,["example"],c);const h=f(t,["format"]);h!=null&&d(e,["format"],h);const y=f(t,["items"]);y!=null&&d(e,["items"],y);const p=f(t,["maxItems"]);p!=null&&d(e,["maxItems"],p);const _=f(t,["maxLength"]);_!=null&&d(e,["maxLength"],_);const w=f(t,["maxProperties"]);w!=null&&d(e,["maxProperties"],w);const C=f(t,["maximum"]);C!=null&&d(e,["maximum"],C);const E=f(t,["minItems"]);E!=null&&d(e,["minItems"],E);const k=f(t,["minLength"]);k!=null&&d(e,["minLength"],k);const N=f(t,["minProperties"]);N!=null&&d(e,["minProperties"],N);const O=f(t,["minimum"]);O!=null&&d(e,["minimum"],O);const B=f(t,["nullable"]);B!=null&&d(e,["nullable"],B);const P=f(t,["pattern"]);P!=null&&d(e,["pattern"],P);const q=f(t,["properties"]);q!=null&&d(e,["properties"],q);const J=f(t,["propertyOrdering"]);J!=null&&d(e,["propertyOrdering"],J);const ee=f(t,["required"]);ee!=null&&d(e,["required"],ee);const ge=f(t,["title"]);ge!=null&&d(e,["title"],ge);const H=f(t,["type"]);return H!=null&&d(e,["type"],H),e}function R2(t){const e={},n=f(t,["featureSelectionPreference"]);return n!=null&&d(e,["featureSelectionPreference"],n),e}function M2(t){const e={},n=f(t,["method"]);n!=null&&d(e,["method"],n);const r=f(t,["category"]);r!=null&&d(e,["category"],r);const a=f(t,["threshold"]);return a!=null&&d(e,["threshold"],a),e}function k2(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&d(e,["description"],n);const r=f(t,["name"]);r!=null&&d(e,["name"],r);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const l=f(t,["parametersJsonSchema"]);l!=null&&d(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const h=f(t,["responseJsonSchema"]);return h!=null&&d(e,["responseJsonSchema"],h),e}function N2(t){const e={},n=f(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function I2(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],N2(n)),e}function D2(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function O2(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],D2(n)),e}function P2(){return{}}function L2(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&d(e,["apiKeyString"],n),e}function U2(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&d(e,["apiKeyConfig"],L2(n));const r=f(t,["authType"]);r!=null&&d(e,["authType"],r);const a=f(t,["googleServiceAccountConfig"]);a!=null&&d(e,["googleServiceAccountConfig"],a);const l=f(t,["httpBasicAuthConfig"]);l!=null&&d(e,["httpBasicAuthConfig"],l);const c=f(t,["oauthConfig"]);c!=null&&d(e,["oauthConfig"],c);const h=f(t,["oidcConfig"]);return h!=null&&d(e,["oidcConfig"],h),e}function B2(t){const e={},n=f(t,["authConfig"]);return n!=null&&d(e,["authConfig"],U2(n)),e}function V2(){return{}}function mC(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>k2(w))),d(e,["functionDeclarations"],_)}const r=f(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const a=f(t,["googleSearch"]);a!=null&&d(e,["googleSearch"],I2(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&d(e,["googleSearchRetrieval"],O2(l)),f(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],P2());const h=f(t,["googleMaps"]);h!=null&&d(e,["googleMaps"],B2(h)),f(t,["urlContext"])!=null&&d(e,["urlContext"],V2());const p=f(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function F2(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&d(e,["allowedFunctionNames"],r),e}function q2(t){const e={},n=f(t,["latitude"]);n!=null&&d(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&d(e,["longitude"],r),e}function G2(t){const e={},n=f(t,["latLng"]);n!=null&&d(e,["latLng"],q2(n));const r=f(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function z2(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],F2(n));const r=f(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],G2(r)),e}function K2(t){const e={},n=f(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function $2(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],K2(n)),e}function H2(t){const e={},n=f(t,["voiceConfig"]);if(n!=null&&d(e,["voiceConfig"],$2(n)),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(t,["languageCode"]);return r!=null&&d(e,["languageCode"],r),e}function Y2(t){const e={},n=f(t,["includeThoughts"]);n!=null&&d(e,["includeThoughts"],n);const r=f(t,["thinkingBudget"]);return r!=null&&d(e,["thinkingBudget"],r),e}function J2(t,e,n){const r={},a=f(e,["systemInstruction"]);n!==void 0&&a!=null&&d(n,["systemInstruction"],Ll(cr(a)));const l=f(e,["temperature"]);l!=null&&d(r,["temperature"],l);const c=f(e,["topP"]);c!=null&&d(r,["topP"],c);const h=f(e,["topK"]);h!=null&&d(r,["topK"],h);const y=f(e,["candidateCount"]);y!=null&&d(r,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&d(r,["maxOutputTokens"],p);const _=f(e,["stopSequences"]);_!=null&&d(r,["stopSequences"],_);const w=f(e,["responseLogprobs"]);w!=null&&d(r,["responseLogprobs"],w);const C=f(e,["logprobs"]);C!=null&&d(r,["logprobs"],C);const E=f(e,["presencePenalty"]);E!=null&&d(r,["presencePenalty"],E);const k=f(e,["frequencyPenalty"]);k!=null&&d(r,["frequencyPenalty"],k);const N=f(e,["seed"]);N!=null&&d(r,["seed"],N);const O=f(e,["responseMimeType"]);O!=null&&d(r,["responseMimeType"],O);const B=f(e,["responseSchema"]);B!=null&&d(r,["responseSchema"],A2($d(B)));const P=f(e,["routingConfig"]);P!=null&&d(r,["routingConfig"],P);const q=f(e,["modelSelectionConfig"]);q!=null&&d(r,["modelConfig"],R2(q));const J=f(e,["safetySettings"]);if(n!==void 0&&J!=null){let me=J;Array.isArray(me)&&(me=me.map(Me=>M2(Me))),d(n,["safetySettings"],me)}const ee=f(e,["tools"]);if(n!==void 0&&ee!=null){let me=Ac(ee);Array.isArray(me)&&(me=me.map(Me=>mC(Ec(Me)))),d(n,["tools"],me)}const ge=f(e,["toolConfig"]);n!==void 0&&ge!=null&&d(n,["toolConfig"],z2(ge));const H=f(e,["labels"]);n!==void 0&&H!=null&&d(n,["labels"],H);const be=f(e,["cachedContent"]);n!==void 0&&be!=null&&d(n,["cachedContent"],xa(t,be));const ne=f(e,["responseModalities"]);ne!=null&&d(r,["responseModalities"],ne);const ye=f(e,["mediaResolution"]);ye!=null&&d(r,["mediaResolution"],ye);const Ce=f(e,["speechConfig"]);Ce!=null&&d(r,["speechConfig"],H2(nC(Ce)));const Se=f(e,["audioTimestamp"]);Se!=null&&d(r,["audioTimestamp"],Se);const Ee=f(e,["thinkingConfig"]);return Ee!=null&&d(r,["thinkingConfig"],Y2(Ee)),r}function zx(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["contents"]);if(a!=null){let c=so(a);Array.isArray(c)&&(c=c.map(h=>Ll(h))),d(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&d(n,["generationConfig"],J2(t,l,n)),n}function X2(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const a=f(t,["title"]);e!==void 0&&a!=null&&d(e,["instances[]","title"],a);const l=f(t,["outputDimensionality"]);e!==void 0&&l!=null&&d(e,["parameters","outputDimensionality"],l);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const h=f(t,["autoTruncate"]);return e!==void 0&&h!=null&&d(e,["parameters","autoTruncate"],h),n}function Z2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["contents"]);a!=null&&d(n,["instances[]","content"],tC(t,a));const l=f(e,["config"]);return l!=null&&d(n,["config"],X2(l,n)),n}function Q2(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const a=f(t,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const y=f(t,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const _=f(t,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const w=f(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&d(e,["parameters","includeSafetyAttributes"],w);const C=f(t,["includeRaiReason"]);e!==void 0&&C!=null&&d(e,["parameters","includeRaiReason"],C);const E=f(t,["language"]);e!==void 0&&E!=null&&d(e,["parameters","language"],E);const k=f(t,["outputMimeType"]);e!==void 0&&k!=null&&d(e,["parameters","outputOptions","mimeType"],k);const N=f(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const O=f(t,["addWatermark"]);e!==void 0&&O!=null&&d(e,["parameters","addWatermark"],O);const B=f(t,["enhancePrompt"]);return e!==void 0&&B!=null&&d(e,["parameters","enhancePrompt"],B),n}function W2(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["prompt"]);a!=null&&d(n,["instances[0]","prompt"],a);const l=f(e,["config"]);return l!=null&&d(n,["config"],Q2(l,n)),n}function ph(t){const e={},n=f(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],_i(r));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function j2(t){const e={},n=f(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const a=f(t,["maskDilation"]);return a!=null&&d(e,["dilation"],a),e}function eL(t){const e={},n=f(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function tL(t){const e={},n=f(t,["styleDescription"]);return n!=null&&d(e,["styleDescription"],n),e}function nL(t){const e={},n=f(t,["subjectType"]);n!=null&&d(e,["subjectType"],n);const r=f(t,["subjectDescription"]);return r!=null&&d(e,["subjectDescription"],r),e}function rL(t){const e={},n=f(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],ph(n));const r=f(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const a=f(t,["referenceType"]);a!=null&&d(e,["referenceType"],a);const l=f(t,["maskImageConfig"]);l!=null&&d(e,["maskImageConfig"],j2(l));const c=f(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],eL(c));const h=f(t,["styleImageConfig"]);h!=null&&d(e,["styleImageConfig"],tL(h));const y=f(t,["subjectImageConfig"]);return y!=null&&d(e,["subjectImageConfig"],nL(y)),e}function oL(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const a=f(t,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&d(e,["parameters","sampleCount"],l);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const h=f(t,["guidanceScale"]);e!==void 0&&h!=null&&d(e,["parameters","guidanceScale"],h);const y=f(t,["seed"]);e!==void 0&&y!=null&&d(e,["parameters","seed"],y);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const _=f(t,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const w=f(t,["includeSafetyAttributes"]);e!==void 0&&w!=null&&d(e,["parameters","includeSafetyAttributes"],w);const C=f(t,["includeRaiReason"]);e!==void 0&&C!=null&&d(e,["parameters","includeRaiReason"],C);const E=f(t,["language"]);e!==void 0&&E!=null&&d(e,["parameters","language"],E);const k=f(t,["outputMimeType"]);e!==void 0&&k!=null&&d(e,["parameters","outputOptions","mimeType"],k);const N=f(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const O=f(t,["editMode"]);e!==void 0&&O!=null&&d(e,["parameters","editMode"],O);const B=f(t,["baseSteps"]);return e!==void 0&&B!=null&&d(e,["parameters","editConfig","baseSteps"],B),n}function iL(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["prompt"]);a!=null&&d(n,["instances[0]","prompt"],a);const l=f(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>rL(y))),d(n,["instances[0]","referenceImages"],h)}const c=f(e,["config"]);return c!=null&&d(n,["config"],oL(c,n)),n}function aL(t,e){const n={},r=f(t,["includeRaiReason"]);e!==void 0&&r!=null&&d(e,["parameters","includeRaiReason"],r);const a=f(t,["outputMimeType"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","mimeType"],a);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&d(e,["parameters","outputOptions","compressionQuality"],l);const c=f(t,["numberOfImages"]);e!==void 0&&c!=null&&d(e,["parameters","sampleCount"],c);const h=f(t,["mode"]);return e!==void 0&&h!=null&&d(e,["parameters","mode"],h),n}function sL(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["image"]);a!=null&&d(n,["instances[0]","image"],ph(a));const l=f(e,["upscaleFactor"]);l!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=f(e,["config"]);return c!=null&&d(n,["config"],aL(c,n)),n}function lL(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","name"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],a),n}function uL(t,e,n){const r={},a=f(e,["pageSize"]);n!==void 0&&a!=null&&d(n,["_query","pageSize"],a);const l=f(e,["pageToken"]);n!==void 0&&l!=null&&d(n,["_query","pageToken"],l);const c=f(e,["filter"]);n!==void 0&&c!=null&&d(n,["_query","filter"],c);const h=f(e,["queryBase"]);return n!==void 0&&h!=null&&d(n,["_url","models_url"],iC(t,h)),r}function cL(t,e){const n={},r=f(e,["config"]);return r!=null&&d(n,["config"],uL(t,r,n)),n}function fL(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const a=f(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&d(e,["defaultCheckpointId"],l),n}function dL(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],fL(a,n)),n}function hL(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","name"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],a),n}function mL(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],Ll(cr(r)));const a=f(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>mC(h))),d(e,["tools"],c)}const l=f(t,["generationConfig"]);return e!==void 0&&l!=null&&d(e,["generationConfig"],l),n}function pL(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["contents"]);if(a!=null){let c=so(a);Array.isArray(c)&&(c=c.map(h=>Ll(h))),d(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&d(n,["config"],mL(l,n)),n}function gL(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["contents"]);if(a!=null){let c=so(a);Array.isArray(c)&&(c=c.map(h=>Ll(h))),d(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&d(n,["config"],l),n}function yL(t){const e={},n=f(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],_i(r));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function vL(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const a=f(t,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const l=f(t,["fps"]);e!==void 0&&l!=null&&d(e,["parameters","fps"],l);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const h=f(t,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const y=f(t,["aspectRatio"]);e!==void 0&&y!=null&&d(e,["parameters","aspectRatio"],y);const p=f(t,["resolution"]);e!==void 0&&p!=null&&d(e,["parameters","resolution"],p);const _=f(t,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const w=f(t,["pubsubTopic"]);e!==void 0&&w!=null&&d(e,["parameters","pubsubTopic"],w);const C=f(t,["negativePrompt"]);e!==void 0&&C!=null&&d(e,["parameters","negativePrompt"],C);const E=f(t,["enhancePrompt"]);e!==void 0&&E!=null&&d(e,["parameters","enhancePrompt"],E);const k=f(t,["generateAudio"]);e!==void 0&&k!=null&&d(e,["parameters","generateAudio"],k);const N=f(t,["lastFrame"]);return e!==void 0&&N!=null&&d(e,["instances[0]","lastFrame"],ph(N)),n}function bL(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["_url","model"],Zt(t,r));const a=f(e,["prompt"]);a!=null&&d(n,["instances[0]","prompt"],a);const l=f(e,["image"]);l!=null&&d(n,["instances[0]","image"],ph(l));const c=f(e,["video"]);c!=null&&d(n,["instances[0]","video"],yL(c));const h=f(e,["config"]);return h!=null&&d(n,["config"],vL(h,n)),n}function _L(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function xL(t){const e={},n=f(t,["data"]);n!=null&&d(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function wL(t){const e={},n=f(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function TL(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],_L(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],xL(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],wL(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function CL(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>TL(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function SL(t){const e={},n=f(t,["citationSources"]);return n!=null&&d(e,["citations"],n),e}function EL(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const r=f(t,["urlRetrievalStatus"]);return r!=null&&d(e,["urlRetrievalStatus"],r),e}function AL(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>EL(a))),d(e,["urlMetadata"],r)}return e}function RL(t){const e={},n=f(t,["content"]);n!=null&&d(e,["content"],CL(n));const r=f(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],SL(r));const a=f(t,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const l=f(t,["finishReason"]);l!=null&&d(e,["finishReason"],l);const c=f(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],AL(c));const h=f(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const y=f(t,["groundingMetadata"]);y!=null&&d(e,["groundingMetadata"],y);const p=f(t,["index"]);p!=null&&d(e,["index"],p);const _=f(t,["logprobsResult"]);_!=null&&d(e,["logprobsResult"],_);const w=f(t,["safetyRatings"]);return w!=null&&d(e,["safetyRatings"],w),e}function Kx(t){const e={},n=f(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>RL(h))),d(e,["candidates"],c)}const r=f(t,["modelVersion"]);r!=null&&d(e,["modelVersion"],r);const a=f(t,["promptFeedback"]);a!=null&&d(e,["promptFeedback"],a);const l=f(t,["usageMetadata"]);return l!=null&&d(e,["usageMetadata"],l),e}function ML(t){const e={},n=f(t,["values"]);return n!=null&&d(e,["values"],n),e}function kL(){return{}}function NL(t){const e={},n=f(t,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>ML(l))),d(e,["embeddings"],a)}return f(t,["metadata"])!=null&&d(e,["metadata"],kL()),e}function IL(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],_i(n));const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function pC(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const a=f(t,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function DL(t){const e={},n=f(t,["_self"]);n!=null&&d(e,["image"],IL(n));const r=f(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const a=f(t,["_self"]);return a!=null&&d(e,["safetyAttributes"],pC(a)),e}function OL(t){const e={},n=f(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>DL(l))),d(e,["generatedImages"],a)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],pC(r)),e}function PL(t){const e={},n=f(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&d(e,["createTime"],r);const a=f(t,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function wg(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["displayName"]);r!=null&&d(e,["displayName"],r);const a=f(t,["description"]);a!=null&&d(e,["description"],a);const l=f(t,["version"]);l!=null&&d(e,["version"],l);const c=f(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],PL(c));const h=f(t,["inputTokenLimit"]);h!=null&&d(e,["inputTokenLimit"],h);const y=f(t,["outputTokenLimit"]);y!=null&&d(e,["outputTokenLimit"],y);const p=f(t,["supportedGenerationMethods"]);return p!=null&&d(e,["supportedActions"],p),e}function LL(t,e){const n={},r=f(e,["nextPageToken"]);r!=null&&d(n,["nextPageToken"],r);const a=f(e,["_self"]);if(a!=null){let l=aC(a);Array.isArray(l)&&(l=l.map(c=>wg(c))),d(n,["models"],l)}return n}function UL(){return{}}function BL(t){const e={},n=f(t,["totalTokens"]);n!=null&&d(e,["totalTokens"],n);const r=f(t,["cachedContentTokenCount"]);return r!=null&&d(e,["cachedContentTokenCount"],r),e}function VL(t){const e={},n=f(t,["video","uri"]);n!=null&&d(e,["uri"],n);const r=f(t,["video","encodedVideo"]);r!=null&&d(e,["videoBytes"],_i(r));const a=f(t,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function FL(t){const e={},n=f(t,["_self"]);return n!=null&&d(e,["video"],VL(n)),e}function qL(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>FL(c))),d(e,["generatedVideos"],l)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function GL(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const l=f(t,["error"]);l!=null&&d(e,["error"],l);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],qL(c)),e}function zL(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function KL(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["data"]);r!=null&&d(e,["data"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function $L(t){const e={},n=f(t,["displayName"]);n!=null&&d(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&d(e,["fileUri"],r);const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function HL(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],zL(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],KL(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],$L(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function YL(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>HL(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function JL(t){const e={},n=f(t,["citations"]);return n!=null&&d(e,["citations"],n),e}function XL(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&d(e,["retrievedUrl"],n);const r=f(t,["urlRetrievalStatus"]);return r!=null&&d(e,["urlRetrievalStatus"],r),e}function ZL(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>XL(a))),d(e,["urlMetadata"],r)}return e}function QL(t){const e={},n=f(t,["content"]);n!=null&&d(e,["content"],YL(n));const r=f(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],JL(r));const a=f(t,["finishMessage"]);a!=null&&d(e,["finishMessage"],a);const l=f(t,["finishReason"]);l!=null&&d(e,["finishReason"],l);const c=f(t,["urlContextMetadata"]);c!=null&&d(e,["urlContextMetadata"],ZL(c));const h=f(t,["avgLogprobs"]);h!=null&&d(e,["avgLogprobs"],h);const y=f(t,["groundingMetadata"]);y!=null&&d(e,["groundingMetadata"],y);const p=f(t,["index"]);p!=null&&d(e,["index"],p);const _=f(t,["logprobsResult"]);_!=null&&d(e,["logprobsResult"],_);const w=f(t,["safetyRatings"]);return w!=null&&d(e,["safetyRatings"],w),e}function $x(t){const e={},n=f(t,["candidates"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(p=>QL(p))),d(e,["candidates"],y)}const r=f(t,["createTime"]);r!=null&&d(e,["createTime"],r);const a=f(t,["responseId"]);a!=null&&d(e,["responseId"],a);const l=f(t,["modelVersion"]);l!=null&&d(e,["modelVersion"],l);const c=f(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const h=f(t,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function WL(t){const e={},n=f(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function jL(t){const e={},n=f(t,["values"]);n!=null&&d(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&d(e,["statistics"],WL(r)),e}function eU(t){const e={},n=f(t,["billableCharacterCount"]);return n!=null&&d(e,["billableCharacterCount"],n),e}function tU(t){const e={},n=f(t,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>jL(l))),d(e,["embeddings"],a)}const r=f(t,["metadata"]);return r!=null&&d(e,["metadata"],eU(r)),e}function nU(t){const e={},n=f(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],_i(r));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function gC(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const a=f(t,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function sy(t){const e={},n=f(t,["_self"]);n!=null&&d(e,["image"],nU(n));const r=f(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const a=f(t,["_self"]);a!=null&&d(e,["safetyAttributes"],gC(a));const l=f(t,["prompt"]);return l!=null&&d(e,["enhancedPrompt"],l),e}function rU(t){const e={},n=f(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>sy(l))),d(e,["generatedImages"],a)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&d(e,["positivePromptSafetyAttributes"],gC(r)),e}function oU(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>sy(a))),d(e,["generatedImages"],r)}return e}function iU(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>sy(a))),d(e,["generatedImages"],r)}return e}function aU(t){const e={},n=f(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function sU(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&d(e,["createTime"],r);const a=f(t,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function lU(t){const e={},n=f(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const r=f(t,["epoch"]);r!=null&&d(e,["epoch"],r);const a=f(t,["step"]);return a!=null&&d(e,["step"],a),e}function Tg(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["displayName"]);r!=null&&d(e,["displayName"],r);const a=f(t,["description"]);a!=null&&d(e,["description"],a);const l=f(t,["versionId"]);l!=null&&d(e,["version"],l);const c=f(t,["deployedModels"]);if(c!=null){let w=c;Array.isArray(w)&&(w=w.map(C=>aU(C))),d(e,["endpoints"],w)}const h=f(t,["labels"]);h!=null&&d(e,["labels"],h);const y=f(t,["_self"]);y!=null&&d(e,["tunedModelInfo"],sU(y));const p=f(t,["defaultCheckpointId"]);p!=null&&d(e,["defaultCheckpointId"],p);const _=f(t,["checkpoints"]);if(_!=null){let w=_;Array.isArray(w)&&(w=w.map(C=>lU(C))),d(e,["checkpoints"],w)}return e}function uU(t,e){const n={},r=f(e,["nextPageToken"]);r!=null&&d(n,["nextPageToken"],r);const a=f(e,["_self"]);if(a!=null){let l=aC(a);Array.isArray(l)&&(l=l.map(c=>Tg(c))),d(n,["models"],l)}return n}function cU(){return{}}function fU(t){const e={},n=f(t,["totalTokens"]);return n!=null&&d(e,["totalTokens"],n),e}function dU(t){const e={},n=f(t,["tokensInfo"]);return n!=null&&d(e,["tokensInfo"],n),e}function hU(t){const e={},n=f(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],_i(r));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function mU(t){const e={},n=f(t,["_self"]);return n!=null&&d(e,["video"],hU(n)),e}function pU(t){const e={},n=f(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>mU(c))),d(e,["generatedVideos"],l)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function gU(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const l=f(t,["error"]);l!=null&&d(e,["error"],l);const c=f(t,["response"]);return c!=null&&d(e,["response"],pU(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yU="Content-Type",vU="X-Server-Timeout",bU="User-Agent",Cg="x-goog-api-client",_U="1.6.0",xU=`google-genai-sdk/${_U}`,wU="v1beta1",TU="v1beta",Hx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class CU{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:wU,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:TU,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))a.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(n))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const a=new AbortController,l=a.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>a.abort(),n.timeout),r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=l}return n&&n.extraBody!==null&&SU(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await Yx(a),new vg(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await Yx(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return _l(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:y}=yield tn(a.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=l.decode(y);try{const w=JSON.parse(p);if("error"in w){const C=JSON.parse(JSON.stringify(w.error)),E=C.status,k=C.code,N=`got status: ${E}. ${JSON.stringify(w)}`;if(k>=400&&k<600)throw new hh({message:N,status:k})}}catch(w){if(w.name==="ApiError")throw w}c+=p;let _=c.match(Hx);for(;_;){const w=_[1];try{const C=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield tn(new vg(C)),c=c.slice(_[0].length),_=c.match(Hx)}catch(C){throw new Error(`exception parsing stream chunk ${w}. ${C}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=xU+" "+this.clientOptions.userAgentExtra;return e[bU]=n,e[Cg]=n,e[yU]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))n.append(r,a);e.timeout&&e.timeout>0&&n.append(vU,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const h=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const y=await this.fetchUploadUrl(a,n);return l.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},c=await this.request({path:ct("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:a});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(r=c==null?void 0:c.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Yx(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(r);throw n>=400&&n<600?new hh({message:a,status:n}):new Error(a)}}function SU(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const h=Object.assign({},l);for(const y in c)if(Object.prototype.hasOwnProperty.call(c,y)){const p=c[y],_=h[y];p&&typeof p=="object"&&!Array.isArray(p)&&_&&typeof _=="object"&&!Array.isArray(_)?h[y]=r(_,p):(_&&p&&typeof _!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof _}, New type: ${typeof p}. Overwriting.`),h[y]=p)}return h}const a=r(n,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EU="mcp_used/unknown";function yC(t){for(const e of t)if(ly(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function vC(t){var e;const n=(e=t[Cg])!==null&&e!==void 0?e:"";t[Cg]=(n+` ${EU}`).trimStart()}function AU(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>ly(a)))!==null&&r!==void 0?r:!1}function RU(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>!ly(a)))!==null&&r!==void 0?r:!1}function ly(t){return t!==null&&typeof t=="object"&&t instanceof uy}function MU(t,e=100){return _l(this,arguments,function*(){let r,a=0;for(;a<e;){const l=yield tn(t.listTools({cursor:r}));for(const c of l.tools)yield yield tn(c),a++;if(!l.nextCursor)break;r=l.nextCursor}})}class uy{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new uy(e,n)}async initialize(){var e,n,r,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const _ of this.mcpClients)try{for(var h=!0,y=(n=void 0,gc(MU(_))),p;p=await y.next(),e=p.done,!e;h=!0){a=p.value,h=!1;const w=a;c.push(w);const C=w.name;if(l[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);l[C]=_}}catch(w){n={error:w}}finally{try{!h&&!e&&(r=y.return)&&await r.call(y)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),MI(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:r.name,arguments:r.args},void 0,l);n.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kU(t,e,n){const r=new gI;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data);const l=BP(a);Object.assign(r,l),e(r)}class NU{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=OU(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const _=new Promise(q=>{p=q}),w=e.callbacks,C=function(){p({})},E=this.apiClient,k={onopen:C,onmessage:q=>{kU(E,w.onmessage,q)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(q){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(q){}},N=this.webSocketFactory.create(y,DU(c),k);N.connect(),await _;const O=Zt(this.apiClient,e.model),B=fC({model:O}),P=xg({setup:B});return N.send(JSON.stringify(P)),new IU(N,this.apiClient)}}class IU{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=WO(e),r=dC(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=jO(e),r=xg(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=xg({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(hl.PLAY)}pause(){this.sendPlaybackControl(hl.PAUSE)}stop(){this.sendPlaybackControl(hl.STOP)}resetContext(){this.sendPlaybackControl(hl.RESET_CONTEXT)}close(){this.conn.close()}}function DU(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function OU(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PU="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function LU(t,e,n){const r=new pI;let a;if(n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),t.isVertexAI()){const l=MP(a);Object.assign(r,l)}else{const l=RP(a);Object.assign(r,l)}e(r)}class UU{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new NU(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,a,l,c,h;const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let _;const w=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&yC(e.config.tools)&&vC(w);const C=qU(w);if(this.apiClient.isVertexAI())_=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const ne=this.apiClient.getApiKey();let ye="BidiGenerateContent",Ce="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ye="BidiGenerateContentConstrained",Ce="access_token"),_=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ye}?${Ce}=${ne}`}let E=()=>{};const k=new Promise(ne=>{E=ne}),N=e.callbacks,O=function(){var ne;(ne=N==null?void 0:N.onopen)===null||ne===void 0||ne.call(N),E({})},B=this.apiClient,P={onopen:O,onmessage:ne=>{LU(B,N.onmessage,ne)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(ne){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(ne){}},q=this.webSocketFactory.create(_,FU(C),P);q.connect(),await k;let J=Zt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const ne=this.apiClient.getProject(),ye=this.apiClient.getLocation();J=`projects/${ne}/locations/${ye}/`+J}let ee={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[zd.AUDIO]}:e.config.responseModalities=[zd.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ge=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],H=[];for(const ne of ge)if(this.isCallableTool(ne)){const ye=ne;H.push(await ye.tool())}else H.push(ne);H.length>0&&(e.config.tools=H);const be={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ee=$O(this.apiClient,be):ee=KO(this.apiClient,be),delete ee.config,q.send(JSON.stringify(ee)),new VU(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const BU={turnComplete:!0};class VU{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=so(n.turns),e.isVertexAI()?r=r.map(a=>Ll(a)):r=r.map(a=>mh(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(PU)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},BU),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:QO(e)}:n={realtimeInput:ZO(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function FU(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qU(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jx=10;function Xx(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(hd(c)){a=!0;break}if(!a)return!0;const l=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function hd(t){return"callTool"in t&&typeof t.callTool=="function"}function Zx(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let GU=class extends Pl{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,a,l,c,h;const y=await this.processParamsForMcpUsage(n);if(!AU(n)||Xx(n.config))return await this.generateContentInternal(y);if(RU(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,_;const w=so(y.contents),C=(l=(a=(r=y.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:Jx;let E=0;for(;E<C&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const k=p.candidates[0].content,N=[];for(const O of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(hd(O)){const P=await O.callTool(p.functionCalls);N.push(...P)}E++,_={role:"user",parts:N},y.contents=so(y.contents),y.contents.push(k),y.contents.push(_),Zx(y.config)&&(w.push(k),w.push(_))}return Zx(y.config)&&(p.automaticFunctionCallingHistory=w),p},this.generateContentStream=async n=>{if(Xx(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let l;const c=[];if(r!=null&&r.generatedImages)for(const y of r.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=y==null?void 0:y.safetyAttributes:c.push(y);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l}:h={generatedImages:c},h}),this.list=async n=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new dh(kl.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var n,r,a;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async y=>hd(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&yC(e.config.tools)){const y=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),vC(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var n,r,a;const l=new Map;for(const c of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(hd(c)){const h=c,y=await h.tool();for(const p of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,h)}}return l}async processAfcStream(e){var n,r,a;const l=(a=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Jx;let c=!1,h=0;const y=await this.initAfcToolsMap(e);return function(p,_,w){var C,E;return _l(this,arguments,function*(){for(var k,N,O,B;h<l;){c&&(h++,c=!1);const ee=yield tn(p.processParamsForMcpUsage(w)),ge=yield tn(p.generateContentStreamInternal(ee)),H=[],be=[];try{for(var P=!0,q=(N=void 0,gc(ge)),J;J=yield tn(q.next()),k=J.done,!k;P=!0){B=J.value,P=!1;const ne=B;if(yield yield tn(ne),ne.candidates&&(!((C=ne.candidates[0])===null||C===void 0)&&C.content)){be.push(ne.candidates[0].content);for(const ye of(E=ne.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<l&&ye.functionCall){if(!ye.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(ye.functionCall.name)){const Ce=yield tn(_.get(ye.functionCall.name).callTool([ye.functionCall]));H.push(...Ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${ye.functionCall.name}`)}}}}catch(ne){N={error:ne}}finally{try{!P&&!k&&(O=q.return)&&(yield tn(O.call(q)))}finally{if(N)throw N.error}}if(H.length>0){c=!0;const ne=new ec;ne.candidates=[{content:{role:"user",parts:H}}],yield yield tn(ne);const ye=[];ye.push(...be),ye.push({role:"user",parts:H});const Ce=so(w.contents).concat(ye);w.contents=Ce}else break}})}(this,y,e)}async generateContentInternal(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=zx(this.apiClient,e);return h=ct("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const w=$x(_),C=new ec;return Object.assign(C,w),C})}else{const p=Gx(this.apiClient,e);return h=ct("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const w=Kx(_),C=new ec;return Object.assign(C,w),C})}}async generateContentStreamInternal(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=zx(this.apiClient,e);return h=ct("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(w){return _l(this,arguments,function*(){var C,E,k,N;try{for(var O=!0,B=gc(w),P;P=yield tn(B.next()),C=P.done,!C;O=!0){N=P.value,O=!1;const J=$x(yield tn(N.json())),ee=new ec;Object.assign(ee,J),yield yield tn(ee)}}catch(q){E={error:q}}finally{try{!O&&!C&&(k=B.return)&&(yield tn(k.call(B)))}finally{if(E)throw E.error}}})})}else{const p=Gx(this.apiClient,e);return h=ct("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(w){return _l(this,arguments,function*(){var C,E,k,N;try{for(var O=!0,B=gc(w),P;P=yield tn(B.next()),C=P.done,!C;O=!0){N=P.value,O=!1;const J=Kx(yield tn(N.json())),ee=new ec;Object.assign(ee,J),yield yield tn(ee)}}catch(q){E={error:q}}finally{try{!O&&!C&&(k=B.return)&&(yield tn(k.call(B)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=Z2(this.apiClient,e);return h=ct("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const w=tU(_),C=new wx;return Object.assign(C,w),C})}else{const p=u2(this.apiClient,e);return h=ct("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const w=NL(_),C=new wx;return Object.assign(C,w),C})}}async generateImagesInternal(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=W2(this.apiClient,e);return h=ct("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const w=rU(_),C=new Tx;return Object.assign(C,w),C})}else{const p=f2(this.apiClient,e);return h=ct("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const w=OL(_),C=new Tx;return Object.assign(C,w),C})}}async editImageInternal(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=iL(this.apiClient,e);return l=ct("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=oU(y),_=new uI;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=sL(this.apiClient,e);return l=ct("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=iU(y),_=new cI;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=lL(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Tg(_))}else{const p=d2(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>wg(_))}}async listInternal(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=cL(this.apiClient,e);return h=ct("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const w=uU(this.apiClient,_),C=new Cx;return Object.assign(C,w),C})}else{const p=m2(this.apiClient,e);return h=ct("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const w=LL(this.apiClient,_),C=new Cx;return Object.assign(C,w),C})}}async update(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=dL(this.apiClient,e);return h=ct("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Tg(_))}else{const p=g2(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>wg(_))}}async delete(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=hL(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(()=>{const _=cU(),w=new Sx;return Object.assign(w,_),w})}else{const p=y2(this.apiClient,e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(()=>{const _=UL(),w=new Sx;return Object.assign(w,_),w})}}async countTokens(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=pL(this.apiClient,e);return h=ct("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const w=fU(_),C=new Ex;return Object.assign(C,w),C})}else{const p=b2(this.apiClient,e);return h=ct("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const w=BL(_),C=new Ex;return Object.assign(C,w),C})}}async computeTokens(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=gL(this.apiClient,e);return l=ct("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=dU(y),_=new fI;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=bL(this.apiClient,e);return h=ct("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>gU(_))}else{const p=w2(this.apiClient,e);return h=ct("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>GL(_))}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zU(t){const e={},n=f(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const r=f(t,["config"]);return r!=null&&d(e,["config"],r),e}function KU(t){const e={},n=f(t,["operationName"]);n!=null&&d(e,["_url","operationName"],n);const r=f(t,["config"]);return r!=null&&d(e,["config"],r),e}function $U(t){const e={},n=f(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=f(t,["resourceName"]);r!=null&&d(e,["_url","resourceName"],r);const a=f(t,["config"]);return a!=null&&d(e,["config"],a),e}function HU(t){const e={},n=f(t,["video","uri"]);n!=null&&d(e,["uri"],n);const r=f(t,["video","encodedVideo"]);r!=null&&d(e,["videoBytes"],_i(r));const a=f(t,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function YU(t){const e={},n=f(t,["_self"]);return n!=null&&d(e,["video"],HU(n)),e}function JU(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>YU(c))),d(e,["generatedVideos"],l)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function XU(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const l=f(t,["error"]);l!=null&&d(e,["error"],l);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],JU(c)),e}function ZU(t){const e={},n=f(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],_i(r));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function QU(t){const e={},n=f(t,["_self"]);return n!=null&&d(e,["video"],ZU(n)),e}function WU(t){const e={},n=f(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>QU(c))),d(e,["generatedVideos"],l)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function Qx(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const l=f(t,["error"]);l!=null&&d(e,["error"],l);const c=f(t,["response"]);return c!=null&&d(e,["response"],WU(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jU extends Pl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;return r&&"httpOptions"in r&&(l=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=KU(e);return h=ct("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Qx(_))}else{const p=zU(e);return h=ct("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>XU(_))}}async fetchPredictVideosOperationInternal(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=$U(e);return l=ct("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>Qx(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e3(t){const e={},n=f(t,["voiceName"]);return n!=null&&d(e,["voiceName"],n),e}function bC(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&d(e,["prebuiltVoiceConfig"],e3(n)),e}function t3(t){const e={},n=f(t,["speaker"]);n!=null&&d(e,["speaker"],n);const r=f(t,["voiceConfig"]);return r!=null&&d(e,["voiceConfig"],bC(r)),e}function n3(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>t3(a))),d(e,["speakerVoiceConfigs"],r)}return e}function r3(t){const e={},n=f(t,["voiceConfig"]);n!=null&&d(e,["voiceConfig"],bC(n));const r=f(t,["multiSpeakerVoiceConfig"]);r!=null&&d(e,["multiSpeakerVoiceConfig"],n3(r));const a=f(t,["languageCode"]);return a!=null&&d(e,["languageCode"],a),e}function o3(t){const e={},n=f(t,["fps"]);n!=null&&d(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&d(e,["endOffset"],r);const a=f(t,["startOffset"]);return a!=null&&d(e,["startOffset"],a),e}function i3(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&d(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function a3(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function s3(t){const e={},n=f(t,["videoMetadata"]);n!=null&&d(e,["videoMetadata"],o3(n));const r=f(t,["thought"]);r!=null&&d(e,["thought"],r);const a=f(t,["inlineData"]);a!=null&&d(e,["inlineData"],i3(a));const l=f(t,["fileData"]);l!=null&&d(e,["fileData"],a3(l));const c=f(t,["thoughtSignature"]);c!=null&&d(e,["thoughtSignature"],c);const h=f(t,["codeExecutionResult"]);h!=null&&d(e,["codeExecutionResult"],h);const y=f(t,["executableCode"]);y!=null&&d(e,["executableCode"],y);const p=f(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const _=f(t,["functionResponse"]);_!=null&&d(e,["functionResponse"],_);const w=f(t,["text"]);return w!=null&&d(e,["text"],w),e}function l3(t){const e={},n=f(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>s3(l))),d(e,["parts"],a)}const r=f(t,["role"]);return r!=null&&d(e,["role"],r),e}function u3(t){const e={},n=f(t,["behavior"]);n!=null&&d(e,["behavior"],n);const r=f(t,["description"]);r!=null&&d(e,["description"],r);const a=f(t,["name"]);a!=null&&d(e,["name"],a);const l=f(t,["parameters"]);l!=null&&d(e,["parameters"],l);const c=f(t,["parametersJsonSchema"]);c!=null&&d(e,["parametersJsonSchema"],c);const h=f(t,["response"]);h!=null&&d(e,["response"],h);const y=f(t,["responseJsonSchema"]);return y!=null&&d(e,["responseJsonSchema"],y),e}function c3(t){const e={},n=f(t,["startTime"]);n!=null&&d(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&d(e,["endTime"],r),e}function f3(t){const e={},n=f(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],c3(n)),e}function d3(t){const e={},n=f(t,["mode"]);n!=null&&d(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&d(e,["dynamicThreshold"],r),e}function h3(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&d(e,["dynamicRetrievalConfig"],d3(n)),e}function m3(){return{}}function p3(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>u3(y))),d(e,["functionDeclarations"],h)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&d(e,["googleSearch"],f3(r));const a=f(t,["googleSearchRetrieval"]);if(a!=null&&d(e,["googleSearchRetrieval"],h3(a)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&d(e,["urlContext"],m3());const c=f(t,["codeExecution"]);return c!=null&&d(e,["codeExecution"],c),e}function g3(t){const e={},n=f(t,["handle"]);if(n!=null&&d(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Wx(){return{}}function y3(t){const e={},n=f(t,["disabled"]);n!=null&&d(e,["disabled"],n);const r=f(t,["startOfSpeechSensitivity"]);r!=null&&d(e,["startOfSpeechSensitivity"],r);const a=f(t,["endOfSpeechSensitivity"]);a!=null&&d(e,["endOfSpeechSensitivity"],a);const l=f(t,["prefixPaddingMs"]);l!=null&&d(e,["prefixPaddingMs"],l);const c=f(t,["silenceDurationMs"]);return c!=null&&d(e,["silenceDurationMs"],c),e}function v3(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&d(e,["automaticActivityDetection"],y3(n));const r=f(t,["activityHandling"]);r!=null&&d(e,["activityHandling"],r);const a=f(t,["turnCoverage"]);return a!=null&&d(e,["turnCoverage"],a),e}function b3(t){const e={},n=f(t,["targetTokens"]);return n!=null&&d(e,["targetTokens"],n),e}function _3(t){const e={},n=f(t,["triggerTokens"]);n!=null&&d(e,["triggerTokens"],n);const r=f(t,["slidingWindow"]);return r!=null&&d(e,["slidingWindow"],b3(r)),e}function x3(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&d(e,["proactiveAudio"],n),e}function w3(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const l=f(t,["temperature"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const h=f(t,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&d(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const _=f(t,["seed"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","seed"],_);const w=f(t,["speechConfig"]);e!==void 0&&w!=null&&d(e,["setup","generationConfig","speechConfig"],r3(ay(w)));const C=f(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],C);const E=f(t,["systemInstruction"]);e!==void 0&&E!=null&&d(e,["setup","systemInstruction"],l3(cr(E)));const k=f(t,["tools"]);if(e!==void 0&&k!=null){let ee=Ac(k);Array.isArray(ee)&&(ee=ee.map(ge=>p3(Ec(ge)))),d(e,["setup","tools"],ee)}const N=f(t,["sessionResumption"]);e!==void 0&&N!=null&&d(e,["setup","sessionResumption"],g3(N));const O=f(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&d(e,["setup","inputAudioTranscription"],Wx());const B=f(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&d(e,["setup","outputAudioTranscription"],Wx());const P=f(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&d(e,["setup","realtimeInputConfig"],v3(P));const q=f(t,["contextWindowCompression"]);e!==void 0&&q!=null&&d(e,["setup","contextWindowCompression"],_3(q));const J=f(t,["proactivity"]);return e!==void 0&&J!=null&&d(e,["setup","proactivity"],x3(J)),n}function T3(t,e){const n={},r=f(e,["model"]);r!=null&&d(n,["setup","model"],Zt(t,r));const a=f(e,["config"]);return a!=null&&d(n,["config"],w3(a,n)),n}function C3(t,e,n){const r={},a=f(e,["expireTime"]);n!==void 0&&a!=null&&d(n,["expireTime"],a);const l=f(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&d(n,["newSessionExpireTime"],l);const c=f(e,["uses"]);n!==void 0&&c!=null&&d(n,["uses"],c);const h=f(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&d(n,["bidiGenerateContentSetup"],T3(t,h));const y=f(e,["lockAdditionalFields"]);return n!==void 0&&y!=null&&d(n,["fieldMask"],y),r}function S3(t,e){const n={},r=f(e,["config"]);return r!=null&&d(n,["config"],C3(t,r,n)),n}function E3(t){const e={},n=f(t,["name"]);return n!=null&&d(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A3(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${n}.${l}`);e.push(...a)}else e.push(n)}return e.join(",")}function R3(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const l=A3(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const y=[];l&&y.push(l),h.length>0&&y.push(...h),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class M3 extends Pl{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=S3(this.apiClient,e);l=ct("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const y=R3(h,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>E3(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k3(t){const e={},n=f(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&d(e,["config"],r),e}function N3(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=f(t,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const l=f(t,["filter"]);return e!==void 0&&l!=null&&d(e,["_query","filter"],l),n}function I3(t){const e={},n=f(t,["config"]);return n!=null&&d(e,["config"],N3(n,e)),e}function D3(t){const e={},n=f(t,["textInput"]);n!=null&&d(e,["textInput"],n);const r=f(t,["output"]);return r!=null&&d(e,["output"],r),e}function O3(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>D3(a))),d(e,["examples","examples"],r)}return e}function P3(t,e){const n={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&d(e,["displayName"],r),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=f(t,["epochCount"]);e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","epochCount"],a);const l=f(t,["learningRateMultiplier"]);if(l!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=f(t,["batchSize"]);e!==void 0&&c!=null&&d(e,["tuningTask","hyperparameters","batchSize"],c);const h=f(t,["learningRate"]);return e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","learningRate"],h),n}function L3(t){const e={},n=f(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=f(t,["trainingDataset"]);r!=null&&d(e,["tuningTask","trainingData"],O3(r));const a=f(t,["config"]);return a!=null&&d(e,["config"],P3(a,e)),e}function U3(t){const e={},n=f(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&d(e,["config"],r),e}function B3(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=f(t,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const l=f(t,["filter"]);return e!==void 0&&l!=null&&d(e,["_query","filter"],l),n}function V3(t){const e={},n=f(t,["config"]);return n!=null&&d(e,["config"],B3(n,e)),e}function F3(t,e){const n={},r=f(t,["gcsUri"]);if(e!==void 0&&r!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],r),f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function q3(t){const e={},n=f(t,["gcsUri"]);return n!=null&&d(e,["validationDatasetUri"],n),e}function G3(t,e){const n={},r=f(t,["validationDataset"]);e!==void 0&&r!=null&&d(e,["supervisedTuningSpec"],q3(r));const a=f(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&d(e,["tunedModelDisplayName"],a);const l=f(t,["description"]);e!==void 0&&l!=null&&d(e,["description"],l);const c=f(t,["epochCount"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],c);const h=f(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=f(t,["adapterSize"]);if(e!==void 0&&p!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function z3(t){const e={},n=f(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=f(t,["trainingDataset"]);r!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],F3(r,e));const a=f(t,["config"]);return a!=null&&d(e,["config"],G3(a,e)),e}function K3(t){const e={},n=f(t,["name"]);n!=null&&d(e,["model"],n);const r=f(t,["name"]);return r!=null&&d(e,["endpoint"],r),e}function _C(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["state"]);r!=null&&d(e,["state"],rC(r));const a=f(t,["createTime"]);a!=null&&d(e,["createTime"],a);const l=f(t,["tuningTask","startTime"]);l!=null&&d(e,["startTime"],l);const c=f(t,["tuningTask","completeTime"]);c!=null&&d(e,["endTime"],c);const h=f(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const y=f(t,["description"]);y!=null&&d(e,["description"],y);const p=f(t,["baseModel"]);p!=null&&d(e,["baseModel"],p);const _=f(t,["_self"]);_!=null&&d(e,["tunedModel"],K3(_));const w=f(t,["distillationSpec"]);w!=null&&d(e,["distillationSpec"],w);const C=f(t,["experiment"]);C!=null&&d(e,["experiment"],C);const E=f(t,["labels"]);E!=null&&d(e,["labels"],E);const k=f(t,["pipelineJob"]);k!=null&&d(e,["pipelineJob"],k);const N=f(t,["serviceAccount"]);N!=null&&d(e,["serviceAccount"],N);const O=f(t,["tunedModelDisplayName"]);return O!=null&&d(e,["tunedModelDisplayName"],O),e}function $3(t){const e={},n=f(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const r=f(t,["tunedModels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>_C(l))),d(e,["tuningJobs"],a)}return e}function H3(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["metadata"]);r!=null&&d(e,["metadata"],r);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const l=f(t,["error"]);return l!=null&&d(e,["error"],l),e}function Y3(t){const e={},n=f(t,["checkpointId"]);n!=null&&d(e,["checkpointId"],n);const r=f(t,["epoch"]);r!=null&&d(e,["epoch"],r);const a=f(t,["step"]);a!=null&&d(e,["step"],a);const l=f(t,["endpoint"]);return l!=null&&d(e,["endpoint"],l),e}function J3(t){const e={},n=f(t,["model"]);n!=null&&d(e,["model"],n);const r=f(t,["endpoint"]);r!=null&&d(e,["endpoint"],r);const a=f(t,["checkpoints"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Y3(c))),d(e,["checkpoints"],l)}return e}function Sg(t){const e={},n=f(t,["name"]);n!=null&&d(e,["name"],n);const r=f(t,["state"]);r!=null&&d(e,["state"],rC(r));const a=f(t,["createTime"]);a!=null&&d(e,["createTime"],a);const l=f(t,["startTime"]);l!=null&&d(e,["startTime"],l);const c=f(t,["endTime"]);c!=null&&d(e,["endTime"],c);const h=f(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const y=f(t,["error"]);y!=null&&d(e,["error"],y);const p=f(t,["description"]);p!=null&&d(e,["description"],p);const _=f(t,["baseModel"]);_!=null&&d(e,["baseModel"],_);const w=f(t,["tunedModel"]);w!=null&&d(e,["tunedModel"],J3(w));const C=f(t,["supervisedTuningSpec"]);C!=null&&d(e,["supervisedTuningSpec"],C);const E=f(t,["tuningDataStats"]);E!=null&&d(e,["tuningDataStats"],E);const k=f(t,["encryptionSpec"]);k!=null&&d(e,["encryptionSpec"],k);const N=f(t,["partnerModelTuningSpec"]);N!=null&&d(e,["partnerModelTuningSpec"],N);const O=f(t,["distillationSpec"]);O!=null&&d(e,["distillationSpec"],O);const B=f(t,["experiment"]);B!=null&&d(e,["experiment"],B);const P=f(t,["labels"]);P!=null&&d(e,["labels"],P);const q=f(t,["pipelineJob"]);q!=null&&d(e,["pipelineJob"],q);const J=f(t,["serviceAccount"]);J!=null&&d(e,["serviceAccount"],J);const ee=f(t,["tunedModelDisplayName"]);return ee!=null&&d(e,["tunedModelDisplayName"],ee),e}function X3(t){const e={},n=f(t,["nextPageToken"]);n!=null&&d(e,["nextPageToken"],n);const r=f(t,["tuningJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Sg(l))),d(e,["tuningJobs"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z3 extends Pl{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new dh(kl.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:yg.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=U3(e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>Sg(_))}else{const p=k3(e);return h=ct("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_C(_))}}async listInternal(e){var n,r,a,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const p=V3(e);return h=ct("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),c.then(_=>{const w=X3(_),C=new Ax;return Object.assign(C,w),C})}else{const p=I3(e);return h=ct("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const w=$3(_),C=new Ax;return Object.assign(C,w),C})}}async tuneInternal(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=z3(e);return l=ct("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>Sg(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=L3(e);return l=ct("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>H3(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const W3=1024*1024*8,j3=3,e4=1e3,t4=2,Op="x-goog-upload-status";async function n4(t,e,n){var r,a,l;let c=0,h=0,y=new vg(new Response),p="upload";for(c=t.size;h<c;){const w=Math.min(W3,c-h),C=t.slice(h,h+w);h+w>=c&&(p+=", finalize");let E=0,k=e4;for(;E<j3&&(y=await n.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(w)}}}),!(!((r=y==null?void 0:y.headers)===null||r===void 0)&&r[Op]));)E++,await o4(k),k=k*t4;if(h+=w,((a=y==null?void 0:y.headers)===null||a===void 0?void 0:a[Op])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const _=await(y==null?void 0:y.json());if(((l=y==null?void 0:y.headers)===null||l===void 0?void 0:l[Op])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return _.file}async function r4(t){return{size:t.size,type:t.type}}function o4(t){return new Promise(e=>setTimeout(e,t))}class i4{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await n4(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await r4(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a4{create(e,n,r){return new s4(e,n,r)}}class s4{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jx="x-goog-api-key";class l4{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(jx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u4="gl-node/";class c4{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=lI(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new l4(this.apiKey);this.apiClient=new CU({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:u4+"web",uploader:new i4,downloader:new Q3}),this.models=new GU(this.apiClient),this.live=new UU(this.apiClient,a,new a4),this.chats=new PD(this.models,this.apiClient),this.caches=new ID(this.apiClient),this.files=new JD(this.apiClient),this.operations=new jU(this.apiClient),this.authTokens=new M3(this.apiClient),this.tunings=new Z3(this.apiClient)}}const xC=async(t,e={})=>{const n=new Headers({"Content-Type":"application/json",...e.headers}),r=await fetch(t,{...e,headers:n});if(!r.ok)throw r;const a=[204,205,304].includes(r==null?void 0:r.status);return!(r!=null&&r.body)||a?{}:r.json()};let Eg=null;const Ul=async()=>(Eg??(Eg=await Kt.getActiveApiKey(Vn)),Eg),Pp=async()=>{Eg=await Kt.getActiveApiKey(Vn),md=null};let md=null;const gh=async()=>{const t=await Ul();return!md&&t&&(md=new c4({apiKey:t})),md},f4=t=>{const e=Array.isArray(t.text)?t.text.join(`
`):t.text;switch(t.sender){case"character":return{role:"model",parts:[{text:e}]};case"user":default:return{role:"user",parts:[{text:e}]}}},wC=t=>{const e=[],n=oy(t,void 0,!t.characterConversationBase),r=t.characterConversationBase?t.characterConversationBase+n:n;return t.characterInitialMessage&&t.characterInitialMessage.length>0&&e.push({role:"model",parts:[{text:t.characterInitialMessage.join(`
`)}]}),t.messages&&t.messages.length>0&&t.messages.forEach(a=>{e.push(f4(a))}),e.length>0&&e[e.length-1].role==="model"&&(e.length===1&&e[0].role==="model"||e.length===0)&&e.push({role:"user",parts:[{text:"[instigate the conversation with the user]"}]}),e.length===0&&e.push({role:"user",parts:[{text:"[instigate the conversation with the user]"}]}),{messages:e,systemInstruction:r}},hV=async(t,e="gemini-2.5-flash",n=1e3)=>{var r,a,l,c,h;try{if(!await Ul())throw new Error("Google AI API key is not configured. Please configure your API key in the application settings.");const p=await gh();if(!p)throw new Error("Failed to initialize Google AI client");const{messages:_,systemInstruction:w}=wC(t),C=t.temperature||.7,E=_.map(B=>({role:B.role,parts:B.parts})),k={model:e,contents:E,generationConfig:{temperature:C,maxOutputTokens:n}};w&&(k.config={systemInstruction:w});const O=(h=(c=(l=(a=(r=(await p.models.generateContent(k)).candidates)==null?void 0:r[0])==null?void 0:a.content)==null?void 0:l.parts)==null?void 0:c[0])==null?void 0:h.text;if(!O)throw new Error("No response received from Google AI");return O}catch(y){throw console.error("Error getting chat completion:",y),y}},mV=async(t,e="gemini-2.5-flash",n=1e3,r)=>{var a,l,c,h,y;try{if(!await Ul())throw new Error("Google AI API key is not configured. Please configure your API key in the application settings.");const _=await gh();if(!_)throw new Error("Failed to initialize Google AI client");const{messages:w,systemInstruction:C}=wC(t),E=t.temperature||.7,k=w.map(P=>({role:P.role,parts:P.parts})),N={model:e,contents:k,generationConfig:{temperature:E,maxOutputTokens:n}};C&&(N.config={systemInstruction:C});const O=await _.models.generateContentStream(N);let B="";for await(const P of O){const q=(y=(h=(c=(l=(a=P.candidates)==null?void 0:a[0])==null?void 0:l.content)==null?void 0:c.parts)==null?void 0:h[0])==null?void 0:y.text;q&&(B+=q,r==null||r(q))}return B}catch(p){throw console.error("Error getting streaming chat completion:",p),p}},pV=(t,e="character")=>({id:`msg_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,sender:e,text:[t]}),gV=async()=>{var t,e,n,r,a;try{if(!await Ul())return!1;const c=await gh();return c?!!((a=(r=(n=(e=(t=(await c.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:"Hello"}]}]})).candidates)==null?void 0:t[0])==null?void 0:e.content)==null?void 0:n.parts)==null?void 0:r[0])!=null&&a.text):!1}catch(l){return console.error("Invalid Google AI API key:",l),!1}},yV=async()=>!!await Ul(),vV=async()=>{try{if(!await Ul())throw new Error("Google AI API key not configured");const e=await gh();if(!e)throw new Error("Failed to initialize Google AI client");const n=await e.models.list(),r=[];for await(const l of n)r.push(l);return r.filter(l=>{var c;return((c=l.supportedActions)==null?void 0:c.includes("generateContent"))&&!l.name.includes("embedding")&&!l.name.includes("tts")&&!l.name.includes("image")&&!l.name.includes("aqa")&&!l.name.includes("gemma")}).map(l=>l.name.replace("models/","")).sort((l,c)=>{const h=!l.includes("exp")&&!l.includes("preview"),y=!c.includes("exp")&&!c.includes("preview");return h&&!y?-1:!h&&y?1:l.localeCompare(c)})}catch(t){return console.error("Error fetching available models:",t),["gemini-2.5-pro","gemini-2.5-flash","gemini-2.0-flash","gemini-1.5-pro","gemini-1.5-flash","gemini-1.5-flash-8b"]}},bV=t=>({"gemini-2.5-pro":{name:"Gemini 2.5 Pro",tier:"premium",description:"Most powerful thinking model with maximum response accuracy"},"gemini-2.5-flash":{name:"Gemini 2.5 Flash",tier:"pro",description:"Best model for price-performance with thinking capabilities"},"gemini-2.5-flash-lite-preview-06-17":{name:"Gemini 2.5 Flash Lite",tier:"free",description:"Most cost-efficient model optimized for high throughput"},"gemini-2.0-flash":{name:"Gemini 2.0 Flash",tier:"pro",description:"Next generation model with speed and realtime streaming"},"gemini-2.0-flash-lite":{name:"Gemini 2.0 Flash Lite",tier:"free",description:"Cost-efficient and low latency version of 2.0 Flash"},"gemini-1.5-flash":{name:"Gemini 1.5 Flash",tier:"free",description:"Fast and versatile model for most tasks"},"gemini-1.5-flash-8b":{name:"Gemini 1.5 Flash 8B",tier:"free",description:"Smaller, faster version of Flash for high volume tasks"},"gemini-1.5-pro":{name:"Gemini 1.5 Pro",tier:"pro",description:"Complex reasoning tasks requiring more intelligence"},"gemini-1.0-pro":{name:"Gemini 1.0 Pro",tier:"pro",description:"Previous generation pro model (legacy)"}})[t]||{name:t,tier:"pro",description:"Unknown model"};function dt(t,e,n,r,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function de(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let TC=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return TC=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Ag(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Rg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class ft extends Error{}class Hn extends ft{constructor(e,n,r,a){super(`${Hn.makeMessage(e,n,r)}`),this.status=e,this.headers=a,this.requestID=a==null?void 0:a.get("x-request-id"),this.error=n;const l=n;this.code=l==null?void 0:l.code,this.param=l==null?void 0:l.param,this.type=l==null?void 0:l.type}static makeMessage(e,n,r){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,n,r,a){if(!e||!a)return new yh({message:r,cause:Rg(n)});const l=n==null?void 0:n.error;return e===400?new CC(e,l,r,a):e===401?new SC(e,l,r,a):e===403?new EC(e,l,r,a):e===404?new AC(e,l,r,a):e===409?new RC(e,l,r,a):e===422?new MC(e,l,r,a):e===429?new kC(e,l,r,a):e>=500?new NC(e,l,r,a):new Hn(e,l,r,a)}}class Hr extends Hn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class yh extends Hn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class cy extends yh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class CC extends Hn{}class SC extends Hn{}class EC extends Hn{}class AC extends Hn{}class RC extends Hn{}class MC extends Hn{}class kC extends Hn{}class NC extends Hn{}class IC extends ft{constructor(){super("Could not parse response content as the length limit was reached")}}class DC extends ft{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const d4=/^[a-z][a-z0-9+.-]*:/i,h4=t=>d4.test(t);let pr=t=>(pr=Array.isArray,pr(t)),ew=pr;function m4(t){return typeof t!="object"?{}:t??{}}function p4(t){if(!t)return!0;for(const e in t)return!1;return!0}function g4(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Lp(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const y4=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ft(`${t} must be an integer`);if(e<0)throw new ft(`${t} must be a positive integer`);return e},v4=t=>{try{return JSON.parse(t)}catch{return}},Rc=t=>new Promise(e=>setTimeout(e,t)),fl="5.5.1",b4=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function _4(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const x4=()=>{var n;const t=_4();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fl,"X-Stainless-OS":nw(Deno.build.os),"X-Stainless-Arch":tw(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fl,"X-Stainless-OS":nw(globalThis.process.platform??"unknown"),"X-Stainless-Arch":tw(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=w4();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function w4(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const a=r[1]||0,l=r[2]||0,c=r[3]||0;return{browser:e,version:`${a}.${l}.${c}`}}}return null}const tw=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",nw=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let rw;const T4=()=>rw??(rw=x4());function C4(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function OC(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function PC(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return OC({start(){},async pull(n){const{done:r,value:a}=await e.next();r?n.close():n.enqueue(a)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function LC(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function S4(t){var r,a;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((a=(r=t[Symbol.asyncIterator]()).return)==null?void 0:a.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const E4=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),UC="RFC3986",BC=t=>String(t),ow={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:BC},A4="RFC1738";let Mg=(t,e)=>(Mg=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Mg(t,e));const So=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Up=1024,R4=(t,e,n,r,a)=>{if(t.length===0)return t;let l=t;if(typeof t=="symbol"?l=Symbol.prototype.toString.call(t):typeof t!="string"&&(l=String(t)),n==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});let c="";for(let h=0;h<l.length;h+=Up){const y=l.length>=Up?l.slice(h,h+Up):l,p=[];for(let _=0;_<y.length;++_){let w=y.charCodeAt(_);if(w===45||w===46||w===95||w===126||w>=48&&w<=57||w>=65&&w<=90||w>=97&&w<=122||a===A4&&(w===40||w===41)){p[p.length]=y.charAt(_);continue}if(w<128){p[p.length]=So[w];continue}if(w<2048){p[p.length]=So[192|w>>6]+So[128|w&63];continue}if(w<55296||w>=57344){p[p.length]=So[224|w>>12]+So[128|w>>6&63]+So[128|w&63];continue}_+=1,w=65536+((w&1023)<<10|y.charCodeAt(_)&1023),p[p.length]=So[240|w>>18]+So[128|w>>12&63]+So[128|w>>6&63]+So[128|w&63]}c+=p.join("")}return c};function M4(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function iw(t,e){if(pr(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const VC={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},FC=function(t,e){Array.prototype.push.apply(t,pr(e)?e:[e])};let aw;const En={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:R4,encodeValuesOnly:!1,format:UC,formatter:BC,indices:!1,serializeDate(t){return(aw??(aw=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function k4(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Bp={};function qC(t,e,n,r,a,l,c,h,y,p,_,w,C,E,k,N,O,B){let P=t,q=B,J=0,ee=!1;for(;(q=q.get(Bp))!==void 0&&!ee;){const ye=q.get(t);if(J+=1,typeof ye<"u"){if(ye===J)throw new RangeError("Cyclic object value");ee=!0}typeof q.get(Bp)>"u"&&(J=0)}if(typeof p=="function"?P=p(e,P):P instanceof Date?P=C==null?void 0:C(P):n==="comma"&&pr(P)&&(P=iw(P,function(ye){return ye instanceof Date?C==null?void 0:C(ye):ye})),P===null){if(l)return y&&!N?y(e,En.encoder,O,"key",E):e;P=""}if(k4(P)||M4(P)){if(y){const ye=N?e:y(e,En.encoder,O,"key",E);return[(k==null?void 0:k(ye))+"="+(k==null?void 0:k(y(P,En.encoder,O,"value",E)))]}return[(k==null?void 0:k(e))+"="+(k==null?void 0:k(String(P)))]}const ge=[];if(typeof P>"u")return ge;let H;if(n==="comma"&&pr(P))N&&y&&(P=iw(P,y)),H=[{value:P.length>0?P.join(",")||null:void 0}];else if(pr(p))H=p;else{const ye=Object.keys(P);H=_?ye.sort(_):ye}const be=h?String(e).replace(/\./g,"%2E"):String(e),ne=r&&pr(P)&&P.length===1?be+"[]":be;if(a&&pr(P)&&P.length===0)return ne+"[]";for(let ye=0;ye<H.length;++ye){const Ce=H[ye],Se=typeof Ce=="object"&&typeof Ce.value<"u"?Ce.value:P[Ce];if(c&&Se===null)continue;const Ee=w&&h?Ce.replace(/\./g,"%2E"):Ce,me=pr(P)?typeof n=="function"?n(ne,Ee):ne:ne+(w?"."+Ee:"["+Ee+"]");B.set(t,J);const Me=new WeakMap;Me.set(Bp,B),FC(ge,qC(Se,me,n,r,a,l,c,h,n==="comma"&&N&&pr(P)?null:y,p,_,w,C,E,k,N,O,Me))}return ge}function N4(t=En){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||En.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=UC;if(typeof t.format<"u"){if(!Mg(ow,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=ow[n];let a=En.filter;(typeof t.filter=="function"||pr(t.filter))&&(a=t.filter);let l;if(t.arrayFormat&&t.arrayFormat in VC?l=t.arrayFormat:"indices"in t?l=t.indices?"indices":"repeat":l=En.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const c=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:En.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:En.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:En.allowEmptyArrays,arrayFormat:l,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:En.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?En.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:En.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:En.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:En.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:En.encodeValuesOnly,filter:a,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:En.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:En.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:En.strictNullHandling}}function I4(t,e={}){let n=t;const r=N4(e);let a,l;typeof r.filter=="function"?(l=r.filter,n=l("",n)):pr(r.filter)&&(l=r.filter,a=l);const c=[];if(typeof n!="object"||n===null)return"";const h=VC[r.arrayFormat],y=h==="comma"&&r.commaRoundTrip;a||(a=Object.keys(n)),r.sort&&a.sort(r.sort);const p=new WeakMap;for(let C=0;C<a.length;++C){const E=a[C];r.skipNulls&&n[E]===null||FC(c,qC(n[E],E,h,y,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,p))}const _=c.join(r.delimiter);let w=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),_.length>0?w+_:""}function D4(t){let e=0;for(const a of t)e+=a.length;const n=new Uint8Array(e);let r=0;for(const a of t)n.set(a,r),r+=a.length;return n}let sw;function fy(t){let e;return(sw??(e=new globalThis.TextEncoder,sw=e.encode.bind(e)))(t)}let lw;function uw(t){let e;return(lw??(e=new globalThis.TextDecoder,lw=e.decode.bind(e)))(t)}var Rr,Mr;class vh{constructor(){Rr.set(this,void 0),Mr.set(this,void 0),dt(this,Rr,new Uint8Array),dt(this,Mr,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?fy(e):e;dt(this,Rr,D4([de(this,Rr,"f"),n]));const r=[];let a;for(;(a=O4(de(this,Rr,"f"),de(this,Mr,"f")))!=null;){if(a.carriage&&de(this,Mr,"f")==null){dt(this,Mr,a.index);continue}if(de(this,Mr,"f")!=null&&(a.index!==de(this,Mr,"f")+1||a.carriage)){r.push(uw(de(this,Rr,"f").subarray(0,de(this,Mr,"f")-1))),dt(this,Rr,de(this,Rr,"f").subarray(de(this,Mr,"f"))),dt(this,Mr,null);continue}const l=de(this,Mr,"f")!==null?a.preceding-1:a.preceding,c=uw(de(this,Rr,"f").subarray(0,l));r.push(c),dt(this,Rr,de(this,Rr,"f").subarray(a.index)),dt(this,Mr,null)}return r}flush(){return de(this,Rr,"f").length?this.decode(`
`):[]}}Rr=new WeakMap,Mr=new WeakMap;vh.NEWLINE_CHARS=new Set([`
`,"\r"]);vh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function O4(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function P4(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class Mo{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*a(){if(r)throw new ft("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const c of L4(e,n))if(!l){if(c.data.startsWith("[DONE]")){l=!0;continue}if(c.event===null||c.event.startsWith("response.")||c.event.startsWith("transcript.")){let h;try{h=JSON.parse(c.data)}catch(y){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),y}if(h&&h.error)throw new Hn(void 0,h.error,void 0,e.headers);yield h}else{let h;try{h=JSON.parse(c.data)}catch(y){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),y}if(c.event=="error")throw new Hn(void 0,h.error,h.message,void 0);yield{event:c.event,data:h}}}l=!0}catch(c){if(Ag(c))return;throw c}finally{l||n.abort()}}return new Mo(a,n)}static fromReadableStream(e,n){let r=!1;async function*a(){const c=new vh,h=LC(e);for await(const y of h)for(const p of c.decode(y))yield p;for(const y of c.flush())yield y}async function*l(){if(r)throw new ft("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let c=!1;try{for await(const h of a())c||h&&(yield JSON.parse(h));c=!0}catch(h){if(Ag(h))return;throw h}finally{c||n.abort()}}return new Mo(l,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),a=l=>({next:()=>{if(l.length===0){const c=r.next();e.push(c),n.push(c)}return l.shift()}});return[new Mo(()=>a(e),this.controller),new Mo(()=>a(n),this.controller)]}toReadableStream(){const e=this;let n;return OC({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:l}=await n.next();if(l)return r.close();const c=fy(JSON.stringify(a)+`
`);r.enqueue(c)}catch(a){r.error(a)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*L4(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ft("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ft("Attempted to iterate over a response with no body");const n=new B4,r=new vh,a=LC(t.body);for await(const l of U4(a))for(const c of r.decode(l)){const h=n.decode(c);h&&(yield h)}for(const l of r.flush()){const c=n.decode(l);c&&(yield c)}}async function*U4(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?fy(n):n;let a=new Uint8Array(e.length+r.length);a.set(e),a.set(r,e.length),e=a;let l;for(;(l=P4(e))!==-1;)yield e.slice(0,l),e=e.slice(l)}e.length>0&&(yield e)}class B4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,a]=V4(e,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function V4(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const Hd={off:0,error:200,warn:300,info:400,debug:500},cw=(t,e,n)=>{if(t){if(g4(Hd,t))return t;jn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Hd))}`)}};function ac(){}function td(t,e,n){return!e||Hd[t]>Hd[n]?ac:e[t].bind(e)}const F4={error:ac,warn:ac,info:ac,debug:ac};let fw=new WeakMap;function jn(t){const e=t.logger,n=t.logLevel??"off";if(!e)return F4;const r=fw.get(e);if(r&&r[0]===n)return r[1];const a={error:td("error",e,n),warn:td("warn",e,n),info:td("info",e,n),debug:td("debug",e,n)};return fw.set(e,[n,a]),a}const ja=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);async function GC(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:a,startTime:l}=e,c=await(async()=>{var w;if(e.options.stream)return jn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):Mo.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const h=n.headers.get("content-type"),y=(w=h==null?void 0:h.split(";")[0])==null?void 0:w.trim();if((y==null?void 0:y.includes("application/json"))||(y==null?void 0:y.endsWith("+json"))){const C=await n.json();return zC(C,n)}return await n.text()})();return jn(t).debug(`[${r}] response parsed`,ja({retryOfRequestLogID:a,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}function zC(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var sc;class bh extends Promise{constructor(e,n,r=GC){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=r,sc.set(this,void 0),dt(this,sc,e)}_thenUnwrap(e){return new bh(de(this,sc,"f"),this.responsePromise,async(n,r)=>zC(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(de(this,sc,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}sc=new WeakMap;var nd;class KC{constructor(e,n,r,a){nd.set(this,void 0),dt(this,nd,e),this.options=a,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new ft("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await de(this,nd,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(nd=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class q4 extends bh{constructor(e,n,r){super(e,n,async(a,l)=>new r(a,l.response,await GC(a,l),l.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class _h extends KC{constructor(e,n,r,a){super(e,n,r,a),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class gn extends KC{constructor(e,n,r,a){super(e,n,r,a),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),n=(r=e[e.length-1])==null?void 0:r.id;return n?{...this.options,query:{...m4(this.options.query),after:n}}:null}}const $C=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yc(t,e,n){return $C(),new File(t,e??"unknown_file",n)}function pd(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const HC=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",us=async(t,e)=>({...t,body:await z4(t.body,e)}),dw=new WeakMap;function G4(t){const e=typeof t=="function"?t:t.fetch,n=dw.get(e);if(n)return n;const r=(async()=>{try{const a="Response"in e?e.Response:(await e("data:,")).constructor,l=new FormData;return l.toString()!==await new a(l).text()}catch{return!0}})();return dw.set(e,r),r}const z4=async(t,e)=>{if(!await G4(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,a])=>kg(n,r,a))),n},K4=t=>t instanceof Blob&&"name"in t,kg=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,yc([await n.blob()],pd(n)));else if(HC(n))t.append(e,yc([await new Response(PC(n)).blob()],pd(n)));else if(K4(n))t.append(e,n,pd(n));else if(Array.isArray(n))await Promise.all(n.map(r=>kg(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,a])=>kg(t,`${e}[${r}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},YC=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",$4=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&YC(t),H4=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Y4(t,e,n){if($C(),t=await t,$4(t))return t instanceof File?t:yc([await t.arrayBuffer()],t.name);if(H4(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),yc(await Ng(a),e,n)}const r=await Ng(t);if(e||(e=pd(t)),!(n!=null&&n.type)){const a=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(n={...n,type:a})}return yc(r,e,n)}async function Ng(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(YC(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(HC(t))for await(const r of t)e.push(...await Ng(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${J4(t)}`)}return e}function J4(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class mt{constructor(e){this._client=e}}function JC(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const X4=(t=JC)=>function(n,...r){if(n.length===1)return n[0];let a=!1;const l=n.reduce((_,w,C)=>(/[?#]/.test(w)&&(a=!0),_+w+(C===r.length?"":(a?encodeURIComponent:t)(String(r[C])))),""),c=l.split(/[?#]/,1)[0],h=[],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=y.exec(c))!==null;)h.push({start:p.index,length:p[0].length});if(h.length>0){let _=0;const w=h.reduce((C,E)=>{const k=" ".repeat(E.start-_),N="^".repeat(E.length);return _=E.start+E.length,C+k+N},"");throw new ft(`Path parameters result in path with invalid segments:
${l}
${w}`)}return l},Be=X4(JC);let XC=class extends mt{list(e,n={},r){return this._client.getAPIList(Be`/chat/completions/${e}/messages`,gn,{query:n,...r})}};function Z4(t){return typeof t.parse=="function"}const Yd=t=>(t==null?void 0:t.role)==="assistant",ZC=t=>(t==null?void 0:t.role)==="tool";var Ig,gd,yd,lc,uc,vd,cc,hi,fc,Jd,Xd,dl,QC;class dy{constructor(){Ig.add(this),this.controller=new AbortController,gd.set(this,void 0),yd.set(this,()=>{}),lc.set(this,()=>{}),uc.set(this,void 0),vd.set(this,()=>{}),cc.set(this,()=>{}),hi.set(this,{}),fc.set(this,!1),Jd.set(this,!1),Xd.set(this,!1),dl.set(this,!1),dt(this,gd,new Promise((e,n)=>{dt(this,yd,e,"f"),dt(this,lc,n,"f")})),dt(this,uc,new Promise((e,n)=>{dt(this,vd,e,"f"),dt(this,cc,n,"f")})),de(this,gd,"f").catch(()=>{}),de(this,uc,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},de(this,Ig,"m",QC).bind(this))},0)}_connected(){this.ended||(de(this,yd,"f").call(this),this._emit("connect"))}get ended(){return de(this,fc,"f")}get errored(){return de(this,Jd,"f")}get aborted(){return de(this,Xd,"f")}abort(){this.controller.abort()}on(e,n){return(de(this,hi,"f")[e]||(de(this,hi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=de(this,hi,"f")[e];if(!r)return this;const a=r.findIndex(l=>l.listener===n);return a>=0&&r.splice(a,1),this}once(e,n){return(de(this,hi,"f")[e]||(de(this,hi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{dt(this,dl,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){dt(this,dl,!0),await de(this,uc,"f")}_emit(e,...n){if(de(this,fc,"f"))return;e==="end"&&(dt(this,fc,!0),de(this,vd,"f").call(this));const r=de(this,hi,"f")[e];if(r&&(de(this,hi,"f")[e]=r.filter(a=>!a.once),r.forEach(({listener:a})=>a(...n))),e==="abort"){const a=n[0];!de(this,dl,"f")&&!(r!=null&&r.length)&&Promise.reject(a),de(this,lc,"f").call(this,a),de(this,cc,"f").call(this,a),this._emit("end");return}if(e==="error"){const a=n[0];!de(this,dl,"f")&&!(r!=null&&r.length)&&Promise.reject(a),de(this,lc,"f").call(this,a),de(this,cc,"f").call(this,a),this._emit("end")}}_emitFinal(){}}gd=new WeakMap,yd=new WeakMap,lc=new WeakMap,uc=new WeakMap,vd=new WeakMap,cc=new WeakMap,hi=new WeakMap,fc=new WeakMap,Jd=new WeakMap,Xd=new WeakMap,dl=new WeakMap,Ig=new WeakSet,QC=function(e){if(dt(this,Jd,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Hr),e instanceof Hr)return dt(this,Xd,!0),this._emit("abort",e);if(e instanceof ft)return this._emit("error",e);if(e instanceof Error){const n=new ft(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new ft(String(e)))};function hy(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Mc(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Q4(t,e){return!e||!WC(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:my(t,e)}function my(t,e){const n=t.choices.map(r=>{var a;if(r.finish_reason==="length")throw new IC;if(r.finish_reason==="content_filter")throw new DC;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((a=r.message.tool_calls)==null?void 0:a.map(l=>j4(e,l)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?W4(e,r.message.content):null}}});return{...t,choices:n}}function W4(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function j4(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(a=>{var l;return((l=a.function)==null?void 0:l.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Mc(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function eB(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(a=>{var l;return((l=a.function)==null?void 0:l.name)===e.function.name});return Mc(n)||(n==null?void 0:n.function.strict)||!1}function WC(t){var e;return hy(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Mc(n)||n.type==="function"&&n.function.strict===!0))??!1}function tB(t){for(const e of t??[]){if(e.type!=="function")throw new ft(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ft(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var lr,Dg,Zd,Og,Pg,Lg,jC,eS;const nB=10;class tS extends dy{constructor(){super(...arguments),lr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),ZC(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Yd(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ft("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),de(this,lr,"m",Dg).call(this)}async finalMessage(){return await this.done(),de(this,lr,"m",Zd).call(this)}async finalFunctionToolCall(){return await this.done(),de(this,lr,"m",Og).call(this)}async finalFunctionToolCallResult(){return await this.done(),de(this,lr,"m",Pg).call(this)}async totalUsage(){return await this.done(),de(this,lr,"m",Lg).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=de(this,lr,"m",Zd).call(this);n&&this._emit("finalMessage",n);const r=de(this,lr,"m",Dg).call(this);r&&this._emit("finalContent",r);const a=de(this,lr,"m",Og).call(this);a&&this._emit("finalFunctionToolCall",a);const l=de(this,lr,"m",Pg).call(this);l!=null&&this._emit("finalFunctionToolCallResult",l),this._chatCompletions.some(c=>c.usage)&&this._emit("totalUsage",de(this,lr,"m",Lg).call(this))}async _createChatCompletion(e,n,r){const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),de(this,lr,"m",jC).call(this,n);const l=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(my(l,n))}async _runChatCompletion(e,n,r){for(const a of n.messages)this._addMessage(a,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){var E,k,N;const a="tool",{tool_choice:l="auto",stream:c,...h}=n,y=typeof l!="string"&&((E=l==null?void 0:l.function)==null?void 0:E.name),{maxChatCompletions:p=nB}=r||{},_=n.tools.map(O=>{if(Mc(O)){if(!O.$callback)throw new ft("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:O.$callback,name:O.function.name,description:O.function.description||"",parameters:O.function.parameters,parse:O.$parseRaw,strict:!0}}}return O}),w={};for(const O of _)O.type==="function"&&(w[O.function.name||O.function.function.name]=O.function);const C="tools"in n?_.map(O=>O.type==="function"?{type:"function",function:{name:O.function.name||O.function.function.name,parameters:O.function.parameters,description:O.function.description,strict:O.function.strict}}:O):void 0;for(const O of n.messages)this._addMessage(O,!1);for(let O=0;O<p;++O){const P=(k=(await this._createChatCompletion(e,{...h,tool_choice:l,tools:C,messages:[...this.messages]},r)).choices[0])==null?void 0:k.message;if(!P)throw new ft("missing message in ChatCompletion response");if(!((N=P.tool_calls)!=null&&N.length))return;for(const q of P.tool_calls){if(q.type!=="function")continue;const J=q.id,{name:ee,arguments:ge}=q.function,H=w[ee];if(H){if(y&&y!==ee){const Ce=`Invalid tool_call: ${JSON.stringify(ee)}. ${JSON.stringify(y)} requested. Please try again`;this._addMessage({role:a,tool_call_id:J,content:Ce});continue}}else{const Ce=`Invalid tool_call: ${JSON.stringify(ee)}. Available options are: ${Object.keys(w).map(Se=>JSON.stringify(Se)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:J,content:Ce});continue}let be;try{be=Z4(H)?await H.parse(ge):ge}catch(Ce){const Se=Ce instanceof Error?Ce.message:String(Ce);this._addMessage({role:a,tool_call_id:J,content:Se});continue}const ne=await H.function(be,this),ye=de(this,lr,"m",eS).call(this,ne);if(this._addMessage({role:a,tool_call_id:J,content:ye}),y)return}}}}lr=new WeakSet,Dg=function(){return de(this,lr,"m",Zd).call(this).content??null},Zd=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Yd(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new ft("stream ended without producing a ChatCompletionMessage with role=assistant")},Og=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const a=this.messages[r];if(Yd(a)&&((e=a==null?void 0:a.tool_calls)!=null&&e.length))return(n=a.tool_calls.at(-1))==null?void 0:n.function}},Pg=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(ZC(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var a;return r.role==="assistant"&&((a=r.tool_calls)==null?void 0:a.some(l=>l.type==="function"&&l.id===n.tool_call_id))}))return n.content}},Lg=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},jC=function(e){if(e.n!=null&&e.n>1)throw new ft("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},eS=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class py extends tS{static runTools(e,n,r){const a=new py,l={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,n,l)),a}_addMessage(e,n=!0){super._addMessage(e,n),Yd(e)&&e.content&&this._emit("content",e.content)}}const nS=1,rS=2,oS=4,iS=8,aS=16,sS=32,lS=64,uS=128,cS=256,fS=uS|cS,dS=aS|sS|fS|lS,hS=nS|rS|dS,mS=oS|iS,rB=hS|mS,Un={STR:nS,NUM:rS,ARR:oS,OBJ:iS,NULL:aS,BOOL:sS,NAN:lS,INFINITY:uS,MINUS_INFINITY:cS,INF:fS,SPECIAL:dS,ATOM:hS,COLLECTION:mS,ALL:rB};class oB extends Error{}class iB extends Error{}function aB(t,e=Un.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return sB(t.trim(),e)}const sB=(t,e)=>{const n=t.length;let r=0;const a=C=>{throw new oB(`${C} at position ${r}`)},l=C=>{throw new iB(`${C} at position ${r}`)},c=()=>(w(),r>=n&&a("Unexpected end of input"),t[r]==='"'?h():t[r]==="{"?y():t[r]==="["?p():t.substring(r,r+4)==="null"||Un.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Un.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Un.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Un.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Un.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Un.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):_()),h=()=>{const C=r;let E=!1;for(r++;r<n&&(t[r]!=='"'||E&&t[r-1]==="\\");)E=t[r]==="\\"?!E:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(C,++r-Number(E)))}catch(k){l(String(k))}else if(Un.STR&e)try{return JSON.parse(t.substring(C,r-Number(E))+'"')}catch{return JSON.parse(t.substring(C,t.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},y=()=>{r++,w();const C={};try{for(;t[r]!=="}";){if(w(),r>=n&&Un.OBJ&e)return C;const E=h();w(),r++;try{const k=c();Object.defineProperty(C,E,{value:k,writable:!0,enumerable:!0,configurable:!0})}catch(k){if(Un.OBJ&e)return C;throw k}w(),t[r]===","&&r++}}catch{if(Un.OBJ&e)return C;a("Expected '}' at end of object")}return r++,C},p=()=>{r++;const C=[];try{for(;t[r]!=="]";)C.push(c()),w(),t[r]===","&&r++}catch{if(Un.ARR&e)return C;a("Expected ']' at end of array")}return r++,C},_=()=>{if(r===0){t==="-"&&Un.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t)}catch(E){if(Un.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}l(String(E))}}const C=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Un.NUM&e)&&a("Unterminated number literal");try{return JSON.parse(t.substring(C,r))}catch{t.substring(C,r)==="-"&&Un.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t.substring(C,t.lastIndexOf("e")))}catch(k){l(String(k))}}},w=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return c()},hw=t=>aB(t,Un.ALL^Un.NUM);var Sn,di,sl,fa,Vp,rd,Fp,qp,Gp,od,zp,mw;class wc extends tS{constructor(e){super(),Sn.add(this),di.set(this,void 0),sl.set(this,void 0),fa.set(this,void 0),dt(this,di,e),dt(this,sl,[])}get currentChatCompletionSnapshot(){return de(this,fa,"f")}static fromReadableStream(e){const n=new wc(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const a=new wc(n);return a._run(()=>a._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(e,n,r){var c;super._createChatCompletion;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),de(this,Sn,"m",Vp).call(this);const l=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const h of l)de(this,Sn,"m",Fp).call(this,h);if((c=l.controller.signal)!=null&&c.aborted)throw new Hr;return this._addChatCompletion(de(this,Sn,"m",od).call(this))}async _fromReadableStream(e,n){var c;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),de(this,Sn,"m",Vp).call(this),this._connected();const a=Mo.fromReadableStream(e,this.controller);let l;for await(const h of a)l&&l!==h.id&&this._addChatCompletion(de(this,Sn,"m",od).call(this)),de(this,Sn,"m",Fp).call(this,h),l=h.id;if((c=a.controller.signal)!=null&&c.aborted)throw new Hr;return this._addChatCompletion(de(this,Sn,"m",od).call(this))}[(di=new WeakMap,sl=new WeakMap,fa=new WeakMap,Sn=new WeakSet,Vp=function(){this.ended||dt(this,fa,void 0)},rd=function(n){let r=de(this,sl,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},de(this,sl,"f")[n.index]=r,r)},Fp=function(n){var a,l,c,h,y,p,_,w,C,E,k,N,O,B,P;if(this.ended)return;const r=de(this,Sn,"m",mw).call(this,n);this._emit("chunk",n,r);for(const q of n.choices){const J=r.choices[q.index];q.delta.content!=null&&((a=J.message)==null?void 0:a.role)==="assistant"&&((l=J.message)!=null&&l.content)&&(this._emit("content",q.delta.content,J.message.content),this._emit("content.delta",{delta:q.delta.content,snapshot:J.message.content,parsed:J.message.parsed})),q.delta.refusal!=null&&((c=J.message)==null?void 0:c.role)==="assistant"&&((h=J.message)!=null&&h.refusal)&&this._emit("refusal.delta",{delta:q.delta.refusal,snapshot:J.message.refusal}),((y=q.logprobs)==null?void 0:y.content)!=null&&((p=J.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(_=q.logprobs)==null?void 0:_.content,snapshot:((w=J.logprobs)==null?void 0:w.content)??[]}),((C=q.logprobs)==null?void 0:C.refusal)!=null&&((E=J.message)==null?void 0:E.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(k=q.logprobs)==null?void 0:k.refusal,snapshot:((N=J.logprobs)==null?void 0:N.refusal)??[]});const ee=de(this,Sn,"m",rd).call(this,J);J.finish_reason&&(de(this,Sn,"m",Gp).call(this,J),ee.current_tool_call_index!=null&&de(this,Sn,"m",qp).call(this,J,ee.current_tool_call_index));for(const ge of q.delta.tool_calls??[])ee.current_tool_call_index!==ge.index&&(de(this,Sn,"m",Gp).call(this,J),ee.current_tool_call_index!=null&&de(this,Sn,"m",qp).call(this,J,ee.current_tool_call_index)),ee.current_tool_call_index=ge.index;for(const ge of q.delta.tool_calls??[]){const H=(O=J.message.tool_calls)==null?void 0:O[ge.index];H!=null&&H.type&&((H==null?void 0:H.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(B=H.function)==null?void 0:B.name,index:ge.index,arguments:H.function.arguments,parsed_arguments:H.function.parsed_arguments,arguments_delta:((P=ge.function)==null?void 0:P.arguments)??""}):(H==null||H.type,void 0))}}},qp=function(n,r){var c,h,y;if(de(this,Sn,"m",rd).call(this,n).done_tool_calls.has(r))return;const l=(c=n.message.tool_calls)==null?void 0:c[r];if(!l)throw new Error("no tool call snapshot");if(!l.type)throw new Error("tool call snapshot missing `type`");if(l.type==="function"){const p=(y=(h=de(this,di,"f"))==null?void 0:h.tools)==null?void 0:y.find(_=>_.type==="function"&&_.function.name===l.function.name);this._emit("tool_calls.function.arguments.done",{name:l.function.name,index:r,arguments:l.function.arguments,parsed_arguments:Mc(p)?p.$parseRaw(l.function.arguments):p!=null&&p.function.strict?JSON.parse(l.function.arguments):null})}else l.type},Gp=function(n){var a,l;const r=de(this,Sn,"m",rd).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const c=de(this,Sn,"m",zp).call(this);this._emit("content.done",{content:n.message.content,parsed:c?c.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(a=n.logprobs)!=null&&a.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(l=n.logprobs)!=null&&l.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},od=function(){if(this.ended)throw new ft("stream has ended, this shouldn't happen");const n=de(this,fa,"f");if(!n)throw new ft("request ended without sending any chunks");return dt(this,fa,void 0),dt(this,sl,[]),lB(n,de(this,di,"f"))},zp=function(){var r;const n=(r=de(this,di,"f"))==null?void 0:r.response_format;return hy(n)?n:null},mw=function(n){var r,a,l,c;let h=de(this,fa,"f");const{choices:y,...p}=n;h?Object.assign(h,p):h=dt(this,fa,{...p,choices:[]});for(const{delta:_,finish_reason:w,index:C,logprobs:E=null,...k}of n.choices){let N=h.choices[C];if(N||(N=h.choices[C]={finish_reason:w,index:C,message:{},logprobs:E,...k}),E)if(!N.logprobs)N.logprobs=Object.assign({},E);else{const{content:ge,refusal:H,...be}=E;Object.assign(N.logprobs,be),ge&&((r=N.logprobs).content??(r.content=[]),N.logprobs.content.push(...ge)),H&&((a=N.logprobs).refusal??(a.refusal=[]),N.logprobs.refusal.push(...H))}if(w&&(N.finish_reason=w,de(this,di,"f")&&WC(de(this,di,"f")))){if(w==="length")throw new IC;if(w==="content_filter")throw new DC}if(Object.assign(N,k),!_)continue;const{content:O,refusal:B,function_call:P,role:q,tool_calls:J,...ee}=_;if(Object.assign(N.message,ee),B&&(N.message.refusal=(N.message.refusal||"")+B),q&&(N.message.role=q),P&&(N.message.function_call?(P.name&&(N.message.function_call.name=P.name),P.arguments&&((l=N.message.function_call).arguments??(l.arguments=""),N.message.function_call.arguments+=P.arguments)):N.message.function_call=P),O&&(N.message.content=(N.message.content||"")+O,!N.message.refusal&&de(this,Sn,"m",zp).call(this)&&(N.message.parsed=hw(N.message.content))),J){N.message.tool_calls||(N.message.tool_calls=[]);for(const{index:ge,id:H,type:be,function:ne,...ye}of J){const Ce=(c=N.message.tool_calls)[ge]??(c[ge]={});Object.assign(Ce,ye),H&&(Ce.id=H),be&&(Ce.type=be),ne&&(Ce.function??(Ce.function={name:ne.name??"",arguments:""})),ne!=null&&ne.name&&(Ce.function.name=ne.name),ne!=null&&ne.arguments&&(Ce.function.arguments+=ne.arguments,eB(de(this,di,"f"),Ce)&&(Ce.function.parsed_arguments=hw(Ce.function.arguments)))}}}return h},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",a=>{const l=n.shift();l?l.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const l of n)l.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const l of n)l.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((l,c)=>n.push({resolve:l,reject:c})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Mo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function lB(t,e){const{id:n,choices:r,created:a,model:l,system_fingerprint:c,...h}=t,y={...h,id:n,choices:r.map(({message:p,finish_reason:_,index:w,logprobs:C,...E})=>{if(!_)throw new ft(`missing finish_reason for choice ${w}`);const{content:k=null,function_call:N,tool_calls:O,...B}=p,P=p.role;if(!P)throw new ft(`missing role for choice ${w}`);if(N){const{arguments:q,name:J}=N;if(q==null)throw new ft(`missing function_call.arguments for choice ${w}`);if(!J)throw new ft(`missing function_call.name for choice ${w}`);return{...E,message:{content:k,function_call:{arguments:q,name:J},role:P,refusal:p.refusal??null},finish_reason:_,index:w,logprobs:C}}return O?{...E,index:w,finish_reason:_,logprobs:C,message:{...B,role:P,content:k,refusal:p.refusal??null,tool_calls:O.map((q,J)=>{const{function:ee,type:ge,id:H,...be}=q,{arguments:ne,name:ye,...Ce}=ee||{};if(H==null)throw new ft(`missing choices[${w}].tool_calls[${J}].id
${id(t)}`);if(ge==null)throw new ft(`missing choices[${w}].tool_calls[${J}].type
${id(t)}`);if(ye==null)throw new ft(`missing choices[${w}].tool_calls[${J}].function.name
${id(t)}`);if(ne==null)throw new ft(`missing choices[${w}].tool_calls[${J}].function.arguments
${id(t)}`);return{...be,id:H,type:ge,function:{...Ce,name:ye,arguments:ne}}})}}:{...E,message:{...B,content:k,role:P,refusal:p.refusal??null},finish_reason:_,index:w,logprobs:C}}),created:a,model:l,object:"chat.completion",...c?{system_fingerprint:c}:{}};return Q4(y,e)}function id(t){return JSON.stringify(t)}class Qd extends wc{static fromReadableStream(e){const n=new Qd(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const a=new Qd(n),l={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,n,l)),a}}let gy=class extends mt{constructor(){super(...arguments),this.messages=new XC(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(Be`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(Be`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",gn,{query:e,...n})}delete(e,n){return this._client.delete(Be`/chat/completions/${e}`,n)}parse(e,n){return tB(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>my(r,e))}runTools(e,n){return e.stream?Qd.runTools(this._client,e,n):py.runTools(this._client,e,n)}stream(e,n){return wc.createChatCompletion(this._client,e,n)}};gy.Messages=XC;class yy extends mt{constructor(){super(...arguments),this.completions=new gy(this._client)}}yy.Completions=gy;const pS=Symbol("brand.privateNullableHeaders");function*uB(t){if(!t)return;if(pS in t){const{values:r,nulls:a}=t;yield*r.entries();for(const l of a)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():ew(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=ew(r[1])?r[1]:[r[1]];let c=!1;for(const h of l)h!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,h])}}const nt=t=>{const e=new Headers,n=new Set;for(const r of t){const a=new Set;for(const[l,c]of uB(r)){const h=l.toLowerCase();a.has(h)||(e.delete(l),a.add(h)),c===null?(e.delete(l),n.add(h)):(e.append(l,c),n.delete(h))}}return{[pS]:!0,values:e,nulls:n}};class gS extends mt{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:nt([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class yS extends mt{create(e,n){return this._client.post("/audio/transcriptions",us({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class vS extends mt{create(e,n){return this._client.post("/audio/translations",us({body:e,...n,__metadata:{model:e.model}},this._client))}}class kc extends mt{constructor(){super(...arguments),this.transcriptions=new yS(this._client),this.translations=new vS(this._client),this.speech=new gS(this._client)}}kc.Transcriptions=yS;kc.Translations=vS;kc.Speech=gS;class bS extends mt{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(Be`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",gn,{query:e,...n})}cancel(e,n){return this._client.post(Be`/batches/${e}/cancel`,n)}}class _S extends mt{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(Be`/assistants/${e}`,{...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(Be`/assistants/${e}`,{body:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/assistants",gn,{query:e,...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(Be`/assistants/${e}`,{...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class xS extends mt{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class wS extends mt{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class xh extends mt{constructor(){super(...arguments),this.sessions=new xS(this._client),this.transcriptionSessions=new wS(this._client)}}xh.Sessions=xS;xh.TranscriptionSessions=wS;class TS extends mt{create(e,n,r){return this._client.post(Be`/threads/${e}/messages`,{body:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{thread_id:a}=n;return this._client.get(Be`/threads/${a}/messages/${e}`,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:a,...l}=n;return this._client.post(Be`/threads/${a}/messages/${e}`,{body:l,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(Be`/threads/${e}/messages`,gn,{query:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{thread_id:a}=n;return this._client.delete(Be`/threads/${a}/messages/${e}`,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class CS extends mt{retrieve(e,n,r){const{thread_id:a,run_id:l,...c}=n;return this._client.get(Be`/threads/${a}/runs/${l}/steps/${e}`,{query:c,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n,r){const{thread_id:a,...l}=n;return this._client.getAPIList(Be`/threads/${a}/runs/${e}/steps`,gn,{query:l,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const cB=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let a=0;a<n;a++)r[a]=e.charCodeAt(a);return Array.from(new Float32Array(r.buffer))}};var Kp={};const tc=t=>{var e,n,r,a;if(typeof globalThis.process<"u")return((e=Kp==null?void 0:Kp[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(a=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:a.trim()};var $n,ts,Ug,Eo,bd,ao,ns,ml,es,Wd,kr,_d,xd,vc,dc,hc,pw,gw,yw,vw,bw,_w,xw;class bc extends dy{constructor(){super(...arguments),$n.add(this),Ug.set(this,[]),Eo.set(this,{}),bd.set(this,{}),ao.set(this,void 0),ns.set(this,void 0),ml.set(this,void 0),es.set(this,void 0),Wd.set(this,void 0),kr.set(this,void 0),_d.set(this,void 0),xd.set(this,void 0),vc.set(this,void 0)}[(Ug=new WeakMap,Eo=new WeakMap,bd=new WeakMap,ao=new WeakMap,ns=new WeakMap,ml=new WeakMap,es=new WeakMap,Wd=new WeakMap,kr=new WeakMap,_d=new WeakMap,xd=new WeakMap,vc=new WeakMap,$n=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",a=>{const l=n.shift();l?l.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const l of n)l.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const l of n)l.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((l,c)=>n.push({resolve:l,reject:c})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new ts;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var l;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=Mo.fromReadableStream(e,this.controller);for await(const c of a)de(this,$n,"m",dc).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Hr;return this._addRun(de(this,$n,"m",hc).call(this))}toReadableStream(){return new Mo(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,a){const l=new ts;return l._run(()=>l._runToolAssistantStream(e,n,r,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createToolAssistantStream(e,n,r,a){var y;const l=a==null?void 0:a.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const c={...r,stream:!0},h=await e.submitToolOutputs(n,c,{...a,signal:this.controller.signal});this._connected();for await(const p of h)de(this,$n,"m",dc).call(this,p);if((y=h.controller.signal)!=null&&y.aborted)throw new Hr;return this._addRun(de(this,$n,"m",hc).call(this))}static createThreadAssistantStream(e,n,r){const a=new ts;return a._run(()=>a._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(e,n,r,a){const l=new ts;return l._run(()=>l._runAssistantStream(e,n,r,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),l}currentEvent(){return de(this,_d,"f")}currentRun(){return de(this,xd,"f")}currentMessageSnapshot(){return de(this,ao,"f")}currentRunStepSnapshot(){return de(this,vc,"f")}async finalRunSteps(){return await this.done(),Object.values(de(this,Eo,"f"))}async finalMessages(){return await this.done(),Object.values(de(this,bd,"f"))}async finalRun(){if(await this.done(),!de(this,ns,"f"))throw Error("Final run was not received.");return de(this,ns,"f")}async _createThreadAssistantStream(e,n,r){var h;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const l={...n,stream:!0},c=await e.createAndRun(l,{...r,signal:this.controller.signal});this._connected();for await(const y of c)de(this,$n,"m",dc).call(this,y);if((h=c.controller.signal)!=null&&h.aborted)throw new Hr;return this._addRun(de(this,$n,"m",hc).call(this))}async _createAssistantStream(e,n,r,a){var y;const l=a==null?void 0:a.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const c={...r,stream:!0},h=await e.create(n,c,{...a,signal:this.controller.signal});this._connected();for await(const p of h)de(this,$n,"m",dc).call(this,p);if((y=h.controller.signal)!=null&&y.aborted)throw new Hr;return this._addRun(de(this,$n,"m",hc).call(this))}static accumulateDelta(e,n){for(const[r,a]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=a;continue}let l=e[r];if(l==null){e[r]=a;continue}if(r==="index"||r==="type"){e[r]=a;continue}if(typeof l=="string"&&typeof a=="string")l+=a;else if(typeof l=="number"&&typeof a=="number")l+=a;else if(Lp(l)&&Lp(a))l=this.accumulateDelta(l,a);else if(Array.isArray(l)&&Array.isArray(a)){if(l.every(c=>typeof c=="string"||typeof c=="number")){l.push(...a);continue}for(const c of a){if(!Lp(c))throw new Error(`Expected array delta entry to be an object but got: ${c}`);const h=c.index;if(h==null)throw console.error(c),new Error("Expected array delta entry to have an `index` property");if(typeof h!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${h}`);const y=l[h];y==null?l.push(c):l[h]=this.accumulateDelta(y,c)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${a}, accValue: ${l}`);e[r]=l}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,a){return await this._createAssistantStream(n,e,r,a)}async _runToolAssistantStream(e,n,r,a){return await this._createToolAssistantStream(n,e,r,a)}}ts=bc,dc=function(e){if(!this.ended)switch(dt(this,_d,e),de(this,$n,"m",yw).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":de(this,$n,"m",xw).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":de(this,$n,"m",gw).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":de(this,$n,"m",pw).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},hc=function(){if(this.ended)throw new ft("stream has ended, this shouldn't happen");if(!de(this,ns,"f"))throw Error("Final run has not been received");return de(this,ns,"f")},pw=function(e){const[n,r]=de(this,$n,"m",bw).call(this,e,de(this,ao,"f"));dt(this,ao,n),de(this,bd,"f")[n.id]=n;for(const a of r){const l=n.content[a.index];(l==null?void 0:l.type)=="text"&&this._emit("textCreated",l.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const a of e.data.delta.content){if(a.type=="text"&&a.text){let l=a.text,c=n.content[a.index];if(c&&c.type=="text")this._emit("textDelta",l,c.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=de(this,ml,"f")){if(de(this,es,"f"))switch(de(this,es,"f").type){case"text":this._emit("textDone",de(this,es,"f").text,de(this,ao,"f"));break;case"image_file":this._emit("imageFileDone",de(this,es,"f").image_file,de(this,ao,"f"));break}dt(this,ml,a.index)}dt(this,es,n.content[a.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(de(this,ml,"f")!==void 0){const a=e.data.content[de(this,ml,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,de(this,ao,"f"));break;case"text":this._emit("textDone",a.text,de(this,ao,"f"));break}}de(this,ao,"f")&&this._emit("messageDone",e.data),dt(this,ao,void 0)}},gw=function(e){const n=de(this,$n,"m",vw).call(this,e);switch(dt(this,vc,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const l of r.step_details.tool_calls)l.index==de(this,Wd,"f")?this._emit("toolCallDelta",l,n.step_details.tool_calls[l.index]):(de(this,kr,"f")&&this._emit("toolCallDone",de(this,kr,"f")),dt(this,Wd,l.index),dt(this,kr,n.step_details.tool_calls[l.index]),de(this,kr,"f")&&this._emit("toolCallCreated",de(this,kr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":dt(this,vc,void 0),e.data.step_details.type=="tool_calls"&&de(this,kr,"f")&&(this._emit("toolCallDone",de(this,kr,"f")),dt(this,kr,void 0)),this._emit("runStepDone",e.data,n);break}},yw=function(e){de(this,Ug,"f").push(e),this._emit("event",e)},vw=function(e){switch(e.event){case"thread.run.step.created":return de(this,Eo,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=de(this,Eo,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const a=ts.accumulateDelta(n,r.delta);de(this,Eo,"f")[e.data.id]=a}return de(this,Eo,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":de(this,Eo,"f")[e.data.id]=e.data;break}if(de(this,Eo,"f")[e.data.id])return de(this,Eo,"f")[e.data.id];throw new Error("No snapshot available")},bw=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(const l of a.delta.content)if(l.index in n.content){let c=n.content[l.index];n.content[l.index]=de(this,$n,"m",_w).call(this,l,c)}else n.content[l.index]=l,r.push(l);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_w=function(e,n){return ts.accumulateDelta(n,e)},xw=function(e){switch(dt(this,xd,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":dt(this,ns,e.data),de(this,kr,"f")&&(this._emit("toolCallDone",de(this,kr,"f")),dt(this,kr,void 0));break}};let vy=class extends mt{constructor(){super(...arguments),this.steps=new CS(this._client)}create(e,n,r){const{include:a,...l}=n;return this._client.post(Be`/threads/${e}/runs`,{query:{include:a},body:l,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:a}=n;return this._client.get(Be`/threads/${a}/runs/${e}`,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:a,...l}=n;return this._client.post(Be`/threads/${a}/runs/${e}`,{body:l,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(Be`/threads/${e}/runs`,gn,{query:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{thread_id:a}=n;return this._client.post(Be`/threads/${a}/runs/${e}/cancel`,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const a=await this.create(e,n,r);return await this.poll(a.id,{thread_id:e},r)}createAndStream(e,n,r){return bc.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){var l;const a=nt([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((l=r==null?void 0:r.pollIntervalMs)==null?void 0:l.toString())??void 0}]);for(;;){const{data:c,response:h}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...a}}).withResponse();switch(c.status){case"queued":case"in_progress":case"cancelling":let y=5e3;if(r!=null&&r.pollIntervalMs)y=r.pollIntervalMs;else{const p=h.headers.get("openai-poll-after-ms");if(p){const _=parseInt(p);isNaN(_)||(y=_)}}await Rc(y);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return c}}}stream(e,n,r){return bc.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:a,...l}=n;return this._client.post(Be`/threads/${a}/runs/${e}/submit_tool_outputs`,{body:l,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const a=await this.submitToolOutputs(e,n,r);return await this.poll(a.id,n,r)}submitToolOutputsStream(e,n,r){return bc.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};vy.Steps=CS;class wh extends mt{constructor(){super(...arguments),this.runs=new vy(this._client),this.messages=new TS(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(Be`/threads/${e}`,{...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(Be`/threads/${e}`,{body:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n){return this._client.delete(Be`/threads/${e}`,{...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return bc.createThreadAssistantStream(e,this._client.beta.threads,n)}}wh.Runs=vy;wh.Messages=TS;class Nc extends mt{constructor(){super(...arguments),this.realtime=new xh(this._client),this.assistants=new _S(this._client),this.threads=new wh(this._client)}}Nc.Realtime=xh;Nc.Assistants=_S;Nc.Threads=wh;class SS extends mt{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class ES extends mt{retrieve(e,n,r){const{container_id:a}=n;return this._client.get(Be`/containers/${a}/files/${e}/content`,{...r,headers:nt([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let by=class extends mt{constructor(){super(...arguments),this.content=new ES(this._client)}create(e,n,r){return this._client.post(Be`/containers/${e}/files`,us({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:a}=n;return this._client.get(Be`/containers/${a}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(Be`/containers/${e}/files`,gn,{query:n,...r})}delete(e,n,r){const{container_id:a}=n;return this._client.delete(Be`/containers/${a}/files/${e}`,{...r,headers:nt([{Accept:"*/*"},r==null?void 0:r.headers])})}};by.Content=ES;class _y extends mt{constructor(){super(...arguments),this.files=new by(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(Be`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",gn,{query:e,...n})}delete(e,n){return this._client.delete(Be`/containers/${e}`,{...n,headers:nt([{Accept:"*/*"},n==null?void 0:n.headers])})}}_y.Files=by;class AS extends mt{create(e,n){const r=!!e.encoding_format;let a=r?e.encoding_format:"base64";r&&jn(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const l=this._client.post("/embeddings",{body:{...e,encoding_format:a},...n});return r?l:(jn(this._client).debug("embeddings/decoding base64 embeddings from base64"),l._thenUnwrap(c=>(c&&c.data&&c.data.forEach(h=>{const y=h.embedding;h.embedding=cB(y)}),c)))}}class RS extends mt{retrieve(e,n,r){const{eval_id:a,run_id:l}=n;return this._client.get(Be`/evals/${a}/runs/${l}/output_items/${e}`,r)}list(e,n,r){const{eval_id:a,...l}=n;return this._client.getAPIList(Be`/evals/${a}/runs/${e}/output_items`,gn,{query:l,...r})}}class xy extends mt{constructor(){super(...arguments),this.outputItems=new RS(this._client)}create(e,n,r){return this._client.post(Be`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:a}=n;return this._client.get(Be`/evals/${a}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(Be`/evals/${e}/runs`,gn,{query:n,...r})}delete(e,n,r){const{eval_id:a}=n;return this._client.delete(Be`/evals/${a}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:a}=n;return this._client.post(Be`/evals/${a}/runs/${e}`,r)}}xy.OutputItems=RS;class wy extends mt{constructor(){super(...arguments),this.runs=new xy(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(Be`/evals/${e}`,n)}update(e,n,r){return this._client.post(Be`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",gn,{query:e,...n})}delete(e,n){return this._client.delete(Be`/evals/${e}`,n)}}wy.Runs=xy;let MS=class extends mt{create(e,n){return this._client.post("/files",us({body:e,...n},this._client))}retrieve(e,n){return this._client.get(Be`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",gn,{query:e,...n})}delete(e,n){return this._client.delete(Be`/files/${e}`,n)}content(e,n){return this._client.get(Be`/files/${e}/content`,{...n,headers:nt([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),l=Date.now();let c=await this.retrieve(e);for(;!c.status||!a.has(c.status);)if(await Rc(n),c=await this.retrieve(e),Date.now()-l>r)throw new cy({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return c}};class kS extends mt{}let NS=class extends mt{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Ty extends mt{constructor(){super(...arguments),this.graders=new NS(this._client)}}Ty.Graders=NS;class IS extends mt{create(e,n,r){return this._client.getAPIList(Be`/fine_tuning/checkpoints/${e}/permissions`,_h,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.getAPIList(Be`/fine_tuning/checkpoints/${e}/permissions`,gn,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:a}=n;return this._client.delete(Be`/fine_tuning/checkpoints/${a}/permissions/${e}`,r)}}let Cy=class extends mt{constructor(){super(...arguments),this.permissions=new IS(this._client)}};Cy.Permissions=IS;class DS extends mt{list(e,n={},r){return this._client.getAPIList(Be`/fine_tuning/jobs/${e}/checkpoints`,gn,{query:n,...r})}}class Sy extends mt{constructor(){super(...arguments),this.checkpoints=new DS(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(Be`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",gn,{query:e,...n})}cancel(e,n){return this._client.post(Be`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(Be`/fine_tuning/jobs/${e}/events`,gn,{query:n,...r})}pause(e,n){return this._client.post(Be`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(Be`/fine_tuning/jobs/${e}/resume`,n)}}Sy.Checkpoints=DS;class Bl extends mt{constructor(){super(...arguments),this.methods=new kS(this._client),this.jobs=new Sy(this._client),this.checkpoints=new Cy(this._client),this.alpha=new Ty(this._client)}}Bl.Methods=kS;Bl.Jobs=Sy;Bl.Checkpoints=Cy;Bl.Alpha=Ty;class OS extends mt{}class Ey extends mt{constructor(){super(...arguments),this.graderModels=new OS(this._client)}}Ey.GraderModels=OS;class PS extends mt{createVariation(e,n){return this._client.post("/images/variations",us({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",us({body:e,...n},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class LS extends mt{retrieve(e,n){return this._client.get(Be`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",_h,e)}delete(e,n){return this._client.delete(Be`/models/${e}`,n)}}class US extends mt{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function fB(t,e){return!e||!hB(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:BS(t,e)}function BS(t,e){const n=t.output.map(a=>{if(a.type==="function_call")return{...a,parsed_arguments:gB(e,a)};if(a.type==="message"){const l=a.content.map(c=>c.type==="output_text"?{...c,parsed:dB(e,c.text)}:c);return{...a,content:l}}return a}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||VS(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const a of r.output)if(a.type==="message"){for(const l of a.content)if(l.type==="output_text"&&l.parsed!==null)return l.parsed}return null}}),r}function dB(t,e){var n,r,a,l;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((a=t.text)==null?void 0:a.format)?((l=t.text)==null?void 0:l.format).$parseRaw(e):JSON.parse(e)}function hB(t){var e;return!!hy((e=t.text)==null?void 0:e.format)}function mB(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function pB(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function gB(t,e){const n=pB(t.tools??[],e.name);return{...e,...e,parsed_arguments:mB(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function VS(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var ll,ad,da,sd,ww,Tw,Cw,Sw;class Ay extends dy{constructor(e){super(),ll.add(this),ad.set(this,void 0),da.set(this,void 0),sd.set(this,void 0),dt(this,ad,e)}static createResponse(e,n,r){const a=new Ay(n);return a._run(()=>a._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createOrRetrieveResponse(e,n,r){var h;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),de(this,ll,"m",ww).call(this);let l,c=null;"response_id"in n?(l=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),c=n.starting_after??null):l=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const y of l)de(this,ll,"m",Tw).call(this,y,c);if((h=l.controller.signal)!=null&&h.aborted)throw new Hr;return de(this,ll,"m",Cw).call(this)}[(ad=new WeakMap,da=new WeakMap,sd=new WeakMap,ll=new WeakSet,ww=function(){this.ended||dt(this,da,void 0)},Tw=function(n,r){if(this.ended)return;const a=(c,h)=>{(r==null||h.sequence_number>r)&&this._emit(c,h)},l=de(this,ll,"m",Sw).call(this,n);switch(a("event",n),n.type){case"response.output_text.delta":{const c=l.output[n.output_index];if(!c)throw new ft(`missing output at index ${n.output_index}`);if(c.type==="message"){const h=c.content[n.content_index];if(!h)throw new ft(`missing content at index ${n.content_index}`);if(h.type!=="output_text")throw new ft(`expected content to be 'output_text', got ${h.type}`);a("response.output_text.delta",{...n,snapshot:h.text})}break}case"response.function_call_arguments.delta":{const c=l.output[n.output_index];if(!c)throw new ft(`missing output at index ${n.output_index}`);c.type==="function_call"&&a("response.function_call_arguments.delta",{...n,snapshot:c.arguments});break}default:a(n.type,n);break}},Cw=function(){if(this.ended)throw new ft("stream has ended, this shouldn't happen");const n=de(this,da,"f");if(!n)throw new ft("request ended without sending any events");dt(this,da,void 0);const r=yB(n,de(this,ad,"f"));return dt(this,sd,r),r},Sw=function(n){let r=de(this,da,"f");if(!r){if(n.type!=="response.created")throw new ft(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=dt(this,da,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const a=r.output[n.output_index];if(!a)throw new ft(`missing output at index ${n.output_index}`);a.type==="message"&&a.content.push(n.part);break}case"response.output_text.delta":{const a=r.output[n.output_index];if(!a)throw new ft(`missing output at index ${n.output_index}`);if(a.type==="message"){const l=a.content[n.content_index];if(!l)throw new ft(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new ft(`expected content to be 'output_text', got ${l.type}`);l.text+=n.delta}break}case"response.function_call_arguments.delta":{const a=r.output[n.output_index];if(!a)throw new ft(`missing output at index ${n.output_index}`);a.type==="function_call"&&(a.arguments+=n.delta);break}case"response.completed":{dt(this,da,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",a=>{const l=n.shift();l?l.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const l of n)l.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const l of n)l.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((l,c)=>n.push({resolve:l,reject:c})).then(l=>l?{value:l,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=de(this,sd,"f");if(!e)throw new ft("stream ended without producing a ChatCompletion");return e}}function yB(t,e){return fB(t,e)}class FS extends mt{list(e,n={},r){return this._client.getAPIList(Be`/responses/${e}/input_items`,gn,{query:n,...r})}}class Ry extends mt{constructor(){super(...arguments),this.inputItems=new FS(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&VS(r),r))}retrieve(e,n={},r){return this._client.get(Be`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})}delete(e,n){return this._client.delete(Be`/responses/${e}`,{...n,headers:nt([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>BS(r,e))}stream(e,n){return Ay.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(Be`/responses/${e}/cancel`,n)}}Ry.InputItems=FS;class qS extends mt{create(e,n,r){return this._client.post(Be`/uploads/${e}/parts`,us({body:n,...r},this._client))}}class My extends mt{constructor(){super(...arguments),this.parts=new qS(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(Be`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(Be`/uploads/${e}/complete`,{body:n,...r})}}My.Parts=qS;const vB=async t=>{const e=await Promise.allSettled(t),n=e.filter(a=>a.status==="rejected");if(n.length){for(const a of n)console.error(a.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const a of e)a.status==="fulfilled"&&r.push(a.value);return r};class GS extends mt{create(e,n,r){return this._client.post(Be`/vector_stores/${e}/file_batches`,{body:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:a}=n;return this._client.get(Be`/vector_stores/${a}/file_batches/${e}`,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{vector_store_id:a}=n;return this._client.post(Be`/vector_stores/${a}/file_batches/${e}/cancel`,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const a=await this.create(e,n);return await this.poll(e,a.id,r)}listFiles(e,n,r){const{vector_store_id:a,...l}=n;return this._client.getAPIList(Be`/vector_stores/${a}/file_batches/${e}/files`,gn,{query:l,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(e,n,r){var l;const a=nt([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((l=r==null?void 0:r.pollIntervalMs)==null?void 0:l.toString())??void 0}]);for(;;){const{data:c,response:h}=await this.retrieve(n,{vector_store_id:e},{...r,headers:a}).withResponse();switch(c.status){case"in_progress":let y=5e3;if(r!=null&&r.pollIntervalMs)y=r.pollIntervalMs;else{const p=h.headers.get("openai-poll-after-ms");if(p){const _=parseInt(p);isNaN(_)||(y=_)}}await Rc(y);break;case"failed":case"cancelled":case"completed":return c}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},a){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const l=(a==null?void 0:a.maxConcurrency)??5,c=Math.min(l,n.length),h=this._client,y=n.values(),p=[...r];async function _(C){for(let E of C){const k=await h.files.create({file:E,purpose:"assistants"},a);p.push(k.id)}}const w=Array(c).fill(y).map(_);return await vB(w),await this.createAndPoll(e,{file_ids:p})}}class zS extends mt{create(e,n,r){return this._client.post(Be`/vector_stores/${e}/files`,{body:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:a}=n;return this._client.get(Be`/vector_stores/${a}/files/${e}`,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{vector_store_id:a,...l}=n;return this._client.post(Be`/vector_stores/${a}/files/${e}`,{body:l,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(Be`/vector_stores/${e}/files`,gn,{query:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{vector_store_id:a}=n;return this._client.delete(Be`/vector_stores/${a}/files/${e}`,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const a=await this.create(e,n,r);return await this.poll(e,a.id,r)}async poll(e,n,r){var l;const a=nt([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((l=r==null?void 0:r.pollIntervalMs)==null?void 0:l.toString())??void 0}]);for(;;){const c=await this.retrieve(n,{vector_store_id:e},{...r,headers:a}).withResponse(),h=c.data;switch(h.status){case"in_progress":let y=5e3;if(r!=null&&r.pollIntervalMs)y=r.pollIntervalMs;else{const p=c.response.headers.get("openai-poll-after-ms");if(p){const _=parseInt(p);isNaN(_)||(y=_)}}await Rc(y);break;case"failed":case"completed":return h}}}async upload(e,n,r){const a=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:a.id},r)}async uploadAndPoll(e,n,r){const a=await this.upload(e,n,r);return await this.poll(e,a.id,r)}content(e,n,r){const{vector_store_id:a}=n;return this._client.getAPIList(Be`/vector_stores/${a}/files/${e}/content`,_h,{...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Th extends mt{constructor(){super(...arguments),this.files=new zS(this._client),this.fileBatches=new GS(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(Be`/vector_stores/${e}`,{...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(Be`/vector_stores/${e}`,{body:n,...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",gn,{query:e,...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(Be`/vector_stores/${e}`,{...n,headers:nt([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(e,n,r){return this._client.getAPIList(Be`/vector_stores/${e}/search`,_h,{body:n,method:"post",...r,headers:nt([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Th.Files=zS;Th.FileBatches=GS;var Bg,ky,wd,KS;class kt{constructor({baseURL:e=tc("OPENAI_BASE_URL"),apiKey:n=tc("OPENAI_API_KEY"),organization:r=tc("OPENAI_ORG_ID")??null,project:a=tc("OPENAI_PROJECT_ID")??null,...l}={}){if(Bg.add(this),wd.set(this,void 0),this.completions=new SS(this),this.chat=new yy(this),this.embeddings=new AS(this),this.files=new MS(this),this.images=new PS(this),this.audio=new kc(this),this.moderations=new US(this),this.models=new LS(this),this.fineTuning=new Bl(this),this.graders=new Ey(this),this.vectorStores=new Th(this),this.beta=new Nc(this),this.batches=new bS(this),this.uploads=new My(this),this.responses=new Ry(this),this.evals=new wy(this),this.containers=new _y(this),n===void 0)throw new ft("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const c={apiKey:n,organization:r,project:a,...l,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&b4())throw new ft(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??ky.DEFAULT_TIMEOUT,this.logger=c.logger??console;const h="warn";this.logLevel=h,this.logLevel=cw(c.logLevel,"ClientOptions.logLevel",this)??cw(tc("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??h,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??C4(),dt(this,wd,E4),this._options=c,this.apiKey=n,this.organization=r,this.project=a}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}authHeaders(e){return nt([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return I4(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${fl}`}defaultIdempotencyKey(){return`stainless-node-retry-${TC()}`}makeStatusError(e,n,r,a){return Hn.generate(e,n,r,a)}buildURL(e,n,r){const a=!de(this,Bg,"m",KS).call(this)&&r||this.baseURL,l=h4(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return p4(c)||(n={...c,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(a=>({method:e,path:n,...a})))}request(e,n=null){return new bh(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var B,P;const a=await e,l=a.maxRetries??this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:c,url:h,timeout:y}=this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(c,{url:h,options:a});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,w=Date.now();if(jn(this).debug(`[${p}] sending request`,ja({retryOfRequestLogID:r,method:a.method,url:h,options:a,headers:c.headers})),(B=a.signal)!=null&&B.aborted)throw new Hr;const C=new AbortController,E=await this.fetchWithTimeout(h,c,y,C).catch(Rg),k=Date.now();if(E instanceof Error){const q=`retrying, ${n} attempts remaining`;if((P=a.signal)!=null&&P.aborted)throw new Hr;const J=Ag(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return jn(this).info(`[${p}] connection ${J?"timed out":"failed"} - ${q}`),jn(this).debug(`[${p}] connection ${J?"timed out":"failed"} (${q})`,ja({retryOfRequestLogID:r,url:h,durationMs:k-w,message:E.message})),this.retryRequest(a,n,r??p);throw jn(this).info(`[${p}] connection ${J?"timed out":"failed"} - error; no more retries left`),jn(this).debug(`[${p}] connection ${J?"timed out":"failed"} (error; no more retries left)`,ja({retryOfRequestLogID:r,url:h,durationMs:k-w,message:E.message})),J?new cy:new yh({cause:E})}const N=[...E.headers.entries()].filter(([q])=>q==="x-request-id").map(([q,J])=>", "+q+": "+JSON.stringify(J)).join(""),O=`[${p}${_}${N}] ${c.method} ${h} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${k-w}ms`;if(!E.ok){const q=this.shouldRetry(E);if(n&&q){const ne=`retrying, ${n} attempts remaining`;return await S4(E.body),jn(this).info(`${O} - ${ne}`),jn(this).debug(`[${p}] response error (${ne})`,ja({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:k-w})),this.retryRequest(a,n,r??p,E.headers)}const J=q?"error; no more retries left":"error; not retryable";jn(this).info(`${O} - ${J}`);const ee=await E.text().catch(ne=>Rg(ne).message),ge=v4(ee),H=ge?void 0:ee;throw jn(this).debug(`[${p}] response error (${J})`,ja({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:H,durationMs:Date.now()-w})),this.makeStatusError(E.status,ge,H,E.headers)}return jn(this).info(O),jn(this).debug(`[${p}] response start`,ja({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:k-w})),{response:E,options:a,controller:C,requestLogID:p,retryOfRequestLogID:r,startTime:w}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new q4(this,r,e)}async fetchWithTimeout(e,n,r,a){const{signal:l,method:c,...h}=n||{};l&&l.addEventListener("abort",()=>a.abort());const y=setTimeout(()=>a.abort(),r),p=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,_={signal:a.signal,...p?{duplex:"half"}:{},method:"GET",...h};c&&(_.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(y)}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,a){let l;const c=a==null?void 0:a.get("retry-after-ms");if(c){const y=parseFloat(c);Number.isNaN(y)||(l=y)}const h=a==null?void 0:a.get("retry-after");if(h&&!l){const y=parseFloat(h);Number.isNaN(y)?l=Date.parse(h)-Date.now():l=y*1e3}if(!(l&&0<=l&&l<60*1e3)){const y=e.maxRetries??this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,y)}return await Rc(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,c=Math.min(.5*Math.pow(2,l),8),h=1-Math.random()*.25;return c*h*1e3}buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:a,path:l,query:c,defaultBaseURL:h}=r,y=this.buildURL(l,c,h);"timeout"in r&&y4("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:p,body:_}=this.buildBody({options:r}),w=this.buildHeaders({options:e,method:a,bodyHeaders:p,retryCount:n});return{req:{method:a,headers:w,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"},..._&&{body:_},...this.fetchOptions??{},...r.fetchOptions??{}},url:y,timeout:r.timeout}}buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:a}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=nt([l,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...T4(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=nt([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:PC(e)}:de(this,wd,"f").call(this,{body:e,headers:r})}}ky=kt,wd=new WeakMap,Bg=new WeakSet,KS=function(){return this.baseURL!=="https://api.openai.com/v1"};kt.OpenAI=ky;kt.DEFAULT_TIMEOUT=6e5;kt.OpenAIError=ft;kt.APIError=Hn;kt.APIConnectionError=yh;kt.APIConnectionTimeoutError=cy;kt.APIUserAbortError=Hr;kt.NotFoundError=AC;kt.ConflictError=RC;kt.RateLimitError=kC;kt.BadRequestError=CC;kt.AuthenticationError=SC;kt.InternalServerError=NC;kt.PermissionDeniedError=EC;kt.UnprocessableEntityError=MC;kt.toFile=Y4;kt.Completions=SS;kt.Chat=yy;kt.Embeddings=AS;kt.Files=MS;kt.Images=PS;kt.Audio=kc;kt.Moderations=US;kt.Models=LS;kt.FineTuning=Bl;kt.Graders=Ey;kt.VectorStores=Th;kt.Beta=Nc;kt.Batches=bS;kt.Uploads=My;kt.Responses=Ry;kt.Evals=wy;kt.Containers=_y;let Vg=null,Td=null;const Ic=async()=>(Vg??(Vg=await Kt.getActiveApiKey(Bn)),Vg),$p=async()=>{Vg=await Kt.getActiveApiKey(Bn),Td=null},Ch=async()=>{const t=await Ic();return!Td&&t&&(Td=new kt({apiKey:t,dangerouslyAllowBrowser:!0})),Td},bB=t=>{const e=Array.isArray(t.text)?t.text.join(`
`):t.text;switch(t.sender){case"character":return{role:"assistant",content:e};case"user":default:return{role:"user",content:e}}},$S=t=>{const e=[],n=oy(t,void 0,!t.characterConversationBase),r=t.characterConversationBase?t.characterConversationBase+n:n;return e.push({role:"system",content:r}),t.characterInitialMessage&&t.characterInitialMessage.length>0&&e.push({role:"assistant",content:t.characterInitialMessage.join(`
`)}),t.messages&&t.messages.length>0&&t.messages.forEach(a=>{e.push(bB(a))}),e},AV=async(t,e="",n=1e3)=>{var r,a;try{if(!await Ic())throw new Error("OpenAI API key is not configured. Please configure your API key in the application settings.");const c=await Ch();if(!c)throw new Error("Failed to initialize OpenAI client");const h=$S(t),y=t.temperature||.7,_=(a=(r=(await c.chat.completions.create({model:e,messages:h,temperature:y,max_tokens:n})).choices[0])==null?void 0:r.message)==null?void 0:a.content;if(!_)throw new Error("No response received from OpenAI");return _}catch(l){throw console.error("Error getting chat completion:",l),l}},RV=async(t,e="",n=1e3,r)=>{var a,l;try{if(!await Ic())throw new Error("OpenAI API key is not configured. Please configure your API key in the application settings.");const h=await Ch();if(!h)throw new Error("Failed to initialize OpenAI client");const y=$S(t),p=t.temperature||.7,_=await h.chat.completions.create({model:e,messages:y,temperature:p,max_tokens:n,stream:!0});let w="";for await(const C of _){const E=((l=(a=C.choices[0])==null?void 0:a.delta)==null?void 0:l.content)??"";E&&(w+=E,r==null||r(E))}return w}catch(c){throw console.error("Error getting streaming chat completion:",c),c}},MV=(t,e="character")=>({id:`msg_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,sender:e,text:[t]}),kV=async()=>{try{if(!await Ic())return!1;const e=await Ch();return e?(await e.models.list(),!0):!1}catch(t){return console.error("Invalid OpenAI API key:",t),!1}},NV=async()=>!!await Ic(),IV=async()=>{try{const t=await Ch();return t?(await t.models.list()).data.filter(n=>n.id.includes("gpt")&&!n.id.includes("image")&&!n.id.includes("vision")&&!n.id.includes("dall-e")&&!n.id.includes("dalle")&&!n.id.includes("transcribe")).map(n=>n.id).sort((n,r)=>n.localeCompare(r)):[]}catch(t){return console.error("Error fetching available models:",t),[]}};let Fg=null;const Sh="https://openrouter.ai/api/v1",Eh=async()=>(Fg??(Fg=await Kt.getActiveApiKey(Rn)),Fg),Hp=async()=>{Fg=await Kt.getActiveApiKey(Rn)},_B=t=>{const e=Array.isArray(t.text)?t.text.join(`
`):t.text;switch(t.sender){case"character":return{role:"assistant",content:e};case"user":default:return{role:"user",content:e}}},HS=t=>{const e=[],n=oy(t,void 0,!t.characterConversationBase),r=t.characterConversationBase?t.characterConversationBase+n:n;return e.push({role:"system",content:r}),t.characterInitialMessage&&t.characterInitialMessage.length>0&&e.push({role:"assistant",content:t.characterInitialMessage.join(`
`)}),t.messages&&t.messages.length>0&&t.messages.forEach(a=>{e.push(_B(a))}),e},DV=async(t,e="openai/gpt-3.5-turbo",n=1e3)=>{var r,a;try{const l=await Eh();if(!l)throw new Error("OpenRouter API key is not configured. Please configure your API key in the application settings.");const c=HS(t),h=t.temperature||.7,y={model:e,messages:c,temperature:h,max_tokens:n},_=(a=(r=(await xC(`${Sh}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"TTInteractive Chat"},body:JSON.stringify(y)})).choices[0])==null?void 0:r.message)==null?void 0:a.content;if(!_)throw new Error("No response received from OpenRouter");return _}catch(l){throw console.error("Error getting chat completion:",l),l}},xB=(t,e)=>{var r,a;if(!t.startsWith("data: "))return{content:"",isDone:!1};const n=t.slice(6);if(n==="[DONE]")return{content:"",isDone:!0};try{const c=(a=(r=JSON.parse(n).choices[0])==null?void 0:r.delta)==null?void 0:a.content;if(c)return e==null||e(c),{content:c,isDone:!1}}catch{}return{content:"",isDone:!1}},wB=async(t,e)=>{var l;const n=(l=t.body)==null?void 0:l.getReader();if(!n)throw new Error("Failed to get response reader");let r="";const a=new TextDecoder;try{for(;;){const{done:c,value:h}=await n.read();if(c)break;const p=a.decode(h,{stream:!0}).split(`
`).filter(_=>_.trim());for(const _ of p){const{content:w,isDone:C}=xB(_,e);if(C)return r;r+=w}}}finally{n.releaseLock()}return r},OV=async(t,e="openai/gpt-3.5-turbo",n=1e3,r)=>{try{const a=await Eh();if(!a)throw new Error("OpenRouter API key is not configured. Please configure your API key in the application settings.");const l=HS(t),c=t.temperature||.7,h={model:e,messages:l,temperature:c,max_tokens:n,stream:!0},y=await fetch(`${Sh}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"TTInteractive Chat"},body:JSON.stringify(h)});if(!y.ok)throw new Error(`OpenRouter API error: ${y.status}`);return await wB(y,r)}catch(a){throw console.error("Error getting streaming chat completion:",a),a}},PV=(t,e="character")=>({id:`msg_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,sender:e,text:[t]}),LV=async()=>{try{const t=await Eh();return t?(await fetch(`${Sh}/models`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"HTTP-Referer":window.location.origin,"X-Title":"TTInteractive Chat"}})).ok:!1}catch(t){return console.error("Invalid OpenRouter API key:",t),!1}},UV=async()=>!!await Eh(),TB=t=>{var r,a;const e=(r=t==null?void 0:t.id)==null?void 0:r.toLowerCase(),n=(a=t==null?void 0:t.architecture)==null?void 0:a.modality;return!e.includes("vision")&&!e.includes("dalle")&&!e.includes("whisper")&&!e.includes("tts")&&!e.includes("embedding")&&(n==="text"||n==="text->text")},CB=(t,e)=>{const n=["openai/gpt-4o","openai/gpt-4o-mini","openai/gpt-3.5-turbo","anthropic/claude-3.5-sonnet","anthropic/claude-3-haiku","google/gemini-2.0-flash-exp","google/gemini-pro","meta-llama/llama-3.1-8b-instruct","mistralai/mistral-7b-instruct"],r=n.indexOf(t),a=n.indexOf(e);return r!==-1&&a!==-1?r-a:r!==-1?-1:a!==-1?1:t.localeCompare(e)},SB=()=>["openai/gpt-4o","openai/gpt-4o-mini","openai/gpt-3.5-turbo","anthropic/claude-3.5-sonnet","anthropic/claude-3-haiku","google/gemini-2.0-flash-exp","meta-llama/llama-3.1-8b-instruct","mistralai/mistral-7b-instruct"],BV=async()=>{try{return(await xC(`${Sh}/models`,{method:"GET",headers:{"HTTP-Referer":window.location.origin,"X-Title":"TTInteractive Chat"}})).data.filter(TB).map(e=>e.id).sort(CB)}catch(t){return console.error("Error fetching available OpenRouter models:",t),SB()}},EB=t=>{const e=t.toLowerCase();return e.includes("gpt-3.5-turbo")||e.includes("gemini-flash")||e.includes("llama-3.1-8b")||e.includes("mistral-7b")||e.includes("claude-3-haiku")?"free":e.includes("gpt-4o")||e.includes("claude-3.5-sonnet")||e.includes("claude-3-opus")||e.includes("gemini-pro")||e.includes("llama-3.1-70b")||e.includes("llama-3.1-405b")?"premium":"pro"},AB=t=>t.startsWith("openai/")?"OpenAI model via OpenRouter":t.startsWith("anthropic/")?"Anthropic Claude model via OpenRouter":t.startsWith("google/")?"Google Gemini model via OpenRouter":t.startsWith("meta-llama/")?"Meta Llama model via OpenRouter":t.startsWith("mistralai/")?"Mistral AI model via OpenRouter":"AI model via OpenRouter",VV=t=>({name:t,tier:EB(t),description:AB(t),provider:Rn}),RB=t=>!t||typeof t!="string"?!1:t.startsWith("sk-")&&t.length>=40,MB=t=>!t||typeof t!="string"?!1:t.startsWith("AI")&&t.length>=35,kB=t=>{if(!t||typeof t!="string")return!1;try{const e=new URL(t);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}},NB=t=>!t||typeof t!="string"?!1:t.startsWith("sk-or-")&&t.length>=40,IB=(t,e)=>{switch(e){case Bn:return RB(t);case Vn:return MB(t);case Nr:return kB(t);case Rn:return NB(t);default:return!1}},FV=t=>{switch(t){case Bn:return"OpenAI";case Vn:return"Google AI";case Nr:return"Ollama";case Rn:return"OpenRouter";default:return t}};let jd={hasOpenAIKey:!1,hasGoogleKey:!1,hasOllamaKey:!1,hasOpenRouterKey:!1,loading:!0,isSaving:!1};const Cd=new Set,DB=()=>{Cd.forEach(t=>t(jd))},sr=t=>{jd={...jd,...t},DB()},OB=()=>{const[t,e]=$.useState(jd);$.useEffect(()=>{const y=p=>{e(p)};return Cd.add(y),Cd.size===1&&n(),()=>{Cd.delete(y)}},[]);const n=async()=>{try{sr({loading:!0});const[y,p,_,w]=await Promise.all([Kt.hasApiKey(Bn),Kt.hasApiKey(Vn),Kt.hasApiKey(Nr),Kt.hasApiKey(Rn)]);sr({hasOpenAIKey:y,hasGoogleKey:p,hasOllamaKey:_,hasOpenRouterKey:w,loading:!1})}catch(y){console.error("Error checking API keys:",y),sr({loading:!1})}},r=async(y,p)=>{if(!c(y,p))throw new Error(`Invalid ${y} API key format`);try{switch(sr({isSaving:!0}),await Kt.saveApiKey(y,p.trim()),y){case Bn:await $p(),sr({hasOpenAIKey:!0});break;case Vn:await Pp(),sr({hasGoogleKey:!0});break;case Nr:sr({hasOllamaKey:!0});break;case Rn:await Hp(),sr({hasOpenRouterKey:!0});break}}catch(_){throw console.error(`Error saving ${y} key:`,_),_}finally{sr({isSaving:!1})}},a=async y=>{try{sr({isSaving:!0});const p=await Kt.getAllApiKeys(y);for(const _ of p)await Kt.deleteApiKey(_.id);switch(y){case Bn:await $p(),sr({hasOpenAIKey:!1});break;case Vn:await Pp(),sr({hasGoogleKey:!1});break;case Nr:sr({hasOllamaKey:!1});break;case Rn:await Hp(),sr({hasOpenRouterKey:!1});break}}catch(p){throw console.error(`Error removing ${y} key:`,p),p}finally{sr({isSaving:!1})}},l=async()=>{await Promise.all([$p(),Pp(),Hp()]),await n()},c=(y,p)=>IB(p,y);return{...t,saveApiKey:r,removeApiKey:a,refreshKeys:l,checkApiKeys:n,validateKey:c,hasApiKeyForProvider:y=>{switch(y){case Bn:return t.hasOpenAIKey;case Vn:return t.hasGoogleKey;case Nr:return t.hasOllamaKey;case Rn:return t.hasOpenRouterKey;default:return!1}}}},PB=({isOpen:t=!0,onClose:e,className:n="",showTitle:r=!0,modal:a=!1})=>{const{t:l}=ch(),{hasOpenAIKey:c,hasGoogleKey:h,hasOllamaKey:y,hasOpenRouterKey:p,isSaving:_,saveApiKey:w,removeApiKey:C,validateKey:E}=OB(),[k,N]=$.useState(""),[O,B]=$.useState(""),[P,q]=$.useState("http://localhost:11434"),[J,ee]=$.useState(""),ge=async(ne,ye)=>{if(ye.trim()){if(!E(ne,ye.trim())){switch(ne){case Bn:alert(l("apiKeys.openai.validation"));break;case Vn:alert(l("apiKeys.google.validation"));break;case Nr:alert(l("apiKeys.ollama.validation"));break;case Rn:alert(l("apiKeys.openrouter.validation"));break}return}try{switch(await w(ne,ye.trim()),ne){case Bn:N("");break;case Vn:B("");break;case Rn:ee("");break}}catch(Ce){console.error(`Error saving ${ne} key:`,Ce),alert(l("apiKeys.saveError"))}}},H=async ne=>{try{await C(ne)}catch(ye){console.error(`Error removing ${ne} key:`,ye),alert(l("apiKeys.removeError"))}},be=F.jsxs("div",{className:`w-full ${n}`,children:[r&&F.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:l("apiKeys.title")}),F.jsxs("div",{className:"mb-4",children:[F.jsx("span",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:l("apiKeys.openai.title")}),c?F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:l("apiKeys.configured")}),F.jsx("button",{onClick:()=>H(Bn),disabled:_,className:"text-xs text-red-600 dark:text-red-400 hover:underline disabled:opacity-50",children:l("common.remove")})]}):F.jsxs("div",{className:"flex gap-2",children:[F.jsx("input",{id:"openai-key-input",name:"openai-api-key",type:"password",value:k,onChange:ne=>N(ne.target.value),placeholder:l("apiKeys.openai.placeholder"),className:`flex-1 max-w-xs text-xs p-2 border rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 ${k&&!E(Bn,k)?"border-red-300 dark:border-red-500":"border-gray-300"}`,disabled:_}),F.jsx("button",{onClick:()=>ge(Bn,k),disabled:_||!k.trim()||!E(Bn,k),className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 w-16 cursor-pointer",children:_?"...":l("common.save")})]}),F.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[l("apiKeys.openai.description")," ",F.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:l("apiKeys.openai.link")})]})]}),F.jsxs("div",{className:"mb-2",children:[F.jsx("span",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:l("apiKeys.google.title")}),h?F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:l("apiKeys.configured")}),F.jsx("button",{onClick:()=>H(Vn),disabled:_,className:"text-xs text-red-600 dark:text-red-400 hover:underline disabled:opacity-50",children:l("common.remove")})]}):F.jsxs("div",{className:"flex gap-2",children:[F.jsx("input",{id:"google-key-input",name:"google-ai-api-key",type:"password",value:O,onChange:ne=>B(ne.target.value),placeholder:l("apiKeys.google.placeholder"),className:`flex-1 max-w-xs text-xs p-2 border rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 ${O&&!E(Vn,O)?"border-red-300 dark:border-red-500":"border-gray-300"}`,disabled:_}),F.jsx("button",{onClick:()=>ge(Vn,O),disabled:_||!O.trim()||!E(Vn,O),className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 w-16 cursor-pointer",children:_?"...":l("common.save")})]}),F.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[l("apiKeys.google.description")," ",F.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:l("apiKeys.google.link")})]})]}),F.jsxs("div",{className:"mt-4 mb-2",children:[F.jsx("span",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:l("apiKeys.openrouter.title")}),p?F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:l("apiKeys.configured")}),F.jsx("button",{onClick:()=>H(Rn),disabled:_,className:"text-xs text-red-600 dark:text-red-400 hover:underline disabled:opacity-50",children:l("common.remove")})]}):F.jsxs("div",{className:"flex gap-2",children:[F.jsx("input",{id:"openrouter-key-input",name:"openrouter-api-key",type:"password",value:J,onChange:ne=>ee(ne.target.value),placeholder:l("apiKeys.openrouter.placeholder"),className:`flex-1 max-w-xs text-xs p-2 border rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 ${J&&!E(Rn,J)?"border-red-300 dark:border-red-500":"border-gray-300"}`,disabled:_}),F.jsx("button",{onClick:()=>ge(Rn,J),disabled:_||!J.trim()||!E(Rn,J),className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 w-16 cursor-pointer",children:_?"...":l("common.save")})]}),F.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[l("apiKeys.openrouter.description")," ",F.jsx("a",{href:"https://openrouter.ai/keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:l("apiKeys.openrouter.link")}),". ",l("apiKeys.openrouter.additionalInfo")]})]}),F.jsxs("div",{className:"mt-4 mb-2",children:[F.jsxs("p",{className:"flex gap-2 text-xs font-medium text-gray-600 dark:text-gray-400 my-1",children:[l("apiKeys.ollama.title")," ",F.jsx("a",{href:P.trim(),target:"_blank",rel:"noopener noreferrer",className:"block mb-2 text-xs underline text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",children:F.jsx("i",{children:P.trim()})})]}),y?F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1",children:l("apiKeys.configured")}),F.jsx("button",{onClick:()=>H(Nr),disabled:_,className:"text-xs text-red-600 dark:text-red-400 hover:underline disabled:opacity-50",children:l("common.edit")})]}):F.jsxs("div",{className:"flex gap-2",children:[F.jsx("input",{id:"ollama-url-input",name:"ollama-base-url",type:"url",value:P,onChange:ne=>q(ne.target.value),placeholder:l("apiKeys.ollama.placeholder"),className:`flex-1 max-w-xs text-xs p-2 border rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 ${P&&!E(Nr,P)?"border-red-300 dark:border-red-500":"border-gray-300"}`,disabled:_}),F.jsx("button",{onClick:()=>ge(Nr,P),disabled:_||!P.trim()||!E(Nr,P),className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 w-16 cursor-pointer",children:_?"...":l("common.save")})]}),F.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[l("apiKeys.ollama.description")," ",F.jsx("a",{href:"https://ollama.ai",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:l("apiKeys.ollama.link")})]})]})]});return t?a?F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:F.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[F.jsxs("div",{className:"flex justify-between items-center mb-4",children:[F.jsx("h2",{className:"text-xl font-bold dark:text-white",children:l("apiKeys.title")}),e&&F.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),be,F.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-600",children:F.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.jsx("strong",{children:"Note:"})," API keys are stored locally in your browser's IndexedDB and are never sent to any server except the respective AI providers."]})})]})}):be:null},LB=({show:t,onClose:e})=>{const{theme:n,setTheme:r}=SN(),{t:a}=ch(),[l,c]=$.useState(pc()),[h,y]=$.useState(kp()),[p,_]=$.useState(!1),[w,C]=$.useState(!1);$.useEffect(()=>{t&&(c(pc()),y(kp()))},[t]);const E=P=>{const q=P.target.value;r(q)},k=P=>{const q={...l,maxTokens:P};c(q),lg({maxTokens:P})},N=P=>{const q={...l,temperature:P};c(q),lg({temperature:P})},O=()=>{const P=Vk(),q=JSON.stringify(P,null,2),J="data:application/json;charset=utf-8,"+encodeURIComponent(q),ee=`ttinteractive-backup-${new Date().toISOString().split("T")[0]}.json`,ge=document.createElement("a");ge.setAttribute("href",J),ge.setAttribute("download",ee),ge.click()},B=async()=>{C(!0);try{await Kt.clearAllData(),Bk(),c(pc()),y(kp()),_(!1),window.location.reload()}catch(P){console.error("Error clearing data:",P)}finally{C(!1)}};return F.jsxs(F.Fragment,{children:[F.jsx(HT,{show:t,onClose:e,title:a("settings.title"),cancelText:a("common.close"),children:F.jsxs("div",{className:"space-y-6",children:[F.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 gap-4",children:[F.jsxs("div",{children:[F.jsx(io,{className:"mb-2 block text-lg font-semibold",children:a("settings.general")}),F.jsx("div",{className:"space-y-3",children:F.jsx(EN,{})})]}),F.jsxs("div",{children:[F.jsx(io,{htmlFor:"theme-select",className:"mb-2 block text-lg font-semibold",children:a("settings.appearance")}),F.jsx("div",{className:"space-y-3",children:F.jsxs("div",{children:[F.jsx(io,{htmlFor:"theme-select",className:"mb-1 block text-sm",children:a("settings.theme")}),F.jsxs(LT,{id:"theme-select",value:n,onChange:E,className:"w-full",children:[F.jsx("option",{value:"light",children:a("settings.themes.light")}),F.jsx("option",{value:"dark",children:a("settings.themes.dark")}),F.jsx("option",{value:"auto",children:a("settings.themes.auto")})]}),F.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:a("settings.themeDescription")})]})})]})]}),F.jsxs("div",{children:[F.jsx(io,{className:"mb-2 block text-lg font-semibold",children:a("settings.advanced")}),F.jsxs("div",{className:"space-y-3",children:[F.jsxs("div",{children:[F.jsxs(io,{htmlFor:"max-tokens-range",className:"mb-1 block text-sm",children:[a("settings.maxTokens"),": ",l.maxTokens]}),F.jsx("input",{id:"max-tokens-range",name:"max-tokens",type:"range",min:"100",max:"4000",step:"100",value:l.maxTokens,onChange:P=>k(parseInt(P.target.value)),className:"w-full slider"}),F.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:a("settings.maxTokensDescription")})]}),F.jsxs("div",{children:[F.jsxs(io,{htmlFor:"temperature-range",className:"mb-1 block text-sm",children:[a("chat.temperature"),": ",l.temperature]}),F.jsx("input",{id:"temperature-range",name:"temperature",type:"range",min:"0",max:"1",step:"0.1",value:l.temperature,onChange:P=>N(parseFloat(P.target.value)),className:"w-full slider"}),F.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:a("chat.temperatureDescription")})]})]})]}),F.jsxs("div",{children:[F.jsx(io,{className:"mb-2 block text-lg font-semibold",children:a("apiKeys.title")}),F.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:F.jsx(PB,{showTitle:!1,className:"space-y-4"})})]}),F.jsxs("div",{children:[F.jsx(io,{className:"mb-2 block text-lg font-semibold",children:a("settings.dataManagement")}),F.jsxs("div",{className:"space-y-3",children:[F.jsxs("div",{children:[F.jsx(io,{className:"mb-1 block text-sm",children:a("settings.storageUsage")}),F.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:F.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${Math.min(h.percentage,100)}%`}})}),F.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[(h.used/1024).toFixed(1)," ",a("settings.storageDescription")," (",h.percentage.toFixed(1),"%)"]})]}),F.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 gap-4",children:[F.jsxs("div",{children:[F.jsx(Tl,{onClick:O,variant:"default",className:"w-full mb-3",children:a("settings.exportData")}),F.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:a("settings.exportDescription")})]}),F.jsxs("div",{children:[F.jsx(Tl,{onClick:()=>_(!0),variant:"alert",className:"w-full",children:a("settings.clearData")}),F.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:a("settings.clearDataDescription")})]})]})]})]})]})}),F.jsx(YT,{show:p,onClose:()=>_(!1),onConfirm:B,title:a("settings.clearData"),confirmText:a("common.confirm"),cancelText:a("common.cancel"),confirmColor:"danger",loading:w,children:F.jsx("p",{className:"text-center",children:a("settings.clearDataConfirmation")})})]})};function UB({open:t}){const{chats:e,currentChatId:n,deleteChat:r}=zk(),{t:a}=ch(),[l,c]=$.useState(!1),[h,y]=$.useState(null),[p,_]=$.useState(null),[w,C]=$.useState(!1),E=(O,B)=>{y(O),_(()=>B),c(!0)},k=()=>{c(!1),y(null),_(null)},N=()=>{p&&p(),k()};return F.jsxs(F.Fragment,{children:[F.jsx($.Suspense,{children:F.jsx(YT,{show:l,onClose:k,onConfirm:N,confirmText:a("common.remove"),cancelText:a("common.cancel"),children:h})}),F.jsx($.Suspense,{children:F.jsx(LB,{show:w,onClose:()=>C(!1)})}),F.jsx(BT,{className:`fixed z-40 h-screen w-64 transition-transform duration-300 ease-in-out bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 
        ${t?"translate-x-0":"-translate-x-full"}
        `,"aria-label":a("sidebar.chatListLabel"),children:F.jsxs(GT,{className:"h-full flex flex-col",children:[F.jsxs(ag,{className:"flex-1",children:[F.jsx("a",{className:"flex w-full mb-4",href:"#new-chat",children:F.jsxs(Tl,{className:"flex w-full gap-3 items-center justify-start",variant:"default",children:[F.jsx(Nk,{size:24}),F.jsx("span",{children:a("sidebar.newChat")})]})}),e!=null&&e.length?e.map(O=>F.jsxs("div",{className:"flex-1 flex justify-between items-center group",children:[F.jsx("a",{className:`flex-1 flex rounded-sm pl-2 py-1 items-center truncate ellipsis ${n===O.id?"bg-gray-300 dark:bg-gray-600":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,href:`#${O.id}`,children:F.jsx("span",{className:"w-full text-gray-800 dark:text-white block truncate",style:{color:O.characterColor},children:O.title})}),F.jsx("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),E(F.jsxs("p",{children:[a("sidebar.deleteConfirmation"),' "',O.title,'"?']}),()=>{r(O.id),n===O.id&&(window.location.hash="new-chat")})},className:"opacity-0 ml-auto cursor-pointer group-hover:opacity-60 transition-opacity py-2 pl-3 pr-2 -mr-2 text-red-600 hover:opacity-100",title:a("sidebar.deleteChat"),children:F.jsx(Dk,{})})]},O.id)):F.jsx(FT,{className:"flex pl-0 items-center justify-between",active:!1,onClick:()=>{},children:F.jsx("span",{className:"flex text-gray-600 dark:text-gray-400",children:a("sidebar.noChats")})})]}),F.jsx(ag,{className:"mt-auto",children:F.jsxs(Tl,{className:"flex gap-3 items-center justify-start w-full",variant:"default",onClick:()=>C(!0),children:[F.jsx(Ik,{}),F.jsx("span",{children:a("sidebar.settings")})]})})]})})]})}const BB=$.lazy(()=>CA(()=>import("./MainContent-BsyEbUd9.js").then(t=>t.M),[]));function VB(){const[t,e]=$.useState(!0);return F.jsxs("div",{className:"w-full flex bg-gray-200 dark:bg-gray-900",children:[F.jsx(UB,{setOpen:e,open:t}),F.jsxs("div",{className:`flex-1 relative flex flex-col transition-all duration-300 ease-in-out items-center min-h-screen ${t?"md:ml-64":"ml-0 pr-1"}`,children:[F.jsx("button",{className:`fixed z-40 opacity-50 border-r border-b md:w-auto md:h-auto hover:opacity-80 transition-all duration-300 ease-in-out bg-gray-200 dark:bg-gray-900 shadow-md flex justify-between items-center overflow-hidden rounded-br-xl rounded-tr-xl ${t?"left-64 w-full h-full":"left-0"}`,onClick:()=>e(!t),children:F.jsx("span",{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 p-2 mb-auto transition-colors duration-300",children:F.jsx("img",{className:`transition-transform duration-300 ease-in-out transform ${t?"rotate-0":"rotate-180"}`,src:"https://ttalesinteractive.com/graphics/larrow.png",width:"25",height:"25",alt:"Menu"})})}),F.jsx("div",{className:"w-full flex flex-col items-center justify-center flex-1",children:F.jsx($.Suspense,{fallback:F.jsx("div",{className:"flex items-center justify-center h-full text-gray-600 dark:text-gray-400",children:"Loading..."}),children:F.jsx(BB,{})})})]})]})}const FB=({children:t})=>{const[e,n]=$.useState(()=>pc().theme),[r,a]=$.useState("light"),l=h=>{n(h),lg({theme:h})};$.useEffect(()=>{const h=()=>{let y;e==="auto"?y=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":y=e,a(y);const p=document.documentElement;y==="dark"?p.classList.add("dark"):p.classList.remove("dark")};if(h(),e==="auto"){const y=window.matchMedia("(prefers-color-scheme: dark)");return y.addEventListener("change",h),()=>y.removeEventListener("change",h)}},[e]);const c=$.useMemo(()=>({theme:e,actualTheme:r,setTheme:l}),[e,r]);return F.jsx(JT.Provider,{value:c,children:t})};xA.createRoot(document.getElementById("root")).render(F.jsx($.StrictMode,{children:F.jsx(FB,{children:F.jsx(Gk,{children:F.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-900",children:F.jsx(VB,{})})})})}));export{lV as $,NV as A,BV as B,vV as C,Kt as D,IV as E,PV as F,Cc as G,pV as H,MV as I,VV as J,bV as K,iV as L,sV as M,KB as N,Nr as O,FV as P,Tl as Q,pa as R,HT as S,zB as T,YT as U,HB as V,$B as W,uV as X,rV as Y,aV as Z,CA as _,Jr as a,oV as a0,io as a1,Xr as b,GB as c,zk as d,ch as e,oy as f,Rt as g,xC as h,Bn as i,F as j,Rn as k,DV as l,Vn as m,hV as n,AV as o,OV as p,mV as q,$ as r,RV as s,Fn as t,Zr as u,LV as v,gV as w,kV as x,UV as y,yV as z};
